ðŸ§ª Running unit tests...
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/.venv/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.12.3', 'Platform': 'Linux-6.14.0-37-generic-x86_64-with-glibc2.39', 'Packages': {'pytest': '9.0.2', 'pluggy': '1.6.0'}, 'Plugins': {'locust': '2.42.6', 'asyncio': '1.3.0', 'mock': '3.15.1', 'anyio': '4.12.0', 'metadata': '3.1.1', 'json-report': '1.5.0', 'cov': '7.0.0', 'benchmark': '5.2.3', 'testmon': '2.2.0', 'picked': '0.5.1'}}
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/grzegorz-lesniowski/cloud/RAE-agentic-memory
configfile: pytest.ini
testpaths: apps/memory_api/tests, integrations/context-watcher/tests, tests, test_enterprise_features.py, benchmarking/performance
plugins: locust-2.42.6, asyncio-1.3.0, mock-3.15.1, anyio-4.12.0, metadata-3.1.1, json-report-1.5.0, cov-7.0.0, benchmark-5.2.3, testmon-2.2.0, picked-0.5.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
[1mcollecting ... [0mcollected 965 items / 66 deselected / 899 selected

apps/memory_api/tests/core/test_actions.py::test_action_type_enum [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_episodic_action_creation [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_episodic_valid_state [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_episodic_invalid_no_memories [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_episodic_invalid_budget_exhausted [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_episodic_cost_estimation [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_working_action [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_semantic_without_graph [32mPASSED[0m[32m [  0%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_semantic_with_graph [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_semantic_invalid_no_graph [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_ltm_action [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_retrieve_reflective_action [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_call_llm_action_valid [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_call_llm_action_invalid_no_context [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_call_llm_action_cost_estimation [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_call_llm_action_exceeds_budget [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_prune_context_action [32mPASSED[0m[32m [  1%][0m
apps/memory_api/tests/core/test_actions.py::test_prune_context_invalid_empty [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_generate_reflection_action_valid [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_generate_reflection_action_invalid_insufficient_memories [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_generate_reflection_cost_estimation [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_update_graph_action [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_consolidate_episodic_to_working_action [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_consolidate_invalid_no_episodic [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_consolidate_invalid_working_full [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_summarize_context_extractive [32mPASSED[0m[32m [  2%][0m
apps/memory_api/tests/core/test_actions.py::test_summarize_context_abstractive [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions.py::test_action_serialization [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions.py::test_multiple_actions_in_sequence [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_retrieve_semantic_invalid_no_graph_warning [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_retrieve_semantic_cost_with_graph [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_call_llm_invalid_no_context_warning [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_call_llm_invalid_tokens_exceeded [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_prune_context_validity [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_generate_reflection_invalid_insufficient_memories_log [32mPASSED[0m[32m [  3%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_update_graph_validity [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_consolidate_episodic_invalid_working_full [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_summarize_context_invalid_budget [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_summarize_context_invalid_empty [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_actions_coverage.py::test_update_graph_cost_variations [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_graph_operator_creation [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_graph_operator_defaults [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_graph_node_creation [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_graph_edge_creation [32mPASSED[0m[32m [  4%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_creation [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_get_node [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_get_edge [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_adjacency_matrix [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_copy [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_knowledge_graph_to_dict [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_node_basic [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_node_duplicate [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_node_missing_data [32mPASSED[0m[32m [  5%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_edge_basic [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_edge_strengthen_existing [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_add_edge_nonexistent_nodes [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_update_edge_weight_decay [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_update_edge_weight_prune_low_weight [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_merge_nodes_basic [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_merge_nodes_redirect_edges [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_merge_nodes_missing_parameters [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_prune_node_basic [32mPASSED[0m[32m [  6%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_prune_node_nonexistent [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_prune_edge_basic [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_prune_edge_nonexistent [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_convergence_analysis_insufficient_history [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_convergence_analysis_stable_graph [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_convergence_analysis_growing_graph [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_convergence_analysis_spectral_gap [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_transformation_deterministic [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_invalid_action_type [32mPASSED[0m[32m [  7%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_temporal_decay_exponential [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator.py::test_edge_weight_bounds [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator_coverage.py::test_add_node_missing_data [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator_coverage.py::test_add_edge_missing_data [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator_coverage.py::test_merge_nodes_missing_ids [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator_coverage.py::test_merge_nodes_edge_redirect_and_cleanup [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_graph_operator_coverage.py::test_analyze_convergence_exception_handling [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_select_context_skip_low_relevance [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_compute_compression_costs_layers [32mPASSED[0m[32m [  8%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_estimate_i_z_x_empty_full_memory [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_adaptive_beta_budget_adjustment [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_adaptive_beta_query_complexity [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_ib_coverage.py::test_adaptive_beta_user_preference [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_ib_selector_creation [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_ib_selector_default_beta [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_select_context_basic [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_select_context_empty_memory [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_select_context_high_beta_compression [32mPASSED[0m[32m [  9%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_select_context_respects_min_relevance [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_select_context_respects_max_tokens [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_relevance_scores [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_compression_costs [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compression_cost_layer_penalty [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_estimate_I_Z_Y [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_estimate_I_Z_Y_empty_context [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_estimate_I_Z_X [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_estimate_I_Z_X_all_memories [32mPASSED[0m[32m [ 10%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_estimate_I_Z_X_empty_context [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_cosine_similarity_identical_vectors [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_cosine_similarity_orthogonal_vectors [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_cosine_similarity_zero_vector [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_diversity [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_diversity_single_embedding [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_diversity_identical_embeddings [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_adaptive_beta_complex_query [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_adaptive_beta_low_budget [32mPASSED[0m[32m [ 11%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_adaptive_beta_user_preferences [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_compute_ib_objective [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_information_bottleneck.py::test_ib_selection_prefers_relevant_memories [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_function_creation [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_function_defaults [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_computation_basic [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_components_structure [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_high_quality_high_reward [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_zero_memories_zero_quality [32mPASSED[0m[32m [ 12%][0m
apps/memory_api/tests/core/test_reward.py::test_token_penalty_scaling [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_retrieval_quality_evaluation [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_llm_quality_evaluation [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_pruning_quality_evaluation [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_graph_update_quality_evaluation [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_metrics_tracker_creation [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_metrics_tracker_records_transition [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_metrics_tracker_averages [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_metrics_best_and_worst_actions [32mPASSED[0m[32m [ 13%][0m
apps/memory_api/tests/core/test_reward.py::test_metrics_get_current_metrics [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_with_no_execution_result [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward.py::test_reward_with_zero_cost [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward.py::test_quality_score_clamped_to_0_1 [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward_coverage.py::test_evaluate_quality_default_fallback [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward_coverage.py::test_evaluate_retrieval_quality_zero_memories [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward_coverage.py::test_evaluate_llm_quality_no_result [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward_coverage.py::test_evaluate_llm_quality_short_output [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_reward_coverage.py::test_evaluate_reflection_quality_no_scoring [32mPASSED[0m[32m [ 14%][0m
apps/memory_api/tests/core/test_state.py::test_working_context_creation [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_memory_layer_state [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_memory_state_total_count [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_budget_state_exhaustion [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_graph_state [32mPASSED[0m[32m        [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_creation [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_with_full_initialization [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_validation_budget_exhausted [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_validation_negative_tokens [32mPASSED[0m[32m [ 15%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_comparison [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_serialization [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_log_state [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_memory_state_serialization [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_working_context_empty_importance [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_state_comparison_time_delta [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_budget_state_partial_exhaustion [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_memory_layer_none_values [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_identity_fields [32mPASSED[0m[32m [ 16%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_validation_mismatched_importance_scores [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/core/test_state.py::test_rae_state_validation_negative_memory_count [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_pii_scrubber_init_default_patterns [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_pii_scrubber_init_enabled_patterns [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_pii_scrubber_init_custom_patterns [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[test@example.com-[EMAIL]-False] [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[My email is test@example.com-My email is [EMAIL]-False] [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[My email is test@example.com-My email is [EMAIL]*********-True] [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[123-45-6789-[SSN]-False] [32mPASSED[0m[32m [ 17%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[SSN: 123-45-6789-SSN: [SSN]******-True] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[192.168.1.1-[IP_ADDRESS]-False] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[My IP is 192.168.1.1-My IP is [IP_ADDRESS-True] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[No PII here.-No PII here.-False] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[--False] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_method[None-None-False] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_detect_method[test@example.com-expected_detections0] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_detect_method[Call me at 555-123-4567 or email at user@domain.com-expected_detections1] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_detect_method[No PII here.-expected_detections2] [32mPASSED[0m[32m [ 18%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_detect_method[-expected_detections3] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_detect_method[None-expected_detections4] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_has_pii_method[test@example.com-True] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_has_pii_method[No PII here.-False] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_has_pii_method[-False] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_has_pii_method[None-False] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_preserve_length[longtext-[SHORT]-[SHORT]*] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_preserve_length[[LONG_REPLACEMENT]-short-short*************] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_preserve_length[exact-exact-exact] [32mPASSED[0m[32m [ 19%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_global_scrub_pii [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_global_detect_pii [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_global_has_pii [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_global_configure_scrubber [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[attributes0-expected_scrubbed_attributes0] [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[attributes1-expected_scrubbed_attributes1] [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[attributes2-expected_scrubbed_attributes2] [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[attributes3-expected_scrubbed_attributes3] [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[None-None] [32mPASSED[0m[32m [ 20%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_scrub_span_attributes[attributes5-expected_scrubbed_attributes5] [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_pii_scrubber.py::test_create_pii_scrubbing_processor_instantiation_and_on_end [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_rae_tracing_context [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_start_reasoning_step [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_start_memory_operation [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_start_llm_call [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_start_safety_check [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_trace_agent_operation_decorator_async [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_trace_agent_operation_decorator_sync [32mPASSED[0m[32m [ 21%][0m
apps/memory_api/tests/observability/test_rae_tracing.py::test_trace_agent_operation_error [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_log_llm_call_success [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_log_llm_call_failure [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_get_cost_statistics_success [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_get_cost_statistics_empty [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_get_model_breakdown [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_get_cache_savings [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_cost_logs_repository.py::test_get_recent_logs [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_create_trigger [32mPASSED[0m[32m [ 22%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_get_active_triggers_for_event [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_update_trigger_dynamic_query [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_update_trigger_no_valid_updates [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_delete_trigger [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/repositories/test_trigger_repository.py::test_delete_trigger_not_found [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/services/llm/test_orchestrator_adapter.py::test_generate_calls_orchestrator [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/services/llm/test_orchestrator_adapter.py::test_generate_structured_parses_json [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_get_tenant_stats_structure [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_get_tenant_stats_caching [32mPASSED[0m[32m [ 23%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_generate_report_json [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_generate_report_unsupported [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_get_real_time_metrics [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_analytics_service.py::test_internal_helpers_execution [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_generate_compliance_report_full [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_verify_rls_status_success [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_verify_rls_status_failure [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_get_active_risks [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_calculate_overall_score [32mPASSED[0m[32m [ 24%][0m
apps/memory_api/tests/services/test_compliance_service.py::test_get_governance_metrics_logic [32mPASSED[0m[32m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_build_context_basic [32mPASSED[0m[32m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_build_context_no_reflections [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_format_messages [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_inject_reflections_into_prompt [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_retrieve_ltm_empty [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_working_memory_context_serialization [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_v3.py::test_context_builder_uses_v3_when_enabled [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_context_builder_v3.py::test_context_builder_v3_integration_mock [32mPASSED[0m[33m [ 25%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_calculate_cost_known_model [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_calculate_cost_unknown_model [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_calculate_cost_cache_hit [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_estimate_cost [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_get_model_rates_success [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_get_model_rates_not_found [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_calculate_cache_savings [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_is_model_known [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_validate_cost_calculation_valid [32mPASSED[0m[33m [ 26%][0m
apps/memory_api/tests/services/test_cost_controller_v2.py::test_validate_cost_calculation_invalid [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_feedback_service.py::test_process_feedback_positive [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_feedback_service.py::test_process_feedback_negative [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_feedback_service.py::test_process_feedback_disabled [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_extract_knowledge_graph_success [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_extract_knowledge_graph_no_memories [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_extract_knowledge_graph_gatekeeper_filters_all [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_normalize_entity_name [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_format_memories [32mPASSED[0m[33m [ 27%][0m
apps/memory_api/tests/services/test_graph_extraction_service_v2.py::test_store_graph_triples [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_search_flow_uncached [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_search_cached [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_fuse_results [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_rerank_results [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_vector_search_execution [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_semantic_search_execution [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_graph_search_execution [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_fulltext_search_execution [32mPASSED[0m[33m [ 28%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_search_with_manual_weights [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_vector_search_error_handling [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_hybrid_search_service.py::test_rerank_results_error_handling [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_calculate_importance_basic [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_calculate_importance_factors [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_calculate_importance_access_boost [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_decay_importance [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_scoring_explanation [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_manual_boost [32mPASSED[0m[33m [ 29%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_identify_undervalued_memories [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_suggest_importance_adjustments [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_auto_archive_low_importance [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_importance_scoring_coverage.py::test_get_importance_trends [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_episodic_to_working_success [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_episodic_to_working_no_candidates [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_working_to_semantic_success [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_semantic_to_ltm_success [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_run_automatic_consolidation [32mPASSED[0m[33m [ 30%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_run_automatic_consolidation_failure [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_group_logic [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_group_empty [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_generate_consolidated_content_fallback [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_revert_consolidation [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_get_consolidation_stats [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_preview_consolidation [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_group_similar_memories_execution [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_group_by_patterns_execution [32mPASSED[0m[33m [ 31%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_consolidate_group_exception [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_generate_consolidated_content_llm [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_build_consolidation_prompt [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_revert_consolidation_exception [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_consolidation.py::test_no_candidates_other_layers [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_scoring_weights_validation [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_compute_memory_score_basic [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_recency_decay [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_access_count_boost [32mPASSED[0m[33m [ 32%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_future_timestamp [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_batch_scoring [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_batch_scoring_mismatch [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_rank_memories [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v2.py::test_decay_config_limits [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v3.py::test_scoring_weights_v3_default [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v3.py::test_compute_batch_scores_v3_basic [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v3.py::test_compute_batch_scores_v3_fallback_diversity [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_memory_scoring_v3.py::test_density_calculation [32mPASSED[0m[33m [ 33%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_generate_reflection_success [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_generate_reflection_failure [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_generate_reflection_partial [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_format_events [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_store_reflection [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_store_reflection_no_strategy [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_query_reflections [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_engine_v2.py::test_error_handling [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_fetch_memories_filters [32mPASSED[0m[33m [ 34%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_generate_reflections_no_memories [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_generate_reflections_with_clusters [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_generate_cluster_insight [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_generate_meta_insight [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_cluster_memories_fallback_kmeans [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_score_reflection_fallback [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_calculate_priority [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_fetch_memories_full_filters [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_clustering_noise_handling [32mPASSED[0m[33m [ 35%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_embedding_generation_failure [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_reflection_pipeline.py::test_generate_reflections_exception_handling [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_get_tenant_retention_policies_defaults [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_get_tenant_retention_policies_custom [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_cleanup_expired_data_single_tenant [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_cleanup_expired_data_all_tenants [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_cleanup_exceptions_handled [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_delete_user_data_gdpr [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_get_deletion_audit_log [32mPASSED[0m[33m [ 36%][0m
apps/memory_api/tests/services/test_retention_service.py::test_get_deletion_audit_log_with_dates [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_retention_service.py::test_cleanup_embeddings_error [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_retention_service.py::test_log_audit_failure_fallback [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_evaluate_condition_operators [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_evaluate_condition_group [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_process_event_flow [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_action_retry_logic [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_rate_limit_check [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_rules_engine.py::test_webhook_action [32mPASSED[0m[33m [ 37%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_initialization [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_extract_from_memories_no_memories [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_extract_from_memories_success [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_canonicalize_term [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_create_or_update_semantic_node_existing [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_create_or_update_semantic_node_new [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_create_semantic_relationship_success [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_create_semantic_relationship_nodes_missing [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_extract_semantic_knowledge_error [32mPASSED[0m[33m [ 38%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_extract_from_memories_with_ids [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_node_creation_exceptions [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_canonicalize_term_fallback [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_generate_embedding_fallback [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_extractor.py::test_create_semantic_relationship_db_error [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_search_stage1_only [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_search_stage2_only [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_search_stage3_reranking [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_filters [32mPASSED[0m[33m [ 39%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_extract_topics_simple [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_deduplication [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_empty_results [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_reranking_logic [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_semantic_search_v2.py::test_filter_by_domain [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_smart_reranker.py::test_reranker_disabled [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_smart_reranker.py::test_reranker_heuristic_boost [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/services/test_smart_reranker.py::test_reranker_limit [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/test_adapters.py::test_redis_validation_success [32mPASSED[0m[33m [ 40%][0m
apps/memory_api/tests/test_adapters.py::test_redis_validation_connection_fail [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_redis_validation_write_fail [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_redis_connect_success [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_redis_connect_fail [32mPASSED[0m[33m   [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_redis_report_success [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_redis_report_fail [32mPASSED[0m[33m    [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_connect_success [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_connect_fail [32mPASSED[0m[33m  [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_report_success [32mPASSED[0m[33m [ 41%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_report_fail [32mPASSED[0m[33m   [ 42%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_validation_success [32mPASSED[0m[33m [ 42%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_validation_missing_collection [32mPASSED[0m[33m [ 42%][0m
apps/memory_api/tests/test_adapters.py::test_qdrant_validation_dimension_mismatch [32mPASSED[0m[33m [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_tenant_stats_cached [32mPASSED[0m[33m [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_tenant_stats_uncached [32mPASSED[0m[33m [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_memory_stats [32mPASSED[0m[33m    [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_query_stats [32mPASSED[0m[33m     [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_graph_stats [32mPASSED[0m[33m     [ 42%][0m
apps/memory_api/tests/test_analytics.py::test_get_reflection_stats [32mPASSED[0m[33m [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_get_api_usage_stats [32mPASSED[0m[33m [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_get_performance_stats [32mPASSED[0m[33m [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_get_cost_stats [32mPASSED[0m[33m      [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_calculate_graph_density [32mPASSED[0m[33m [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_cache_operations [32mPASSED[0m[33m    [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_generate_report [32mPASSED[0m[33m     [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_get_real_time_metrics [32mPASSED[0m[33m [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_get_usage_alerts [32mPASSED[0m[33m    [ 43%][0m
apps/memory_api/tests/test_analytics.py::test_mock_db_methods [32mPASSED[0m[33m     [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_classify_network_error [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_classify_timeout_error [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_classify_rate_limit [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_classify_authentication_error [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_circuit_breaker_closed_success [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_circuit_breaker_opens_on_failures [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_circuit_breaker_rejects_when_open [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_circuit_breaker_half_open_recovery [32mPASSED[0m[33m [ 44%][0m
apps/memory_api/tests/test_api_client.py::test_cache_set_and_get [32mPASSED[0m[33m  [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_cache_miss [32mPASSED[0m[33m         [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_cache_expiration [32mPASSED[0m[33m   [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_cache_invalidation [32mPASSED[0m[33m [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_cache_clear [32mPASSED[0m[33m        [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_retry_on_network_error [32mPASSED[0m[33m [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_retry_exhausted [32mPASSED[0m[33m    [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_no_retry_on_client_error [32mPASSED[0m[33m [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_exponential_backoff [32mPASSED[0m[33m [ 45%][0m
apps/memory_api/tests/test_api_client.py::test_get_request [32mPASSED[0m[33m        [ 46%][0m
apps/memory_api/tests/test_api_client.py::test_post_request [32mPASSED[0m[33m       [ 46%][0m
apps/memory_api/tests/test_api_client.py::test_client_statistics [32mPASSED[0m[33m  [ 46%][0m
apps/memory_api/tests/test_api_client.py::test_reset_statistics [32mPASSED[0m[33m   [ 46%][0m
apps/memory_api/tests/test_api_e2e.py::TestMemoryAPISmoke::test_store_and_query_memory_e2e [33mSKIPPED[0mintegration tests)[33m [ 46%][0m
apps/memory_api/tests/test_api_e2e.py::TestMemoryAPISmoke::test_hybrid_search_e2e [33mSKIPPED[0mintegration tests)[33m [ 46%][0m
apps/memory_api/tests/test_api_e2e.py::TestHealthCheckSmoke::test_health_check [33mSKIPPED[0m[33m [ 46%][0m
apps/memory_api/tests/test_api_e2e.py::TestAPIErrorHandling::test_missing_tenant_header [32mPASSED[0m[33m [ 46%][0m
apps/memory_api/tests/test_api_e2e.py::TestAPIErrorHandling::test_invalid_json [32mPASSED[0m[33m [ 46%][0m
apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_success [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_with_mini_model [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_exception_handling [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_pool_cleanup [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestProcessGraphExtractionQueue::test_queue_processor_schedules_tasks [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestProcessGraphExtractionQueue::test_queue_processor_no_pending_memories [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestGenerateReflection::test_generate_reflection_calls_engine [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestMemoryDecay::test_apply_decay_updates_strength [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestCleanupExpiredData::test_cleanup_expired_data_success [32mPASSED[0m[33m [ 47%][0m
apps/memory_api/tests/test_background_tasks.py::TestCleanupExpiredData::test_cleanup_expired_data_failure [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_background_tasks.py::TestGDPRDeletion::test_gdpr_deletion_success [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_background_tasks.py::TestDecayMemoryImportance::test_decay_task_all_tenants [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_initial_state_closed [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_successful_call [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_failed_call [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_opens_after_threshold [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_fails_fast_when_open [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_after_timeout [32mPASSED[0m[33m [ 48%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_success_closes_circuit [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_failure_reopens_circuit [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_get_state_returns_metrics [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_reset_clears_all_state [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_custom_exception_type [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreaker::test_success_rate_calculation [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_initial_state_normal [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_enter_degraded_mode [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_exit_degraded_mode [32mPASSED[0m[33m [ 49%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_get_status_degraded [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_get_status_normal [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_duration_calculation [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestDegradedModeService::test_exit_when_not_degraded [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestGlobalCircuitBreakers::test_global_breakers_exist [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestGlobalCircuitBreakers::test_database_breaker_config [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestGlobalCircuitBreakers::test_vector_store_breaker_config [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestGlobalCircuitBreakers::test_llm_service_breaker_config [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestGlobalCircuitBreakers::test_global_degraded_mode_service [32mPASSED[0m[33m [ 50%][0m
apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreakerIntegration::test_full_lifecycle [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestCreateDecisionContext::test_create_context_basic [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestCreateDecisionContext::test_quality_metrics_calculation [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestCreateDecisionContext::test_empty_sources [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestCreateDecisionContext::test_trust_level_mapping [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestCreateDecisionContext::test_coverage_score_max_cap [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestRecordDecision::test_record_decision_basic [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestRecordDecision::test_record_decision_with_human_approval [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestRecordDecision::test_context_summary_generation [32mPASSED[0m[33m [ 51%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestGetDecisionLineage::test_get_full_lineage [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestGetDecisionLineage::test_get_lineage_decision_not_found [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_high_quality_context [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_low_trust [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_low_relevance [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_insufficient_sources [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_quality_score_calculation [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_context_provenance_service.py::TestAuditContextQuality::test_audit_context_not_found [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_websocket_connect [32mPASSED[0m[33m [ 52%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_websocket_disconnect [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_subscription_filtering [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_to_tenant [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_all [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_collect_system_metrics [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_metrics_changed_significantly [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_check_system_health [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_health_monitoring_failure [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_memory_created [32mPASSED[0m[33m [ 53%][0m
apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_quality_alert [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_postgres_connect_success [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_postgres_connect_fail [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_postgres_report_success [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_postgres_report_fail [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_validation_success [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_validation_fail_missing_table [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_db_validation.py::test_validation_fail_type_mismatch [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_mrr_calculation [32mPASSED[0m[33m [ 54%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_ndcg_calculation [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_precision_recall [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_kolmogorov_smirnov_test [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_psi_calculation [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_drift_severity_classification [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_drift_detection_no_data [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluation_suite.py::test_ab_test_traffic_validation [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluator_llm.py::test_llm_evaluator_evaluate_success [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluator_llm.py::test_llm_evaluator_evaluate_failure [32mPASSED[0m[33m [ 55%][0m
apps/memory_api/tests/test_evaluator_llm.py::test_llm_evaluator_fallback [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_process_event [32mPASSED[0m[33m  [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_evaluate_simple_condition [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_evaluate_condition_group_and [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_evaluate_condition_group_or [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_nested_condition_groups [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_condition_operators [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_rate_limiting [32mPASSED[0m[33m  [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_cooldown_period [32mPASSED[0m[33m [ 56%][0m
apps/memory_api/tests/test_event_triggers.py::test_execute_action [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_event_triggers.py::test_workflow_execution [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_graph_node [32mPASSED[0m[33m   [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_graph_edge [32mPASSED[0m[33m   [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_knowledge_graph [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_service_load_tenant_graph [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_pagerank [32mPASSED[0m[33m     [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_shortest_path [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_find_all_paths [32mPASSED[0m[33m [ 57%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_find_related_entities [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_graph_summary [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_community_detection [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_calculate_centrality [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_graph_density [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_subgraph_extraction [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_repr_methods [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_load_tenant_graph_no_db [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_load_tenant_graph_with_project_id [32mPASSED[0m[33m [ 58%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_load_tenant_graph_exception [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_empty_graph_algorithms [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_find_all_paths_edge_cases [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_algorithms.py::test_find_bridges_and_articulation_points [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_triple_creation [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_entity_normalization_helper [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_triple_normalization_integration [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_relation_normalization [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_triple_equality [32mPASSED[0m[33m [ 59%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_triple_hash [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphTriple::test_confidence_bounds [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionResult::test_empty_result [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionResult::test_result_with_data [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_service_initialization [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_fetch_episodic_memories [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_format_memories [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_extract_knowledge_graph_empty [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_extract_knowledge_graph_success [32mPASSED[0m[33m [ 60%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_confidence_filtering [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_store_graph_triples [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_error_handling [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionIntegration::test_end_to_end_extraction [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_fetch_episodic_memories_uses_service [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_store_graph_triples_creates_nodes_and_edges [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_store_triples_handles_duplicates_gracefully [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_graph_repository_jsonb_serialization [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_graph_repository_get_node_internal_id [32mPASSED[0m[33m [ 61%][0m
apps/memory_api/tests/test_graph_extraction_integration.py::test_end_to_end_triple_storage_workflow [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequestApproval::test_auto_approve_low_risk [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequestApproval::test_auto_approve_none_risk [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequestApproval::test_pending_approval_high_risk [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequestApproval::test_pending_approval_critical_risk [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequestApproval::test_timeout_configuration [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_approve_single_approver [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_approve_multi_approver [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_reject_decision [32mPASSED[0m[33m [ 62%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_expired_request [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_unauthorized_approver [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestProcessDecision::test_already_decided [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestCheckApprovalStatus::test_check_pending_status [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestCheckApprovalStatus::test_auto_expire_on_check [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestCheckApprovalStatus::test_request_not_found [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequiresApproval::test_requires_approval_critical [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequiresApproval::test_requires_approval_high [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequiresApproval::test_requires_approval_medium [32mPASSED[0m[33m [ 63%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequiresApproval::test_no_approval_low [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_human_approval_service.py::TestRequiresApproval::test_no_approval_none [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestTraversalStrategy::test_strategy_values [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestTraversalStrategy::test_strategy_creation [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestGraphNode::test_node_creation [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestGraphEdge::test_edge_creation [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_service_initialization [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_vector_only_search [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_hybrid_search_no_graph_nodes [32mPASSED[0m[33m [ 64%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_full_hybrid_search [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_bfs_traversal [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_context_synthesis [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_vector_only_synthesis [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_error_handling [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_traversal_depth_limits [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchIntegration::test_end_to_end_hybrid_search [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchWithRealDatabase::test_bfs_traversal_real_db [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchWithRealDatabase::test_dfs_traversal_real_db [32mPASSED[0m[33m [ 65%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchWithRealDatabase::test_traversal_depth_limits_real_db [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchWithRealDatabase::test_hybrid_search_with_real_graph [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_openapi.py::test_openapi_schema [32mPASSED[0m[33m        [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestOpenTelemetrySetup::test_setup_opentelemetry_success [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestOpenTelemetrySetup::test_setup_opentelemetry_disabled [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestOpenTelemetrySetup::test_setup_opentelemetry_not_available [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestOpenTelemetrySetup::test_setup_opentelemetry_console_exporter [33mSKIPPED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestFastAPIInstrumentation::test_instrument_fastapi [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestFastAPIInstrumentation::test_instrument_fastapi_not_available [32mPASSED[0m[33m [ 66%][0m
apps/memory_api/tests/test_opentelemetry.py::TestLibraryInstrumentation::test_instrument_libraries [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestCustomSpanHelpers::test_get_tracer [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestCustomSpanHelpers::test_add_span_attributes [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestCustomSpanHelpers::test_record_exception [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestLLMTracer::test_llm_tracer_trace [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestLLMTracer::test_llm_tracer_record_tokens [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestLLMTracer::test_llm_tracer_record_cost [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestTracedQdrantClient::test_traced_client_initialization [32mPASSED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestTracedQdrantClient::test_traced_client_create_collection [33mSKIPPED[0m[33m [ 67%][0m
apps/memory_api/tests/test_opentelemetry.py::TestTracedQdrantClient::test_traced_client_search [33mSKIPPED[0m[33m [ 68%][0m
apps/memory_api/tests/test_opentelemetry.py::TestTracedQdrantClient::test_traced_client_upsert [33mSKIPPED[0m[33m [ 68%][0m
apps/memory_api/tests/test_opentelemetry.py::TestTracedQdrantClient::test_traced_client_exception_handling [33mSKIPPED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_tier_enum [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_config_defaults [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_creation [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_free_tier [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_pro_tier [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_enterprise_tier [32mPASSED[0m[33m [ 68%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_has_quota_available_memories [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_has_quota_available_unlimited [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_increment_usage [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_is_feature_enabled [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_enum_values [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_levels [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_owner [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_admin [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_developer [32mPASSED[0m[33m [ 69%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_analyst [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_viewer [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_permission_model [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_creation [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_expiration [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_project_access [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_can_perform [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_can_perform_with_project [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_hierarchy_comparison [32mPASSED[0m[33m [ 70%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_can_assign_role [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_can_modify_user [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginMetadata::test_metadata_creation [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginMetadata::test_metadata_to_dict [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_initialization [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_shutdown [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_health_check [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_hook_execution [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_transform_hook [32mPASSED[0m[33m [ 71%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_registry_creation [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_register_plugin [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_unregister_plugin [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_list_plugins [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_get_plugins_for_hook [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_initialize_all [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_shutdown_all [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_execute_hook [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_execute_transform_hook [32mPASSED[0m[33m [ 72%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_health_check_all [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_get_global_registry [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginHooks::test_hook_values [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginHooks::test_all_hooks_defined [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginDisabling::test_disabled_plugin_not_executed [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestPluginDisabling::test_disabled_plugin_not_initialized [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestMultiplePlugins::test_multiple_plugins_same_hook [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_phase2_plugins.py::TestMultiplePlugins::test_plugin_chaining [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_email_address [32mPASSED[0m[33m [ 73%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_multiple_emails [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_phone_number [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_credit_card [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_ip_address [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_person_names [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_api_key_like_patterns [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_plain_text_unchanged [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_empty_string [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_none_handling [32mPASSED[0m[33m [ 74%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_mixed_pii_types [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_is_deterministic [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_preserves_structure [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestCreatePolicy::test_create_first_policy_version [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestCreatePolicy::test_create_second_policy_version [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestCreatePolicy::test_create_policy_with_metadata [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestActivatePolicy::test_activate_draft_policy [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestActivatePolicy::test_activate_deprecates_previous [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestActivatePolicy::test_activate_nonexistent_policy [32mPASSED[0m[33m [ 75%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestActivatePolicy::test_activate_nonexistent_version [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestGetActivePolicy::test_get_active_policy [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestGetActivePolicy::test_get_active_policy_no_active [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestGetActivePolicy::test_get_active_policy_nonexistent [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestGetPolicyHistory::test_get_policy_history [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestGetPolicyHistory::test_get_policy_history_nonexistent [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_compliant [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_max_violation [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_min_violation [32mPASSED[0m[33m [ 76%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_exact_match_warning [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_missing_field_warning [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestEnforcePolicy::test_enforce_policy_no_active_version [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestRollbackPolicy::test_rollback_to_previous_version [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestRollbackPolicy::test_rollback_no_previous_version [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestRollbackPolicy::test_rollback_nonexistent_policy [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_policy_versioning_service.py::TestPolicyTypes::test_all_policy_types [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_reflection_simple.py::test_reflection_pipeline_initialization [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_reflection_simple.py::test_generate_reflections_basic [32mPASSED[0m[33m [ 77%][0m
apps/memory_api/tests/test_reflection_simple.py::test_generate_reflections_returns_stats [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_semantic_memory.py::test_extract_semantic_nodes [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_semantic_memory.py::test_canonicalization [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_semantic_memory.py::test_semantic_search_3_stages [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_semantic_memory.py::test_ttl_ltm_decay [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_semantic_memory.py::test_node_reinforcement [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_summarization_worker.py::test_summarize_session_llm [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_summarization_worker.py::test_summarize_long_sessions [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_temporal_graph.py::test_create_snapshot [32mPASSED[0m[33m [ 78%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_snapshot_at_time [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_latest_snapshot [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_record_change [32mPASSED[0m[33m  [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_changes_filters [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_entity_history [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_reconstruct_graph_at_time [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_apply_change_logic [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_compare_graphs [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_evolution_timeline [32mPASSED[0m[33m [ 79%][0m
apps/memory_api/tests/test_temporal_graph.py::test_get_growth_metrics [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_temporal_graph.py::test_find_emerging_patterns [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_temporal_graph.py::test_cleanup_old_snapshots [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_token_savings.py::test_track_savings_positive [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_token_savings.py::test_track_savings_negative [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_token_savings.py::test_get_summary [32mPASSED[0m[33m     [ 80%][0m
apps/memory_api/tests/test_validation_service.py::test_validation_service_all_success [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_validation_service.py::test_validation_service_one_adapter_fails_validation [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_validation_service.py::test_validation_service_one_adapter_fails_connect [32mPASSED[0m[33m [ 80%][0m
apps/memory_api/tests/test_validation_service.py::test_validation_service_get_reports_success [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_validation_service.py::test_validation_service_get_reports_with_failure [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_store_initialization [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_upsert_success [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_upsert_empty_list [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_upsert_mismatched_lengths [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_query_success [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_query_empty_results [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_query_respects_top_k [32mPASSED[0m[33m [ 81%][0m
apps/memory_api/tests/test_vector_store.py::TestPGVectorStore::test_delete_success [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_decay_worker_run_decay_cycle [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_decay_worker_run_decay_cycle_error [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_hourly_maintenance [32mPASSED[0m[33m    [ 82%][0m
apps/memory_api/tests/test_workers.py::test_summarize_session_success [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_summarize_session_insufficient_events [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_summarize_session_disabled [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_summarize_long_sessions [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_dreaming_cycle_success [32mPASSED[0m[33m [ 82%][0m
apps/memory_api/tests/test_workers.py::test_dreaming_cycle_disabled [32mPASSED[0m[33m [ 83%][0m
apps/memory_api/tests/test_workers.py::test_dreaming_cycle_insufficient_memories [32mPASSED[0m[33m [ 83%][0m
apps/memory_api/tests/test_workers.py::test_daily_maintenance [32mPASSED[0m[33m     [ 83%][0m
apps/memory_api/tests/test_workers.py::test_daily_maintenance_dreaming_disabled [32mPASSED[0m[33m [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_happy_path [32mPASSED[0m[33m         [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_no_episodic_memories [32mPASSED[0m[33m [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_reranker_failure [32mPASSED[0m[33m   [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_llm_failure [32mPASSED[0m[33m        [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_reflection_failure_ignored [32mPASSED[0m[33m [ 83%][0m
tests/api/v1/test_agent.py::test_agent_execute_vector_store_failure [32mPASSED[0m[33m [ 84%][0m
tests/api/v1/test_cache.py::test_rebuild_cache [32mPASSED[0m[33m                    [ 84%][0m
tests/api/v1/test_dashboard.py::test_get_system_health [32mPASSED[0m[33m            [ 84%][0m
tests/api/v1/test_dashboard.py::test_get_dashboard_metrics [32mPASSED[0m[33m        [ 84%][0m
tests/api/v1/test_dashboard.py::test_get_activity_log [32mPASSED[0m[33m             [ 84%][0m
tests/api/v1/test_dashboard.py::test_websocket_endpoint [32mPASSED[0m[33m           [ 84%][0m
tests/api/v1/test_dashboard.py::test_compliance_report [32mPASSED[0m[33m            [ 84%][0m
tests/api/v1/test_dashboard.py::test_risk_register [32mPASSED[0m[33m                [ 84%][0m
tests/api/v1/test_dashboard.py::test_get_metric_timeseries_trend_up [32mPASSED[0m[33m [ 84%][0m
tests/api/v1/test_dashboard.py::test_get_metric_timeseries_trend_stable [32mPASSED[0m[33m [ 85%][0m
tests/api/v1/test_dashboard.py::test_get_visualization_reflection_tree [32mPASSED[0m[33m [ 85%][0m
tests/api/v1/test_dashboard.py::test_get_visualization_semantic_graph [32mPASSED[0m[33m [ 85%][0m
tests/api/v1/test_dashboard.py::test_get_visualization_unsupported [32mPASSED[0m[33m [ 85%][0m
tests/api/v1/test_dashboard.py::test_get_rls_status [32mPASSED[0m[33m               [ 85%][0m
tests/api/v1/test_dashboard.py::test_get_audit_trail [32mPASSED[0m[33m              [ 85%][0m
tests/api/v1/test_dashboard.py::test_error_handling_dashboard_metrics [32mPASSED[0m[33m [ 85%][0m
tests/api/v1/test_event_triggers.py::test_create_trigger_success [32mPASSED[0m[33m  [ 85%][0m
tests/api/v1/test_event_triggers.py::test_create_trigger_failure [32mPASSED[0m[33m  [ 85%][0m
tests/api/v1/test_event_triggers.py::test_get_trigger_success [32mPASSED[0m[33m     [ 86%][0m
tests/api/v1/test_event_triggers.py::test_get_trigger_not_found [32mPASSED[0m[33m   [ 86%][0m
tests/api/v1/test_event_triggers.py::test_update_trigger_success [32mPASSED[0m[33m  [ 86%][0m
tests/api/v1/test_event_triggers.py::test_delete_trigger_success [32mPASSED[0m[33m  [ 86%][0m
tests/api/v1/test_event_triggers.py::test_enable_disable_trigger [32mPASSED[0m[33m  [ 86%][0m
tests/api/v1/test_event_triggers.py::test_list_triggers [32mPASSED[0m[33m           [ 86%][0m
tests/api/v1/test_event_triggers.py::test_emit_event_success [32mPASSED[0m[33m      [ 86%][0m
tests/api/v1/test_event_triggers.py::test_create_workflow_success [32mPASSED[0m[33m [ 86%][0m
tests/api/v1/test_event_triggers.py::test_get_workflow_success [32mPASSED[0m[33m    [ 86%][0m
tests/api/v1/test_event_triggers.py::test_instantiate_template_success [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_event_triggers.py::test_instantiate_template_missing_param [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_governance_overview_success [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_governance_overview_with_custom_days [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_governance_overview_error [32mPASSED[0m[33m   [ 87%][0m
tests/api/v1/test_governance.py::test_tenant_governance_stats_success [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_tenant_governance_stats_no_data [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_tenant_governance_stats_with_custom_period [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_tenant_budget_status_success [32mPASSED[0m[33m [ 87%][0m
tests/api/v1/test_governance.py::test_tenant_budget_status_with_alerts [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_governance.py::test_tenant_budget_status_zero_usage [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_governance.py::test_tenant_budget_status_error [32mPASSED[0m[33m  [ 88%][0m
tests/api/v1/test_governance.py::test_governance_overview_invalid_days [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_governance.py::test_tenant_governance_stats_invalid_days [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_governance.py::test_governance_overview_empty_results [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_graph.py::test_extract_knowledge_graph [32mPASSED[0m[33m          [ 88%][0m
tests/api/v1/test_graph.py::test_generate_hierarchical_reflection [32mPASSED[0m[33m [ 88%][0m
tests/api/v1/test_graph.py::test_get_graph_statistics [32mPASSED[0m[33m             [ 88%][0m
tests/api/v1/test_graph.py::test_get_graph_nodes [32mPASSED[0m[33m                  [ 89%][0m
tests/api/v1/test_graph.py::test_get_graph_nodes_with_pagerank [32mPASSED[0m[33m    [ 89%][0m
tests/api/v1/test_graph.py::test_get_graph_edges [32mPASSED[0m[33m                  [ 89%][0m
tests/api/v1/test_graph.py::test_query_knowledge_graph [32mPASSED[0m[33m            [ 89%][0m
tests/api/v1/test_graph.py::test_get_subgraph [32mPASSED[0m[33m                     [ 89%][0m
tests/api/v1/test_graph.py::test_error_handling_missing_tenant [32mPASSED[0m[33m    [ 89%][0m
tests/api/v1/test_graph_enhanced.py::test_create_node [32mPASSED[0m[33m             [ 89%][0m
tests/api/v1/test_graph_enhanced.py::test_get_node_metrics [32mPASSED[0m[33m        [ 89%][0m
tests/api/v1/test_graph_enhanced.py::test_create_edge_success [32mPASSED[0m[33m     [ 89%][0m
tests/api/v1/test_graph_enhanced.py::test_create_edge_failure [32mPASSED[0m[33m     [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_update_edge_weight [32mPASSED[0m[33m      [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_deactivate_edge [32mPASSED[0m[33m         [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_activate_edge [32mPASSED[0m[33m           [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_set_edge_temporal_validity [32mPASSED[0m[33m [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_traverse_graph [32mPASSED[0m[33m          [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_detect_cycle [32mPASSED[0m[33m            [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_find_shortest_path [32mPASSED[0m[33m      [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_get_graph_statistics [32mPASSED[0m[33m    [ 90%][0m
tests/api/v1/test_graph_enhanced.py::test_create_snapshot [32mPASSED[0m[33m         [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_get_snapshot [32mPASSED[0m[33m            [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_get_snapshot_not_found [32mPASSED[0m[33m  [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_list_snapshots [32mPASSED[0m[33m          [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_restore_snapshot [32mPASSED[0m[33m        [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_batch_create_nodes [32mPASSED[0m[33m      [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_batch_create_edges [32mPASSED[0m[33m      [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_batch_create_edges_partial_failure [32mPASSED[0m[33m [ 91%][0m
tests/api/v1/test_graph_enhanced.py::test_health_check [32mPASSED[0m[33m            [ 91%][0m
tests/api/v1/test_memory.py::test_store_memory_success [32mPASSED[0m[33m            [ 92%][0m
tests/api/v1/test_memory.py::test_store_memory_failure [32mPASSED[0m[33m            [ 92%][0m
tests/api/v1/test_memory.py::test_query_memory_vector_only [32mPASSED[0m[33m        [ 92%][0m
tests/api/v1/test_memory.py::test_delete_memory_success [32mPASSED[0m[33m           [ 92%][0m
tests/api/v1/test_memory.py::test_delete_memory_not_found [32mPASSED[0m[33m         [ 92%][0m
tests/api/v1/test_memory.py::test_reflection_stats [32mPASSED[0m[33m                [ 92%][0m
tests/api/v1/test_memory.py::test_hierarchical_reflection_deprecated [32mPASSED[0m[33m [ 92%][0m
tests/api/v1/test_memory_coverage.py::test_store_memory_vector_failure [32mPASSED[0m[33m [ 92%][0m
tests/api/v1/test_memory_coverage.py::test_store_memory_db_failure [32mPASSED[0m[33m [ 92%][0m
tests/api/v1/test_memory_coverage.py::test_query_memory_hybrid_missing_project [32mPASSED[0m[33m [ 93%][0m
tests/api/v1/test_memory_coverage.py::test_delete_memory_success [32mPASSED[0m[33m  [ 93%][0m
tests/api/v1/test_memory_coverage.py::test_delete_memory_not_found [32mPASSED[0m[33m [ 93%][0m
tests/api/v1/test_memory_coverage.py::test_rebuild_reflections [32mPASSED[0m[33m    [ 93%][0m
tests/api/v1/test_memory_coverage.py::test_get_reflection_stats [32mPASSED[0m[33m   [ 93%][0m
tests/api/v1/test_search_hybrid.py::test_hybrid_search_success [32mPASSED[0m[33m    [ 93%][0m
tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_reranking [32mPASSED[0m[33m [ 93%][0m
tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_filters [32mPASSED[0m[33m [ 93%][0m
tests/api/v1/test_search_hybrid.py::test_hybrid_search_service_error [32mPASSED[0m[33m [ 93%][0m
tests/architecture/test_architecture.py::test_core_layer_isolation [32mPASSED[0m[33m [ 94%][0m
tests/architecture/test_architecture.py::test_models_dont_import_services [33mSKIPPED[0mmodels/rbac.py: imports
apps.memory_api.services.rbac_service)[33m                                   [ 94%][0m
tests/architecture/test_architecture.py::test_file_size_limits [33mSKIPPED[0mre/graph_operator.py: 868 lines (max 800)
  -
apps/memory_api/repositories/graph_repository_enhanced.py: 858 lines
(max 800)
  - apps/memory_api/repositories/graph_repository.py: 848
lines (max 800)
  - apps/memory_api/clients/rae_client.py: 804 lines
(max 800)
  - apps/memory_api/services/hybrid_search_service.py: 871
lines (max 800)
  ... and 4 more)[33m                                                        [ 94%][0m
tests/architecture/test_architecture.py::test_function_complexity [33mSKIPPED[0mry_api/observability/memory_tracing.py:332 -
_extract_result_metrics() complexity=16 (max 15)
  -
apps/memory_api/services/hybrid_search_service.py:103 - search()
complexity=22 (max 15)
  - apps/memory_api/services/hybrid_search.py:508
- _synthesize_context() complexity=16 (max 15)
  -
apps/memory_api/services/dashboard_websocket.py:500 -
_collect_system_metrics() complexity=16 (max 15)
  -
apps/memory_api/services/rules_engine.py:199 - _evaluate_condition()
complexity=22 (max 15))[33m                                                  [ 94%][0m
tests/architecture/test_architecture.py::test_tests_mirror_source_structure [33mSKIPPED[0m/tests/api)[33m [ 94%][0m
tests/architecture/test_architecture.py::test_no_hardcoded_secrets [33mSKIPPED[0m_api/observability/rae_telemetry_schema.py:166 - Possible
hardcoded secret)[33m                                                        [ 94%][0m
tests/architecture/test_architecture.py::test_no_circular_dependencies [32mPASSED[0m[33m [ 94%][0m
tests/architecture/test_architecture.py::test_services_use_dependency_injection [33mSKIPPED[0ms/rae_core_service.py -
LocalEmbeddingProvider.__init__ has no dependencies
  -
apps/memory_api/services/source_trust_service.py -
SourceTrustService.__init__ has no dependencies
  -
apps/memory_api/services/evaluator.py - LLMEvaluator.__init__ has no
dependencies
  - apps/memory_api/services/context_provenance_service.py
- ContextProvenanceService.__init__ has no dependencies
  -
apps/memory_api/services/graph_algorithms.py - KnowledgeGraph.__init__
has no dependencies
  ... and 7 more)[33m                                                        [ 94%][0m
tests/architecture/test_architecture.py::test_no_bare_except [32mPASSED[0m[33m      [ 94%][0m
tests/repositories/test_graph_repository.py::test_get_all_nodes [32mPASSED[0m[33m   [ 95%][0m
tests/repositories/test_graph_repository.py::test_get_all_edges [32mPASSED[0m[33m   [ 95%][0m
tests/repositories/test_graph_repository.py::test_update_node_label [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_merge_node_edges [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_delete_node_edges [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_delete_node [32mPASSED[0m[33m     [ 95%][0m
tests/repositories/test_graph_repository.py::test_delete_node_not_found [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_upsert_node_insert [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_upsert_node_update [32mPASSED[0m[33m [ 95%][0m
tests/repositories/test_graph_repository.py::test_create_node [32mPASSED[0m[33m     [ 96%][0m
tests/repositories/test_graph_repository.py::test_create_edge [32mPASSED[0m[33m     [ 96%][0m
tests/repositories/test_graph_repository.py::test_get_node_internal_id [32mPASSED[0m[33m [ 96%][0m
tests/repositories/test_graph_repository.py::test_get_node_internal_id_not_found [32mPASSED[0m[33m [ 96%][0m
tests/repositories/test_graph_repository.py::test_store_graph_triples [32mPASSED[0m[33m [ 96%][0m
tests/services/llm/test_providers.py::test_openai_generate [32mPASSED[0m[33m        [ 96%][0m
tests/services/test_budget_service.py::test_check_budget [32mPASSED[0m[33m          [ 96%][0m
tests/services/test_budget_service.py::test_check_budget_fail [32mPASSED[0m[33m     [ 96%][0m
tests/services/test_community_detection.py::test_load_graph_uses_repository [32mPASSED[0m[33m [ 96%][0m
tests/services/test_community_detection.py::test_load_graph_with_disconnected_edges [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_store_super_node_uses_repository [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_run_community_detection_insufficient_nodes [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_generate_summary_llm_integration [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_generate_summary_llm_failure [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_process_community_workflow [32mPASSED[0m[33m [ 97%][0m
tests/services/test_community_detection.py::test_empty_graph_handling [32mPASSED[0m[33m [ 97%][0m
tests/services/test_context_cache.py::test_context_cache_flow [32mPASSED[0m[33m     [ 97%][0m
tests/services/test_entity_resolution.py::test_fetch_nodes_uses_repository [32mPASSED[0m[33m [ 97%][0m
tests/services/test_entity_resolution.py::test_merge_nodes_with_canonical_name [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_merge_nodes_without_canonical_name [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_merge_nodes_empty_list [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_run_clustering_with_insufficient_nodes [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_process_group_with_merge_approval [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_process_group_with_merge_rejection [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_run_clustering_success [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_run_clustering_ml_failure [32mPASSED[0m[33m [ 98%][0m
tests/services/test_entity_resolution.py::test_ask_janitor_failure [32mPASSED[0m[33m [ 98%][0m
tests/services/test_reflection_engine.py::test_reflection_flow [32mPASSED[0m[33m    [ 99%][0m
test_enterprise_features.py::test_decorator_import [32mPASSED[0m[33m                [ 99%][0m
test_enterprise_features.py::test_decorator_basic_usage [32mPASSED[0m[33m           [ 99%][0m
test_enterprise_features.py::test_reflection_engine_import [32mPASSED[0m[33m        [ 99%][0m
test_enterprise_features.py::test_hierarchical_reflection_methods [32mPASSED[0m[33m [ 99%][0m
test_enterprise_features.py::test_llm_structured_outputs [32mPASSED[0m[33m          [ 99%][0m
test_enterprise_features.py::test_pydantic_models [32mPASSED[0m[33m                 [ 99%][0m
test_enterprise_features.py::test_memory_client_async_methods [32mPASSED[0m[33m     [ 99%][0m
test_enterprise_features.py::test_api_endpoint_exists [32mPASSED[0m[33m             [100%][0m

[33m=============================== warnings summary ===============================[0m
apps/memory_api/tests/services/test_context_builder_coverage.py::test_build_context_basic
  /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/rae-core/rae_core/math/dynamics.py:125: UserWarning: Future timestamp detected: time_ref=2025-12-21T22:12:51.701292+00:00, now=2025-12-21T21:12:51.702468+00:00. Returning perfect recency score (1.0).
    warnings.warn(

apps/memory_api/tests/services/test_context_builder_coverage.py::test_build_context_basic
  /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/rae-core/rae_core/math/dynamics.py:125: UserWarning: Future timestamp detected: time_ref=2025-12-21T22:12:51.701297+00:00, now=2025-12-21T21:12:51.702552+00:00. Returning perfect recency score (1.0).
    warnings.warn(

apps/memory_api/tests/test_graph_extraction_integration.py::test_fetch_episodic_memories_uses_service
  /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/.venv/lib/python3.12/site-packages/testcontainers/core/waiting_utils.py:215: DeprecationWarning: The @wait_container_is_ready decorator is deprecated and will be removed in a future version. Use structured wait strategies instead: container.waiting_for(HttpWaitStrategy(8080).for_status_code(200)) or container.waiting_for(LogMessageWaitStrategy('ready'))
    @wait_container_is_ready()

apps/memory_api/tests/test_graph_extraction_integration.py::test_fetch_episodic_memories_uses_service
  /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/.venv/lib/python3.12/site-packages/testcontainers/postgres/__init__.py:90: DeprecationWarning: The @wait_container_is_ready decorator is deprecated and will be removed in a future version. Use structured wait strategies instead: container.waiting_for(HttpWaitStrategy(8080).for_status_code(200)) or container.waiting_for(LogMessageWaitStrategy('ready'))
    @wait_container_is_ready()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
- generated xml file: /home/grzegorz-lesniowski/cloud/RAE-agentic-memory/junit.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Name                                                                 Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------------------------------
apps/__init__.py                                                         0      0   100%
apps/llm/__init__.py                                                     4      0   100%
apps/llm/broker/__init__.py                                              2      0   100%
apps/llm/broker/llm_router.py                                          104     63    39%   72-74, 92-93, 113, 121-122, 131-153, 169-216, 228-252
apps/llm/broker/orchestrator.py                                         84     57    32%   46-54, 73-77, 89-112, 118-122, 128-143, 147-179
apps/llm/config/__init__.py                                              0      0   100%
apps/llm/models/__init__.py                                              4      0   100%
apps/llm/models/llm_error.py                                            19      4    79%   17-20
apps/llm/models/llm_request.py                                          27      0   100%
apps/llm/models/llm_response.py                                         20      0   100%
apps/llm/providers/__init__.py                                           9      0   100%
apps/llm/providers/anthropic_provider.py                                79     63    20%   51-61, 65-68, 98-191, 207-242
apps/llm/providers/base.py                                               9      0   100%
apps/llm/providers/deepseek_provider.py                                 78     67    14%   41-46, 50, 61-64, 97-195, 211-255
apps/llm/providers/gemini_provider.py                                  103     92    11%   37-42, 51-63, 67-71, 101-208, 224-280
apps/llm/providers/grok_provider.py                                     85     73    14%   42-47, 51, 62-65, 84-90, 113-215, 231-281
apps/llm/providers/ollama_provider.py                                   73     56    23%   50-61, 82-141, 157-208
apps/llm/providers/openai_provider.py                                   76     65    14%   43-48, 52, 63-66, 99-185, 201-245
apps/llm/providers/qwen_provider.py                                    102     91    11%   43-50, 65-71, 79-82, 117-238, 254-323
apps/memory_api/__init__.py                                              0      0   100%
apps/memory_api/adapters/__init__.py                                     4      0   100%
apps/memory_api/adapters/base.py                                        13      3    77%   18, 31, 41
apps/memory_api/adapters/cache.py                                        4      1    75%   20
apps/memory_api/adapters/postgres_adapter.py                            61      3    95%   80-82
apps/memory_api/adapters/qdrant_adapter.py                              56      9    84%   58, 91-92, 98-105, 128-138
apps/memory_api/adapters/redis_adapter.py                               42      6    86%   60, 90-101
apps/memory_api/adapters/storage.py                                      4      1    75%   19
apps/memory_api/adapters/vector.py                                       5      1    80%   27
apps/memory_api/api/__init__.py                                          0      0   100%
apps/memory_api/api/v1/__init__.py                                       2      0   100%
apps/memory_api/api/v1/agent.py                                        107      3    97%   181-183, 255
apps/memory_api/api/v1/cache.py                                          7      0   100%
apps/memory_api/api/v1/compliance.py                                   330    229    31%   187-228, 244-280, 298-342, 363-414, 429-471, 486-507, 528-554, 571-608, 625-654, 681-704, 720-757, 776-805, 821-849
apps/memory_api/api/v1/feedback.py                                      16      5    69%   28-42
apps/memory_api/api/v1/governance.py                                   167     25    85%   355-359, 397, 430, 435, 442-463, 466-469, 479-480
apps/memory_api/api/v1/graph.py                                        192     37    81%   155, 188-195, 226, 272-279, 359-366, 409, 426-432, 515-519, 550, 569, 594-598, 635, 640-641, 682-689, 723, 729, 751-754, 766, 768, 787-791
apps/memory_api/api/v1/health.py                                       128    128     0%   7-353
apps/memory_api/api/v1/memory.py                                       161     26    84%   88, 128, 135, 139, 158-160, 173-175, 190-192, 233-235, 264-270, 380-381, 389, 442-450
apps/memory_api/api/v2/__init__.py                                       0      0   100%
apps/memory_api/api/v2/memory.py                                        77     77     0%   7-249
apps/memory_api/celery_app.py                                            4      0   100%
apps/memory_api/clients/rae_client.py                                  272     32    88%   116-119, 242-244, 298, 374-383, 468, 475, 510-511, 515, 519, 564-565, 592, 607, 716, 742, 748, 797-803
apps/memory_api/config.py                                              106      5    95%   40, 170-173
apps/memory_api/core/__init__.py                                         3      0   100%
apps/memory_api/core/action_executor.py                                104    104     0%   33-390
apps/memory_api/core/actions.py                                        287     16    94%   137, 155, 271, 274, 305, 308, 350, 353, 379, 382, 419-423, 563-567
apps/memory_api/core/contract.py                                        44      0   100%
apps/memory_api/core/contract_definition.py                              2      0   100%
apps/memory_api/core/graph_operator.py                                 265      7    97%   362-363, 598-599, 629-631
apps/memory_api/core/information_bottleneck.py                         150      2    99%   170, 390
apps/memory_api/core/metrics.py                                        167     62    63%   243-268, 292-310, 412-457, 461-469
apps/memory_api/core/reward.py                                         137     16    88%   232-233, 300, 314, 318, 329, 334, 340-341, 344-345, 363, 368, 400-403
apps/memory_api/core/state.py                                          116      0   100%
apps/memory_api/cost_model.py                                            8      6    25%   53-61
apps/memory_api/dependencies.py                                         34     14    59%   69-71, 78-80, 98-100, 122, 139-147
apps/memory_api/logging_config.py                                       32      2    94%   32-33
apps/memory_api/main.py                                                131     35    73%   91-129, 134-159, 228, 349-351, 376-377, 423
apps/memory_api/metrics.py                                              63      0   100%
apps/memory_api/middleware/budget_enforcer.py                           28     16    43%   36-76
apps/memory_api/middleware/rate_limiter.py                              51     31    39%   55-74, 106-114, 165-177, 200-211
apps/memory_api/middleware/tenant.py                                     9      0   100%
apps/memory_api/models.py                                               92      0   100%
apps/memory_api/models/__init__.py                                      29      2    93%   24-26
apps/memory_api/models/dashboard_models.py                             478      0   100%
apps/memory_api/models/evaluation_models.py                            256      0   100%
apps/memory_api/models/event_models.py                                 244      0   100%
apps/memory_api/models/feedback.py                                       7      0   100%
apps/memory_api/models/graph.py                                         18      0   100%
apps/memory_api/models/graph_enhanced_models.py                        254      0   100%
apps/memory_api/models/hybrid_search_models.py                         164      0   100%
apps/memory_api/models/rbac.py                                          95     17    82%   135, 207-224, 234-239
apps/memory_api/models/reflection_models.py                            169      0   100%
apps/memory_api/models/reflection_v2_models.py                         156      3    98%   174, 245-246
apps/memory_api/models/semantic_models.py                              184      0   100%
apps/memory_api/models/tenant.py                                        94     11    88%   193-200, 212-215
apps/memory_api/models/token_savings.py                                 20      0   100%
apps/memory_api/observability/__init__.py                                8      0   100%
apps/memory_api/observability/health_checks.py                          39     22    44%   17-22, 32-37, 46-52, 77-78, 101, 111
apps/memory_api/observability/memory_tracing.py                        165    124    25%   93-121, 141-148, 168-176, 194-200, 218-225, 265-303, 308-329, 335-368, 388, 399, 412, 425, 438
apps/memory_api/observability/metrics.py                                 5      5     0%   1-27
apps/memory_api/observability/opentelemetry_config.py                  128     30    77%   158-159, 171-172, 189-191, 218-219, 261-262, 274, 277, 280, 283, 286, 289, 292, 299, 302, 319, 336, 356, 396, 400, 412, 424, 431-434
apps/memory_api/observability/pii_scrubber.py                          103     11    89%   221, 404, 409, 425, 429, 433-441
apps/memory_api/observability/rae_telemetry_schema.py                  164      3    98%   375, 380, 432
apps/memory_api/observability/rae_tracing.py                           274     94    66%   92, 114-122, 127, 132, 145, 147, 149, 151, 186-187, 191-192, 205, 209, 213, 217-222, 259-260, 264-265, 277, 281, 285-290, 326-327, 331-332, 345, 349, 353-358, 389-390, 394-395, 408, 412, 416-421, 436-437, 442-443, 448-451, 456-457, 469-476, 481-484, 515, 526, 554, 565, 573-582
apps/memory_api/observability/telemetry_profiles.py                     90     45    50%   151-154, 158-174, 184, 196-204, 216, 228-243, 252, 273-275, 285, 303, 314-316, 325-342, 346, 350
apps/memory_api/observability/traced_qdrant.py                          91     63    31%   61-89, 97-98, 102-103, 107-108, 112-113, 117-118, 132-138, 155-174, 184-190, 205-210, 226-246, 256-275, 290-312, 324, 345
apps/memory_api/plugins/__init__.py                                      2      0   100%
apps/memory_api/plugins/base.py                                        200     46    77%   138, 186, 200, 216, 235, 246, 257, 273, 287, 302, 316, 337, 386-387, 429-434, 443-444, 464, 478-479, 509-546, 561-562
apps/memory_api/plugins/examples/__init__.py                             4      4     0%   7-11
apps/memory_api/plugins/examples/analytics_tracker.py                   68     68     0%   7-222
apps/memory_api/plugins/examples/memory_validator.py                    81     81     0%   7-242
apps/memory_api/plugins/examples/slack_notifier.py                      61     61     0%   7-188
apps/memory_api/repositories/__init__.py                                 0      0   100%
apps/memory_api/repositories/cost_logs_repository.py                   141     18    87%   374-382, 401-408, 425-433, 452-459
apps/memory_api/repositories/evaluation_repository.py                  201    176    12%   20, 43-73, 77-81, 92-120, 132-165, 184-210, 219-243, 247-251, 255-257, 264, 285-315, 319-323, 335-358, 362-373, 388-409, 429-495, 499-503, 515-547, 551-564, 568-572
apps/memory_api/repositories/graph_repository.py                       134     12    91%   115-121, 232-253, 275-293, 531-532
apps/memory_api/repositories/graph_repository_enhanced.py              130     99    24%   60, 90-108, 114-127, 133-146, 162-184, 208-216, 260-297, 303-329, 335-350, 354-366, 372-386, 413-436, 471-534, 563-591, 618-631, 635-642, 648-660, 675-689, 708-740, 778-800, 808, 820, 841
apps/memory_api/repositories/metrics_repository.py                      64     47    27%   21, 48-61, 80-123, 148-185, 201-217, 240-263, 278-309, 321-326, 338-356, 381-401
apps/memory_api/repositories/reflection_repository.py                  158    140    11%   83-157, 174-185, 222-295, 312-333, 374-420, 443-471, 494-569, 591-600, 635-659, 669-689, 720
apps/memory_api/repositories/token_savings_repository.py                42     30    29%   24-51, 67-118, 132-147
apps/memory_api/repositories/trigger_repository.py                     111     58    48%   116-128, 151-180, 222, 224, 226, 230, 352-389, 404-444, 465-492, 499, 536-568, 574-586, 597-626, 630-644
apps/memory_api/routes/__init__.py                                       1      0   100%
apps/memory_api/routes/dashboard.py                                    330    123    63%   80, 85, 90, 96-100, 144-145, 180-181, 266-267, 271-279, 339-341, 383, 392, 416-418, 462-464, 476-488, 515, 531-533, 621-623, 649, 652-666, 700-704, 708-710, 785-787, 798-846, 858-873, 888-889, 907-908, 911-912, 915-917, 920-921, 924-925, 942, 1056-1063, 1083-1140, 1173, 1201-1208, 1251-1258, 1301-1308
apps/memory_api/routes/evaluation.py                                   130     94    28%   46, 51, 56, 80-105, 115, 176-209, 219, 268-325, 340-397, 417-444, 454, 495-538, 552-581, 592, 615
apps/memory_api/routes/event_triggers.py                               194     79    59%   53, 58, 63, 134-136, 161, 163, 165, 167, 171, 181, 188-192, 206, 210-214, 229-231, 246-248, 278-280, 326-328, 338, 374-404, 448-450, 462, 466-470, 481-494, 509, 528-545, 569, 598-600, 611, 643
apps/memory_api/routes/graph_enhanced.py                               225     59    74%   63, 92-94, 120-122, 134-151, 179, 224-226, 243-245, 262-264, 285-287, 331, 359-361, 395, 415-417, 455-457, 502-504, 524-526, 543-545, 579-581, 615-617, 652-654, 704-706
apps/memory_api/routes/hybrid_search.py                                109     71    35%   115-140, 151-175, 190-202, 217-236, 246-278, 296-383, 408-440, 451, 475
apps/memory_api/routes/reflections.py                                   98     71    28%   45, 83-104, 142-200, 225-247, 270-282, 316-352, 387-420, 447-453, 481-510
apps/memory_api/routes/token_savings.py                                 26     14    46%   14-16, 29-40, 54-56
apps/memory_api/security.py                                             51     51     0%   3-129
apps/memory_api/security/__init__.py                                     4      0   100%
apps/memory_api/security/auth.py                                       128    114    11%   38-56, 81-138, 155-158, 172-203, 224-329, 353-442
apps/memory_api/security/dependencies.py                                48     38    21%   32, 46-56, 78-84, 103-133, 155-210
apps/memory_api/security/rate_limit.py                                  78     63    19%   31-32, 36-48, 63-77, 99-179, 189-191, 208-225
apps/memory_api/security/validation.py                                  87     68    22%   40-56, 72-95, 111-150, 166-177, 193-203, 219-236, 252-269, 286-301
apps/memory_api/services/__init__.py                                     0      0   100%
apps/memory_api/services/analytics.py                                  193      1    99%   341
apps/memory_api/services/budget_service.py                             106     45    58%   74, 81, 86, 95-109, 115, 150-170, 214-218, 224-228, 261-270, 287-298, 313-324, 364-392, 417-499, 528-562
apps/memory_api/services/community_detection.py                         81     12    85%   55, 83-100
apps/memory_api/services/compliance_service.py                         243    130    47%   211-214, 221-228, 366-367, 477-549, 555-597, 603-658, 665-681, 701-743, 809, 827-874, 889, 896, 901, 906, 910, 914, 918, 922-937, 942, 947, 963, 975, 979-980, 995-1012, 1016-1040, 1046-1073, 1079-1099, 1105-1124, 1130-1149, 1160-1198
apps/memory_api/services/context_builder.py                            165      9    95%   353-359, 413-418, 502-503, 519, 564
apps/memory_api/services/context_cache.py                               62     36    42%   21, 39-49, 63-102, 106
apps/memory_api/services/context_provenance_service.py                 115      6    95%   362, 367, 372-373, 378-379
apps/memory_api/services/cost_controller.py                             55      6    89%   227-228, 277-284, 309
apps/memory_api/services/dashboard_websocket.py                        182     79    57%   131, 175-177, 201, 205-210, 247-253, 257-271, 296, 307, 346-357, 365-372, 410-425, 439-451, 461-498, 620-622, 638, 662-703
apps/memory_api/services/drift_detector.py                             108     33    69%   102-104, 118-124, 248, 292, 329, 333, 357-373, 423-434, 445
apps/memory_api/services/embedding.py                                   28     14    50%   28-29, 36-55, 62-64
apps/memory_api/services/entity_resolution.py                           74      1    99%   105
apps/memory_api/services/evaluation_service.py                         139     82    41%   74-205, 233-234, 275, 330, 357-385, 408-442, 464-474
apps/memory_api/services/evaluator.py                                  115     47    59%   106, 177-190, 224-225, 240-261, 368-375, 394-402, 416-429
apps/memory_api/services/feedback_service.py                            23      3    87%   56-57, 73
apps/memory_api/services/graph_algorithms.py                           298     16    95%   350-361, 394, 405, 418-419, 451, 454, 490
apps/memory_api/services/graph_extraction.py                           134     13    90%   192-203, 264-265, 433
apps/memory_api/services/human_approval_service.py                     113      6    95%   264, 382, 391, 396, 407-408
apps/memory_api/services/hybrid_cache.py                                90     71    21%   48-58, 82-105, 126-153, 176-185, 202-216, 225-236, 240-248, 257-260, 269, 283-285, 300-302
apps/memory_api/services/hybrid_search.py                              136     34    75%   162-219, 263-330, 381-383, 413-422, 458, 499-504, 599
apps/memory_api/services/hybrid_search_service.py                      229     31    86%   394-396, 399-401, 404-406, 493-495, 513, 591-593, 603, 606-607, 644-646, 672-674, 677-679, 700-702, 819
apps/memory_api/services/importance_scoring.py                         159     23    86%   74, 257-263, 282, 290, 305-319, 343, 356, 425-430, 484-491, 504, 562, 647, 690, 695, 700
apps/memory_api/services/llm/__init__.py                                 8      0   100%
apps/memory_api/services/llm/anthropic.py                               30     17    43%   18-21, 30-54, 65-78
apps/memory_api/services/llm/base.py                                    14      0   100%
apps/memory_api/services/llm/gemini.py                                  33     20    39%   18-22, 31-52, 63-74
apps/memory_api/services/llm/litellm_provider.py                        20     20     0%   1-71
apps/memory_api/services/llm/ollama.py                                  43     30    30%   18-21, 30-62, 73-95
apps/memory_api/services/llm/openai.py                                  31     10    68%   20, 52-54, 65-77
apps/memory_api/services/llm/orchestrator_adapter.py                    37      6    84%   44, 84, 89, 95-100
apps/memory_api/services/memory_consolidation.py                       152      9    94%   274, 290, 319, 419, 523-534, 545
apps/memory_api/services/memory_scoring_v2.py                           20      0   100%
apps/memory_api/services/memory_scoring_v3.py                          109     27    75%   57, 128, 197, 200, 219-252, 284
apps/memory_api/services/ml_service_client.py                          129     95    26%   59-60, 64-69, 77-91, 95, 139, 160-205, 223-251, 269-295, 313-338, 357-363, 382-411, 422-435, 444-446
apps/memory_api/services/pii_scrubber.py                                24      1    96%   30
apps/memory_api/services/policy_versioning_service.py                  128      0   100%
apps/memory_api/services/query_analyzer.py                              92     63    32%   128-129, 150-200, 219-244, 260-272, 286-315, 347, 366-386
apps/memory_api/services/rae_core_service.py                            99     46    54%   37-38, 42, 47, 127-145, 151-156, 160-165, 176, 191, 204, 218, 226-227, 230, 236-238, 247-254, 278-320, 344-357, 377, 395, 412
apps/memory_api/services/rbac_service.py                                35     35     0%   7-258
apps/memory_api/services/redis_client.py                                 5      2    60%   7-8
apps/memory_api/services/reflection_engine.py                           94     44    53%   100-103, 208-240, 269-320, 336, 354-369, 381-393, 406-422
apps/memory_api/services/reflection_engine_v2.py                        69      0   100%
apps/memory_api/services/reflection_pipeline.py                        230     30    87%   135, 204-206, 237-252, 354-361, 386-387, 520-522, 604-606, 660, 662-665
apps/memory_api/services/retention_service.py                          163     12    93%   352-354, 461-462, 479-480, 501-502, 562-566
apps/memory_api/services/rules_engine.py                               202     57    72%   138-139, 143-144, 159, 181-183, 196-197, 238, 245, 249, 253-256, 260, 272, 282, 360, 384-412, 503-525, 549-569, 596, 606-609, 615-618, 624-629, 639-642, 648-651
apps/memory_api/services/scoring.py                                     28      3    89%   28-29, 73
apps/memory_api/services/semantic_extractor.py                         124      2    98%   461, 524
apps/memory_api/services/semantic_search.py                            113      5    96%   370, 376, 388-390
apps/memory_api/services/smart_reranker.py                              62     12    81%   42-48, 68, 78, 108-111, 133
apps/memory_api/services/source_trust_service.py                       121    121     0%   20-357
apps/memory_api/services/temporal_graph.py                             186      9    95%   48, 74, 85, 182, 279, 338-340, 426, 478
apps/memory_api/services/token_estimator.py                              4      3    25%   8-10
apps/memory_api/services/token_savings_service.py                       23      1    96%   82
apps/memory_api/services/validation_service.py                          41      3    93%   58-60
apps/memory_api/services/vector_store/__init__.py                       16      8    50%   17-28
apps/memory_api/services/vector_store/base.py                            6      0   100%
apps/memory_api/services/vector_store/pgvector_store.py                 23      0   100%
apps/memory_api/services/vector_store/qdrant_store.py                   78     55    29%   50-69, 76-97, 103-107, 113-149, 172-202, 212-222, 240-250
apps/memory_api/tasks/__init__.py                                        0      0   100%
apps/memory_api/tasks/background_tasks.py                              231     71    69%   25, 42, 82-98, 128-142, 278-285, 296, 429-434, 446-453, 501-519, 543-548, 564-570, 592-595, 619-642, 654-688
apps/memory_api/tests/__init__.py                                        0      0   100%
apps/memory_api/tests/conftest.py                                       72      9    88%   25-27, 33, 61-64, 152-153
apps/memory_api/tests/core/__init__.py                                   0      0   100%
apps/memory_api/tests/core/test_actions.py                             201      0   100%
apps/memory_api/tests/core/test_actions_coverage.py                     54      0   100%
apps/memory_api/tests/core/test_graph_operator.py                      210      0   100%
apps/memory_api/tests/core/test_graph_operator_coverage.py              45      0   100%
apps/memory_api/tests/core/test_ib_coverage.py                          42      1    98%   21
apps/memory_api/tests/core/test_information_bottleneck.py              143      0   100%
apps/memory_api/tests/core/test_reward.py                              190      0   100%
apps/memory_api/tests/core/test_reward_coverage.py                      37      0   100%
apps/memory_api/tests/core/test_state.py                               159      0   100%
apps/memory_api/tests/observability/test_pii_scrubber.py                89      0   100%
apps/memory_api/tests/observability/test_rae_tracing.py                 78      0   100%
apps/memory_api/tests/repositories/test_cost_logs_repository.py         74      0   100%
apps/memory_api/tests/repositories/test_trigger_repository.py           80      0   100%
apps/memory_api/tests/services/llm/test_orchestrator_adapter.py         38      0   100%
apps/memory_api/tests/services/test_analytics_service.py                69      0   100%
apps/memory_api/tests/services/test_compliance_service.py               99      3    97%   24, 29, 34
apps/memory_api/tests/services/test_context_builder_coverage.py         56      0   100%
apps/memory_api/tests/services/test_context_builder_v3.py               33      0   100%
apps/memory_api/tests/services/test_cost_controller_v2.py               53      0   100%
apps/memory_api/tests/services/test_feedback_service.py                 32      0   100%
apps/memory_api/tests/services/test_graph_extraction_service_v2.py      71      0   100%
apps/memory_api/tests/services/test_hybrid_search_service.py           122      0   100%
apps/memory_api/tests/services/test_importance_scoring_coverage.py      68      0   100%
apps/memory_api/tests/services/test_memory_consolidation.py            168      0   100%
apps/memory_api/tests/services/test_memory_scoring_v2.py                59      0   100%
apps/memory_api/tests/services/test_memory_scoring_v3.py                46      0   100%
apps/memory_api/tests/services/test_reflection_engine_v2.py            103      0   100%
apps/memory_api/tests/services/test_reflection_pipeline.py             199      2    99%   32, 37
apps/memory_api/tests/services/test_retention_service.py                84      0   100%
apps/memory_api/tests/services/test_rules_engine.py                     96      0   100%
apps/memory_api/tests/services/test_semantic_extractor.py              133      0   100%
apps/memory_api/tests/services/test_semantic_search_v2.py              113      0   100%
apps/memory_api/tests/services/test_smart_reranker.py                   32      0   100%
apps/memory_api/tests/test_adapters.py                                 170      0   100%
apps/memory_api/tests/test_analytics.py                                121      0   100%
apps/memory_api/tests/test_api_client.py                               155      1    99%   116
apps/memory_api/tests/test_api_e2e.py                                   26      4    85%   57, 71, 86, 119
apps/memory_api/tests/test_background_tasks.py                         174      1    99%   430
apps/memory_api/tests/test_circuit_breaker.py                          270      1    99%   96
apps/memory_api/tests/test_context_provenance_service.py               194      0   100%
apps/memory_api/tests/test_dashboard_websocket.py                       96      0   100%
apps/memory_api/tests/test_db_validation.py                            100      0   100%
apps/memory_api/tests/test_evaluation_suite.py                          80      0   100%
apps/memory_api/tests/test_evaluator_llm.py                             43      0   100%
apps/memory_api/tests/test_event_triggers.py                            92      0   100%
apps/memory_api/tests/test_graph_algorithms.py                         238      0   100%
apps/memory_api/tests/test_graph_extraction.py                         135      1    99%   417
apps/memory_api/tests/test_graph_extraction_integration.py             120      3    98%   160, 195, 288
apps/memory_api/tests/test_human_approval_service.py                   185      0   100%
apps/memory_api/tests/test_hybrid_search.py                            227     10    96%   317-321, 413-417, 933
apps/memory_api/tests/test_openapi.py                                   10      0   100%
apps/memory_api/tests/test_opentelemetry.py                            179     13    93%   109, 345, 350, 355, 360, 373-391
apps/memory_api/tests/test_phase2_models.py                            158      1    99%   320
apps/memory_api/tests/test_phase2_plugins.py                           221      7    97%   55, 58, 61, 66, 71, 81, 460
apps/memory_api/tests/test_pii_scrubber.py                              75      1    99%   200
apps/memory_api/tests/test_policy_versioning_service.py                167      0   100%
apps/memory_api/tests/test_reflection_simple.py                         52      1    98%   144
apps/memory_api/tests/test_reflective_flags.py                         166    166     0%   7-354
apps/memory_api/tests/test_semantic_memory.py                           71      0   100%
apps/memory_api/tests/test_summarization_worker.py                      51      0   100%
apps/memory_api/tests/test_temporal_graph.py                           176      0   100%
apps/memory_api/tests/test_token_savings.py                             32      0   100%
apps/memory_api/tests/test_validation_service.py                        81      2    98%   50, 61
apps/memory_api/tests/test_vector_store.py                              75      1    99%   212
apps/memory_api/tests/test_workers.py                                  149      0   100%
apps/memory_api/utils/circuit_breaker.py                               106      1    99%   203
apps/memory_api/utils/cost_tracker.py                                   19     13    32%   29-64
apps/memory_api/utils/datetime_utils.py                                  4      0   100%
apps/memory_api/workers/__init__.py                                      2      0   100%
apps/memory_api/workers/memory_maintenance.py                          196     43    78%   152-156, 308-321, 386-387, 554-561, 585-586, 594-606, 678-684, 700-702, 734-762, 766
apps/ml_service/__init__.py                                              1      1     0%   7
apps/ml_service/main.py                                                 87     87     0%   12-331
apps/ml_service/services/__init__.py                                     0      0   100%
apps/ml_service/services/embedding_service.py                           28     28     0%   8-82
apps/ml_service/services/entity_resolution.py                           60     60     0%   11-186
apps/ml_service/services/nlp_service.py                                 72     72     0%   8-207
apps/ml_service/services/triple_extraction.py                          118    118     0%   8-318
apps/ml_service/tests/__init__.py                                        0      0   100%
apps/ml_service/tests/conftest.py                                       32     32     0%   1-52
apps/ml_service/tests/test_api.py                                      107    107     0%   1-181
apps/ml_service/tests/test_api_integration.py                           86     86     0%   1-143
apps/ml_service/tests/test_embedding_service.py                         61     61     0%   1-119
apps/ml_service/tests/test_entity_resolution_service.py                 88     88     0%   1-225
apps/ml_service/tests/test_nlp_service.py                              124    124     0%   1-257
apps/ml_service/tests/test_triple_extraction_service.py                165    165     0%   1-386
apps/reranker_service/__init__.py                                        0      0   100%
apps/reranker_service/config.py                                          6      6     0%   1-17
apps/reranker_service/main.py                                           30     30     0%   1-57
apps/reranker_service/tests/__init__.py                                  0      0   100%
apps/reranker_service/tests/conftest.py                                  9      9     0%   1-17
apps/reranker_service/tests/test_main.py                                39     39     0%   1-81
sdk/python/rae_memory_sdk/__init__.py                                    5      0   100%
sdk/python/rae_memory_sdk/client.py                                    245    151    38%   49, 72, 81-83, 91-92, 94-100, 102-103, 112, 120-124, 130-131, 154-160, 181-187, 199, 220-226, 242-245, 261-262, 290-291, 305, 318, 330, 365-380, 392, 413-417, 442-451, 484-498, 512, 521, 533, 545, 564-570, 597-609, 625-626, 644-645, 662-663, 677, 693-696, 704, 708, 735, 751-755, 767-770, 782-788, 799-806, 810, 818-819, 837-852, 858, 870-874, 887-896, 913-927, 933, 939, 943, 949, 960-966, 981-993, 1001-1002, 1010-1011, 1021-1022, 1028, 1036-1039, 1047, 1051, 1056, 1062-1063
sdk/python/rae_memory_sdk/decorators.py                                 89     18    80%   84-86, 115-116, 133-135, 166-167, 218, 244-246, 250, 286, 337-348, 355
sdk/python/rae_memory_sdk/models.py                                    129      0   100%
--------------------------------------------------------------------------------------------------
TOTAL                                                                25316   6730    73%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
[32mRequired test coverage of 65% reached. Total coverage: 73.42%
[0m============================= slowest 10 durations =============================
3.67s call     apps/memory_api/tests/test_openapi.py::test_openapi_schema
3.47s setup    apps/memory_api/tests/test_graph_extraction_integration.py::test_fetch_episodic_memories_uses_service
2.98s call     apps/memory_api/tests/test_pii_scrubber.py::TestPIIScrubber::test_scrub_email_address
1.76s call     tests/architecture/test_architecture.py::test_function_complexity
1.74s call     apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_pool_cleanup
1.49s call     apps/memory_api/tests/test_hybrid_search.py::TestHybridSearchService::test_error_handling
1.20s call     apps/memory_api/tests/test_api_client.py::test_cache_expiration
1.15s call     tests/architecture/test_architecture.py::test_no_circular_dependencies
1.12s call     apps/memory_api/tests/test_graph_extraction.py::TestGraphExtractionService::test_error_handling
1.10s call     apps/memory_api/tests/test_circuit_breaker.py::TestCircuitBreakerIntegration::test_full_lifecycle
[33m==== [32m885 passed[0m, [33m[1m14 skipped[0m, [33m[1m66 deselected[0m, [33m[1m4 warnings[0m[33m in 73.82s (0:01:13)[0m[33m =====[0m

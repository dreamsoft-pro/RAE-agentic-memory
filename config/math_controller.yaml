# RAE Math Controller Configuration (System 41.1)
# Centralized logic for Silicon Oracle and UICTC.

# Universal Ingest & Content-Type Control (UICTC)
ingest_params:
  target_chunk_size: 1500
  max_log_lines: 100
  boundary_patterns:
    log_timestamp: '\d{2,4}[-:/]\d{2}[-:/]\d{2,4}'
    procedure_step: '^(?:Step|Krok|Kolejno)\s*\d+'
    generic_separator: '\n\s*\n'
  # Automatic Feature Extraction (AFE)
  extraction_rules:
    truejet_speed:
      pattern: 'Speed:\s*(\d+\.?\d*)m\?\((\d+\.?\d*)m\)/h'
      mapping: {1: "speed_m2h", 2: "speed_mh"}
    truejet_size:
      pattern: 'Size:\s*(\d+)x'
      mapping: {1: "width_mm"}
    generic_job_id:
      pattern: 'Job\s*ID:\s*([A-Z0-9-]+)'
      mapping: {1: "job_id"}

# Content Signature Detection Thresholds
detection_thresholds:
  machine_telemetry_min_markers: 2
  log_time_marker_ratio: 0.4
  procedure_list_marker_ratio: 0.3
  table_marker_ratio: 0.4

# Semantic Resonance Params (Silicon Oracle)
resonance_params:
  anchor_token_min_len: 8
  anchor_boost_multiplier: 15.0
  # Strict Tiering Thresholds
  tiers:
    tier_0_coverage: 0.6 # Perfect Proof
    tier_1_coverage: 0.9 # Strong Match
  tier_boosters:
    tier_0: 1.0e15
    tier_1: 1.0e12

# Logic Gateway & Neural Scalpel
logic_gateway_params:
  # Default corpus size for h_sys calculation if unknown
  default_n_est_small: 10000.0
  default_n_est_large: 100000.0
  large_result_threshold: 100
  # Neural Reranking (Tier 2+)
  neural_scalpel:
    min_window: 30
    h_sys_multiplier: 10
    max_rerank_count: 50
    score_boost: 1000.0

# Fusion Strategy Config
strategies_config:
  legacy_416:
    k_factor: 1.0
    anchor_lock_boost: 1000.0
    partial_anchor_multiplier: 10.0
  silicon_oracle:
    rank_sharpening_divisor: 3.0

fusion_mode: "legacy_416"

2025-11-28T17:38:28.0425455Z Current runner version: '2.329.0'
2025-11-28T17:38:28.0460543Z ##[group]Runner Image Provisioner
2025-11-28T17:38:28.0461685Z Hosted Compute Agent
2025-11-28T17:38:28.0462491Z Version: 20251016.436
2025-11-28T17:38:28.0463596Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-11-28T17:38:28.0464682Z Build Date: 2025-10-15T20:44:12Z
2025-11-28T17:38:28.0465598Z ##[endgroup]
2025-11-28T17:38:28.0466562Z ##[group]Operating System
2025-11-28T17:38:28.0467387Z Ubuntu
2025-11-28T17:38:28.0468086Z 24.04.3
2025-11-28T17:38:28.0468904Z LTS
2025-11-28T17:38:28.0469717Z ##[endgroup]
2025-11-28T17:38:28.0470630Z ##[group]Runner Image
2025-11-28T17:38:28.0471598Z Image: ubuntu-24.04
2025-11-28T17:38:28.0472408Z Version: 20251112.124.1
2025-11-28T17:38:28.0474099Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20251112.124/images/ubuntu/Ubuntu2404-Readme.md
2025-11-28T17:38:28.0476765Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20251112.124
2025-11-28T17:38:28.0478534Z ##[endgroup]
2025-11-28T17:38:28.0483066Z ##[group]GITHUB_TOKEN Permissions
2025-11-28T17:38:28.0485899Z Actions: write
2025-11-28T17:38:28.0486711Z ArtifactMetadata: write
2025-11-28T17:38:28.0487606Z Attestations: write
2025-11-28T17:38:28.0488389Z Checks: write
2025-11-28T17:38:28.0489295Z Contents: write
2025-11-28T17:38:28.0490282Z Deployments: write
2025-11-28T17:38:28.0491054Z Discussions: write
2025-11-28T17:38:28.0492026Z Issues: write
2025-11-28T17:38:28.0492779Z Metadata: read
2025-11-28T17:38:28.0493642Z Models: read
2025-11-28T17:38:28.0494391Z Packages: write
2025-11-28T17:38:28.0495249Z Pages: write
2025-11-28T17:38:28.0495983Z PullRequests: write
2025-11-28T17:38:28.0496917Z RepositoryProjects: write
2025-11-28T17:38:28.0498007Z SecurityEvents: write
2025-11-28T17:38:28.0498874Z Statuses: write
2025-11-28T17:38:28.0499741Z ##[endgroup]
2025-11-28T17:38:28.0502897Z Secret source: Actions
2025-11-28T17:38:28.0504046Z Prepare workflow directory
2025-11-28T17:38:28.1135431Z Prepare all required actions
2025-11-28T17:38:28.1193485Z Getting action download info
2025-11-28T17:38:28.4226885Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2025-11-28T17:38:29.0675489Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2025-11-28T17:38:29.1790657Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2025-11-28T17:38:29.5387572Z Complete job name: Test (Python 3.12)
2025-11-28T17:38:29.5928891Z ##[group]Checking docker version
2025-11-28T17:38:29.5943706Z ##[command]/usr/bin/docker version --format '{{.Server.APIVersion}}'
2025-11-28T17:38:30.4669863Z '1.48'
2025-11-28T17:38:30.4684654Z Docker daemon API version: '1.48'
2025-11-28T17:38:30.4685135Z ##[command]/usr/bin/docker version --format '{{.Client.APIVersion}}'
2025-11-28T17:38:30.4848197Z '1.48'
2025-11-28T17:38:30.4861536Z Docker client API version: '1.48'
2025-11-28T17:38:30.4867376Z ##[endgroup]
2025-11-28T17:38:30.4870371Z ##[group]Clean up resources from previous jobs
2025-11-28T17:38:30.4875932Z ##[command]/usr/bin/docker ps --all --quiet --no-trunc --filter "label=9ec5d5"
2025-11-28T17:38:30.5016007Z ##[command]/usr/bin/docker network prune --force --filter "label=9ec5d5"
2025-11-28T17:38:30.5185432Z ##[endgroup]
2025-11-28T17:38:30.5185795Z ##[group]Create local container network
2025-11-28T17:38:30.5196100Z ##[command]/usr/bin/docker network create --label 9ec5d5 github_network_66eebfb5c2b64827b3a02d2702f3d7a7
2025-11-28T17:38:30.5690240Z 337d9ad54c205746c8460f84e82b95a8bdfd71912cd44c324db16900a9e5032a
2025-11-28T17:38:30.5708508Z ##[endgroup]
2025-11-28T17:38:30.5732690Z ##[group]Starting postgres service container
2025-11-28T17:38:30.5752184Z ##[command]/usr/bin/docker pull ankane/pgvector:latest
2025-11-28T17:38:30.8085645Z latest: Pulling from ankane/pgvector
2025-11-28T17:38:30.8802123Z a803e7c4b030: Pulling fs layer
2025-11-28T17:38:30.8802801Z 12dd3b657e91: Pulling fs layer
2025-11-28T17:38:30.8803535Z 147adba297eb: Pulling fs layer
2025-11-28T17:38:30.8803974Z 56ee7c0dd616: Pulling fs layer
2025-11-28T17:38:30.8804420Z f9aacf30f429: Pulling fs layer
2025-11-28T17:38:30.8805537Z 7ad57b8030eb: Pulling fs layer
2025-11-28T17:38:30.8805902Z 786562b3be85: Pulling fs layer
2025-11-28T17:38:30.8806216Z 04efcdd3a2a4: Pulling fs layer
2025-11-28T17:38:30.8806515Z 2c35234636c9: Pulling fs layer
2025-11-28T17:38:30.8806795Z 6e662fa63f18: Pulling fs layer
2025-11-28T17:38:30.8807105Z f1a157d7d7b0: Pulling fs layer
2025-11-28T17:38:30.8807394Z bb153abf3802: Pulling fs layer
2025-11-28T17:38:30.8807790Z 7077e54346e0: Pulling fs layer
2025-11-28T17:38:30.8808109Z 2e3723549f11: Pulling fs layer
2025-11-28T17:38:30.8808381Z c5f09b500022: Pulling fs layer
2025-11-28T17:38:30.8808638Z 56ee7c0dd616: Waiting
2025-11-28T17:38:30.8808898Z f9aacf30f429: Waiting
2025-11-28T17:38:30.8809131Z 7ad57b8030eb: Waiting
2025-11-28T17:38:30.8809363Z 2c35234636c9: Waiting
2025-11-28T17:38:30.8809585Z 786562b3be85: Waiting
2025-11-28T17:38:30.8809825Z 04efcdd3a2a4: Waiting
2025-11-28T17:38:30.8810273Z 6e662fa63f18: Waiting
2025-11-28T17:38:30.8810513Z f1a157d7d7b0: Waiting
2025-11-28T17:38:30.8810735Z 2e3723549f11: Waiting
2025-11-28T17:38:30.8810965Z bb153abf3802: Waiting
2025-11-28T17:38:30.8811191Z c5f09b500022: Waiting
2025-11-28T17:38:30.8811411Z 7077e54346e0: Waiting
2025-11-28T17:38:30.9735489Z 12dd3b657e91: Verifying Checksum
2025-11-28T17:38:30.9736220Z 12dd3b657e91: Download complete
2025-11-28T17:38:31.0572558Z 147adba297eb: Verifying Checksum
2025-11-28T17:38:31.0573215Z 147adba297eb: Download complete
2025-11-28T17:38:31.0788454Z 56ee7c0dd616: Verifying Checksum
2025-11-28T17:38:31.2209444Z 56ee7c0dd616: Download complete
2025-11-28T17:38:31.2210230Z 7ad57b8030eb: Verifying Checksum
2025-11-28T17:38:31.2211499Z 7ad57b8030eb: Download complete
2025-11-28T17:38:31.2255552Z f9aacf30f429: Verifying Checksum
2025-11-28T17:38:31.2257053Z f9aacf30f429: Download complete
2025-11-28T17:38:31.3032289Z 786562b3be85: Verifying Checksum
2025-11-28T17:38:31.3033363Z 786562b3be85: Download complete
2025-11-28T17:38:31.3096388Z a803e7c4b030: Verifying Checksum
2025-11-28T17:38:31.3097529Z a803e7c4b030: Download complete
2025-11-28T17:38:31.3224665Z 04efcdd3a2a4: Verifying Checksum
2025-11-28T17:38:31.3226402Z 04efcdd3a2a4: Download complete
2025-11-28T17:38:31.3909879Z 6e662fa63f18: Verifying Checksum
2025-11-28T17:38:31.3914769Z 6e662fa63f18: Download complete
2025-11-28T17:38:31.4255624Z f1a157d7d7b0: Verifying Checksum
2025-11-28T17:38:31.4259157Z f1a157d7d7b0: Download complete
2025-11-28T17:38:31.4817739Z bb153abf3802: Verifying Checksum
2025-11-28T17:38:31.4818464Z bb153abf3802: Download complete
2025-11-28T17:38:31.5192073Z 7077e54346e0: Verifying Checksum
2025-11-28T17:38:31.5814575Z 7077e54346e0: Download complete
2025-11-28T17:38:31.5815063Z 2e3723549f11: Verifying Checksum
2025-11-28T17:38:31.5815500Z 2e3723549f11: Download complete
2025-11-28T17:38:31.7365780Z c5f09b500022: Verifying Checksum
2025-11-28T17:38:31.7367477Z c5f09b500022: Download complete
2025-11-28T17:38:32.6026384Z a803e7c4b030: Pull complete
2025-11-28T17:38:32.6607371Z 2c35234636c9: Verifying Checksum
2025-11-28T17:38:32.9072097Z 2c35234636c9: Download complete
2025-11-28T17:38:32.9072457Z 12dd3b657e91: Pull complete
2025-11-28T17:38:33.0423490Z 147adba297eb: Pull complete
2025-11-28T17:38:33.0915078Z 56ee7c0dd616: Pull complete
2025-11-28T17:38:33.4026130Z f9aacf30f429: Pull complete
2025-11-28T17:38:33.5066815Z 7ad57b8030eb: Pull complete
2025-11-28T17:38:33.5198963Z 786562b3be85: Pull complete
2025-11-28T17:38:33.5346748Z 04efcdd3a2a4: Pull complete
2025-11-28T17:38:36.2512465Z 2c35234636c9: Pull complete
2025-11-28T17:38:36.2697477Z 6e662fa63f18: Pull complete
2025-11-28T17:38:36.2972556Z f1a157d7d7b0: Pull complete
2025-11-28T17:38:36.3110646Z bb153abf3802: Pull complete
2025-11-28T17:38:36.3260914Z 7077e54346e0: Pull complete
2025-11-28T17:38:36.3645045Z 2e3723549f11: Pull complete
2025-11-28T17:38:36.7363405Z c5f09b500022: Pull complete
2025-11-28T17:38:36.7411164Z Digest: sha256:956744bd14e9cbdf639c61c2a2a7c7c2c48a9c8cdd42f7de4ac034f4e96b90f8
2025-11-28T17:38:36.7425006Z Status: Downloaded newer image for ankane/pgvector:latest
2025-11-28T17:38:36.7440126Z docker.io/ankane/pgvector:latest
2025-11-28T17:38:36.7515780Z ##[command]/usr/bin/docker create --name aa1fc07f613a4f0eaca5b56801366abe_ankanepgvectorlatest_1b6e4c --label 9ec5d5 --network github_network_66eebfb5c2b64827b3a02d2702f3d7a7 --network-alias postgres -p 5432:5432 --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5 -e "POSTGRES_PASSWORD=postgres" -e "POSTGRES_USER=postgres" -e "POSTGRES_DB=test_rae" -e GITHUB_ACTIONS=true -e CI=true ankane/pgvector:latest
2025-11-28T17:38:36.7863414Z 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:36.7887371Z ##[command]/usr/bin/docker start 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:37.3608533Z 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:37.3637316Z ##[command]/usr/bin/docker ps --all --filter id=1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-11-28T17:38:37.3773323Z 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e Up Less than a second (health: starting)
2025-11-28T17:38:37.3795114Z ##[command]/usr/bin/docker port 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:37.3924735Z 5432/tcp -> 0.0.0.0:5432
2025-11-28T17:38:37.3925859Z 5432/tcp -> [::]:5432
2025-11-28T17:38:37.3972832Z ##[endgroup]
2025-11-28T17:38:37.3974009Z ##[group]Starting redis service container
2025-11-28T17:38:37.3975220Z ##[command]/usr/bin/docker pull redis:7-alpine
2025-11-28T17:38:37.6093967Z 7-alpine: Pulling from library/redis
2025-11-28T17:38:37.6802693Z f637881d1138: Pulling fs layer
2025-11-28T17:38:37.6803157Z 60c57c0072ef: Pulling fs layer
2025-11-28T17:38:37.6803525Z fc4343b4accd: Pulling fs layer
2025-11-28T17:38:37.6803980Z 380e8aa8b1fd: Pulling fs layer
2025-11-28T17:38:37.6804355Z c70aae7b5e0d: Pulling fs layer
2025-11-28T17:38:37.6804772Z 232f7549c9b0: Pulling fs layer
2025-11-28T17:38:37.6805163Z 4f4fb700ef54: Pulling fs layer
2025-11-28T17:38:37.6805599Z d75b3becd998: Pulling fs layer
2025-11-28T17:38:37.6806001Z 380e8aa8b1fd: Waiting
2025-11-28T17:38:37.6806315Z c70aae7b5e0d: Waiting
2025-11-28T17:38:37.6806629Z 232f7549c9b0: Waiting
2025-11-28T17:38:37.6806949Z 4f4fb700ef54: Waiting
2025-11-28T17:38:37.6807692Z d75b3becd998: Waiting
2025-11-28T17:38:37.7605009Z 60c57c0072ef: Verifying Checksum
2025-11-28T17:38:37.7607457Z 60c57c0072ef: Download complete
2025-11-28T17:38:37.7687606Z fc4343b4accd: Verifying Checksum
2025-11-28T17:38:37.7688403Z fc4343b4accd: Download complete
2025-11-28T17:38:37.8090754Z f637881d1138: Verifying Checksum
2025-11-28T17:38:37.8091636Z f637881d1138: Download complete
2025-11-28T17:38:37.8913481Z 232f7549c9b0: Download complete
2025-11-28T17:38:37.8973047Z 380e8aa8b1fd: Verifying Checksum
2025-11-28T17:38:37.8975215Z 380e8aa8b1fd: Download complete
2025-11-28T17:38:37.9351618Z f637881d1138: Pull complete
2025-11-28T17:38:37.9692969Z 60c57c0072ef: Pull complete
2025-11-28T17:38:37.9774341Z d75b3becd998: Verifying Checksum
2025-11-28T17:38:37.9777206Z d75b3becd998: Download complete
2025-11-28T17:38:38.0005898Z 4f4fb700ef54: Download complete
2025-11-28T17:38:38.0200424Z c70aae7b5e0d: Verifying Checksum
2025-11-28T17:38:38.0200919Z c70aae7b5e0d: Download complete
2025-11-28T17:38:38.1348779Z fc4343b4accd: Pull complete
2025-11-28T17:38:38.1643225Z 380e8aa8b1fd: Pull complete
2025-11-28T17:38:38.3705096Z c70aae7b5e0d: Pull complete
2025-11-28T17:38:38.3841972Z 232f7549c9b0: Pull complete
2025-11-28T17:38:38.3980587Z 4f4fb700ef54: Pull complete
2025-11-28T17:38:38.4097016Z d75b3becd998: Pull complete
2025-11-28T17:38:38.4141268Z Digest: sha256:ee64a64eaab618d88051c3ade8f6352d11531fcf79d9a4818b9b183d8c1d18ba
2025-11-28T17:38:38.4158893Z Status: Downloaded newer image for redis:7-alpine
2025-11-28T17:38:38.4170139Z docker.io/library/redis:7-alpine
2025-11-28T17:38:38.4186715Z ##[command]/usr/bin/docker create --name c23bca7ab22e4591a773e1be28414bf1_redis7alpine_ca17f7 --label 9ec5d5 --network github_network_66eebfb5c2b64827b3a02d2702f3d7a7 --network-alias redis -p 6379:6379 --health-cmd "redis-cli ping" --health-interval 10s --health-timeout 5s --health-retries 5 -e GITHUB_ACTIONS=true -e CI=true redis:7-alpine
2025-11-28T17:38:38.4469636Z 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:38:38.4488902Z ##[command]/usr/bin/docker start 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:38:38.5846867Z 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:38:38.5860275Z ##[command]/usr/bin/docker ps --all --filter id=5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395 --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-11-28T17:38:38.5993950Z 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395 Up Less than a second (health: starting)
2025-11-28T17:38:38.6009053Z ##[command]/usr/bin/docker port 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:38:38.6129225Z 6379/tcp -> 0.0.0.0:6379
2025-11-28T17:38:38.6129594Z 6379/tcp -> [::]:6379
2025-11-28T17:38:38.6143208Z ##[endgroup]
2025-11-28T17:38:38.6143982Z ##[group]Starting qdrant service container
2025-11-28T17:38:38.6144699Z ##[command]/usr/bin/docker pull qdrant/qdrant:latest
2025-11-28T17:38:38.8174566Z latest: Pulling from qdrant/qdrant
2025-11-28T17:38:38.8858372Z 0e4bc2bd6656: Pulling fs layer
2025-11-28T17:38:38.8859168Z 4f4fb700ef54: Pulling fs layer
2025-11-28T17:38:38.8860252Z e7e3b24edd4b: Pulling fs layer
2025-11-28T17:38:38.8860655Z c34aec5dcf80: Pulling fs layer
2025-11-28T17:38:38.8861010Z 231dc95f1e77: Pulling fs layer
2025-11-28T17:38:38.8861281Z c69c70becb6a: Pulling fs layer
2025-11-28T17:38:38.8861628Z 46054db6899d: Pulling fs layer
2025-11-28T17:38:38.8861976Z c838b6ce71e9: Pulling fs layer
2025-11-28T17:38:38.8862345Z c34aec5dcf80: Waiting
2025-11-28T17:38:38.8862628Z 231dc95f1e77: Waiting
2025-11-28T17:38:38.8862942Z c69c70becb6a: Waiting
2025-11-28T17:38:38.8863223Z 46054db6899d: Waiting
2025-11-28T17:38:38.8863503Z c838b6ce71e9: Waiting
2025-11-28T17:38:38.9822481Z 4f4fb700ef54: Verifying Checksum
2025-11-28T17:38:38.9823295Z 4f4fb700ef54: Download complete
2025-11-28T17:38:39.0072264Z e7e3b24edd4b: Verifying Checksum
2025-11-28T17:38:39.0072749Z e7e3b24edd4b: Download complete
2025-11-28T17:38:39.1088592Z 231dc95f1e77: Verifying Checksum
2025-11-28T17:38:39.1089111Z 231dc95f1e77: Download complete
2025-11-28T17:38:39.2760788Z c69c70becb6a: Download complete
2025-11-28T17:38:39.3011107Z 0e4bc2bd6656: Verifying Checksum
2025-11-28T17:38:39.3013172Z 0e4bc2bd6656: Download complete
2025-11-28T17:38:39.3825249Z 46054db6899d: Verifying Checksum
2025-11-28T17:38:39.3825733Z 46054db6899d: Download complete
2025-11-28T17:38:39.4313652Z c34aec5dcf80: Verifying Checksum
2025-11-28T17:38:39.4314864Z c34aec5dcf80: Download complete
2025-11-28T17:38:39.5127119Z c838b6ce71e9: Verifying Checksum
2025-11-28T17:38:39.5127585Z c838b6ce71e9: Download complete
2025-11-28T17:38:40.2504501Z 0e4bc2bd6656: Pull complete
2025-11-28T17:38:40.3195344Z 4f4fb700ef54: Pull complete
2025-11-28T17:38:40.4425012Z e7e3b24edd4b: Pull complete
2025-11-28T17:38:40.9178090Z c34aec5dcf80: Pull complete
2025-11-28T17:38:40.9303219Z 231dc95f1e77: Pull complete
2025-11-28T17:38:40.9422993Z c69c70becb6a: Pull complete
2025-11-28T17:38:40.9531538Z 46054db6899d: Pull complete
2025-11-28T17:38:41.0784781Z c838b6ce71e9: Pull complete
2025-11-28T17:38:41.0927613Z Digest: sha256:db1c735496dfa982ef27576a17b624e48e6b46a140bcdc2ac34e39d186204ef5
2025-11-28T17:38:41.0948477Z Status: Downloaded newer image for qdrant/qdrant:latest
2025-11-28T17:38:41.0960879Z docker.io/qdrant/qdrant:latest
2025-11-28T17:38:41.0976851Z ##[command]/usr/bin/docker create --name 028ff59618a54bcabda7a45830ba34c4_qdrantqdrantlatest_ce30f2 --label 9ec5d5 --network github_network_66eebfb5c2b64827b3a02d2702f3d7a7 --network-alias qdrant -p 6333:6333  -e GITHUB_ACTIONS=true -e CI=true qdrant/qdrant:latest
2025-11-28T17:38:41.1237309Z 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:38:41.1251235Z ##[command]/usr/bin/docker start 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:38:41.2637523Z 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:38:41.2659894Z ##[command]/usr/bin/docker ps --all --filter id=017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3 --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-11-28T17:38:41.2806359Z 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3 Up Less than a second
2025-11-28T17:38:41.2827037Z ##[command]/usr/bin/docker port 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:38:41.2983393Z 6333/tcp -> 0.0.0.0:6333
2025-11-28T17:38:41.2983964Z 6333/tcp -> [::]:6333
2025-11-28T17:38:41.3001208Z ##[endgroup]
2025-11-28T17:38:41.3012913Z ##[group]Waiting for all services to be ready
2025-11-28T17:38:41.3026378Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:41.3151774Z starting
2025-11-28T17:38:41.3173952Z postgres service is starting, waiting 2 seconds before checking again.
2025-11-28T17:38:43.3175064Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:43.3295148Z starting
2025-11-28T17:38:43.3308827Z postgres service is starting, waiting 3 seconds before checking again.
2025-11-28T17:38:47.2709854Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:47.2835674Z starting
2025-11-28T17:38:47.2849936Z postgres service is starting, waiting 8 seconds before checking again.
2025-11-28T17:38:55.5821858Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:38:55.5940369Z healthy
2025-11-28T17:38:55.5957170Z postgres service is healthy.
2025-11-28T17:38:55.5958232Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:38:55.6071675Z healthy
2025-11-28T17:38:55.6085971Z redis service is healthy.
2025-11-28T17:38:55.6086718Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:38:55.6211221Z qdrant service is healthy.
2025-11-28T17:38:55.6211662Z ##[endgroup]
2025-11-28T17:38:55.6449121Z ##[group]Run actions/checkout@v4
2025-11-28T17:38:55.6449674Z with:
2025-11-28T17:38:55.6449919Z   repository: dreamsoft-pro/RAE-agentic-memory
2025-11-28T17:38:55.6450696Z   token: ***
2025-11-28T17:38:55.6450895Z   ssh-strict: true
2025-11-28T17:38:55.6451086Z   ssh-user: git
2025-11-28T17:38:55.6451289Z   persist-credentials: true
2025-11-28T17:38:55.6451516Z   clean: true
2025-11-28T17:38:55.6451720Z   sparse-checkout-cone-mode: true
2025-11-28T17:38:55.6451957Z   fetch-depth: 1
2025-11-28T17:38:55.6452150Z   fetch-tags: false
2025-11-28T17:38:55.6452340Z   show-progress: true
2025-11-28T17:38:55.6452538Z   lfs: false
2025-11-28T17:38:55.6452713Z   submodules: false
2025-11-28T17:38:55.6452910Z   set-safe-directory: true
2025-11-28T17:38:55.6453394Z ##[endgroup]
2025-11-28T17:38:55.7535885Z Syncing repository: dreamsoft-pro/RAE-agentic-memory
2025-11-28T17:38:55.7537191Z ##[group]Getting Git version info
2025-11-28T17:38:55.7537683Z Working directory is '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory'
2025-11-28T17:38:55.7538560Z [command]/usr/bin/git version
2025-11-28T17:38:55.8366674Z git version 2.51.2
2025-11-28T17:38:55.8393905Z ##[endgroup]
2025-11-28T17:38:55.8407885Z Temporarily overriding HOME='/home/runner/work/_temp/0d6b5a05-75ca-481c-90d6-62bc1d58e1e4' before making global git config changes
2025-11-28T17:38:55.8408841Z Adding repository directory to the temporary git global config as a safe directory
2025-11-28T17:38:55.8413647Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/RAE-agentic-memory/RAE-agentic-memory
2025-11-28T17:38:55.8482472Z Deleting the contents of '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory'
2025-11-28T17:38:55.8486021Z ##[group]Initializing the repository
2025-11-28T17:38:55.8490094Z [command]/usr/bin/git init /home/runner/work/RAE-agentic-memory/RAE-agentic-memory
2025-11-28T17:38:55.9076610Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-11-28T17:38:55.9077308Z hint: is subject to change. To configure the initial branch name to use in all
2025-11-28T17:38:55.9077899Z hint: of your new repositories, which will suppress this warning, call:
2025-11-28T17:38:55.9078284Z hint:
2025-11-28T17:38:55.9078568Z hint: 	git config --global init.defaultBranch <name>
2025-11-28T17:38:55.9078883Z hint:
2025-11-28T17:38:55.9079199Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-11-28T17:38:55.9079736Z hint: 'development'. The just-created branch can be renamed via this command:
2025-11-28T17:38:55.9080340Z hint:
2025-11-28T17:38:55.9080558Z hint: 	git branch -m <name>
2025-11-28T17:38:55.9080791Z hint:
2025-11-28T17:38:55.9081135Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-11-28T17:38:55.9113340Z Initialized empty Git repository in /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/.git/
2025-11-28T17:38:55.9126380Z [command]/usr/bin/git remote add origin https://github.com/dreamsoft-pro/RAE-agentic-memory
2025-11-28T17:38:55.9203260Z ##[endgroup]
2025-11-28T17:38:55.9203692Z ##[group]Disabling automatic garbage collection
2025-11-28T17:38:55.9207781Z [command]/usr/bin/git config --local gc.auto 0
2025-11-28T17:38:55.9236528Z ##[endgroup]
2025-11-28T17:38:55.9236883Z ##[group]Setting up auth
2025-11-28T17:38:55.9244127Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-28T17:38:55.9274775Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-28T17:38:56.0808934Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-28T17:38:56.0842233Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-28T17:38:56.1084561Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-11-28T17:38:56.1119701Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-11-28T17:38:56.1345516Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-11-28T17:38:56.1379675Z ##[endgroup]
2025-11-28T17:38:56.1380612Z ##[group]Fetching the repository
2025-11-28T17:38:56.1388586Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +fbac3ab396c08da0f089066e2301ab6ad011004c:refs/remotes/origin/main
2025-11-28T17:38:56.5988919Z From https://github.com/dreamsoft-pro/RAE-agentic-memory
2025-11-28T17:38:56.5989689Z  * [new ref]         fbac3ab396c08da0f089066e2301ab6ad011004c -> origin/main
2025-11-28T17:38:56.6055812Z ##[endgroup]
2025-11-28T17:38:56.6056404Z ##[group]Determining the checkout info
2025-11-28T17:38:56.6058413Z ##[endgroup]
2025-11-28T17:38:56.6063744Z [command]/usr/bin/git sparse-checkout disable
2025-11-28T17:38:56.6132068Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-11-28T17:38:56.6157012Z ##[group]Checking out the ref
2025-11-28T17:38:56.6161249Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-11-28T17:38:56.6559386Z Switched to a new branch 'main'
2025-11-28T17:38:56.6560640Z branch 'main' set up to track 'origin/main'.
2025-11-28T17:38:56.6568992Z ##[endgroup]
2025-11-28T17:38:56.6608698Z [command]/usr/bin/git log -1 --format=%H
2025-11-28T17:38:56.6631128Z fbac3ab396c08da0f089066e2301ab6ad011004c
2025-11-28T17:38:56.6841605Z ##[group]Run actions/setup-python@v5
2025-11-28T17:38:56.6841887Z with:
2025-11-28T17:38:56.6842060Z   python-version: 3.12
2025-11-28T17:38:56.6842253Z   cache: pip
2025-11-28T17:38:56.6842420Z   check-latest: false
2025-11-28T17:38:56.6842736Z   token: ***
2025-11-28T17:38:56.6842916Z   update-environment: true
2025-11-28T17:38:56.6843149Z   allow-prereleases: false
2025-11-28T17:38:56.6843349Z   freethreaded: false
2025-11-28T17:38:56.6843538Z ##[endgroup]
2025-11-28T17:38:56.8512765Z ##[group]Installed versions
2025-11-28T17:38:56.9149073Z Successfully set up CPython (3.12.12)
2025-11-28T17:38:56.9150611Z ##[endgroup]
2025-11-28T17:38:57.0425060Z [command]/opt/hostedtoolcache/Python/3.12.12/x64/bin/pip cache dir
2025-11-28T17:38:58.4216038Z /home/runner/.cache/pip
2025-11-28T17:38:58.5555226Z Cache hit for: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.12-pip-95ebd838ea30dfa2c987f9bac75f820c290461fa42ed4bab22d8dee29c03de2a
2025-11-28T17:38:59.6040866Z Received 204908394 of 204908394 (100.0%), 193.1 MBs/sec
2025-11-28T17:38:59.6041633Z Cache Size: ~195 MB (204908394 B)
2025-11-28T17:38:59.6083165Z [command]/usr/bin/tar -xf /home/runner/work/_temp/5b17fe0a-92ab-4d63-b038-fd01052dabb1/cache.tzst -P -C /home/runner/work/RAE-agentic-memory/RAE-agentic-memory --use-compress-program unzstd
2025-11-28T17:38:59.9948580Z Cache restored successfully
2025-11-28T17:39:00.0350663Z Cache restored from key: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.12-pip-95ebd838ea30dfa2c987f9bac75f820c290461fa42ed4bab22d8dee29c03de2a
2025-11-28T17:39:00.0533113Z ##[group]Run python -m pip install --upgrade pip
2025-11-28T17:39:00.0533537Z [36;1mpython -m pip install --upgrade pip[0m
2025-11-28T17:39:00.0533851Z [36;1mpip install -r requirements-dev.txt[0m
2025-11-28T17:39:00.0534195Z [36;1mpip install -r apps/memory_api/requirements-base.txt[0m
2025-11-28T17:39:00.0534581Z [36;1mpip install -r apps/memory_api/requirements-test.txt[0m
2025-11-28T17:39:00.0534924Z [36;1mpip install -e sdk/python/rae_memory_sdk[0m
2025-11-28T17:39:00.0575836Z shell: /usr/bin/bash -e {0}
2025-11-28T17:39:00.0576090Z env:
2025-11-28T17:39:00.0576343Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:00.0576806Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib/pkgconfig
2025-11-28T17:39:00.0577203Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:00.0577569Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:00.0577951Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:00.0578313Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib
2025-11-28T17:39:00.0578631Z ##[endgroup]
2025-11-28T17:39:01.3710639Z Requirement already satisfied: pip in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (25.3)
2025-11-28T17:39:02.7914162Z Collecting ruff (from -r requirements-dev.txt (line 2))
2025-11-28T17:39:02.7928909Z   Using cached ruff-0.14.6-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (25 kB)
2025-11-28T17:39:02.8342163Z Collecting pytest (from -r requirements-dev.txt (line 3))
2025-11-28T17:39:02.8354954Z   Using cached pytest-9.0.1-py3-none-any.whl.metadata (7.6 kB)
2025-11-28T17:39:02.8604739Z Collecting pytest-asyncio (from -r requirements-dev.txt (line 4))
2025-11-28T17:39:02.8616527Z   Using cached pytest_asyncio-1.3.0-py3-none-any.whl.metadata (4.1 kB)
2025-11-28T17:39:02.8802455Z Collecting pytest-cov (from -r requirements-dev.txt (line 5))
2025-11-28T17:39:02.8813903Z   Using cached pytest_cov-7.0.0-py3-none-any.whl.metadata (31 kB)
2025-11-28T17:39:03.0149221Z Collecting mypy (from -r requirements-dev.txt (line 6))
2025-11-28T17:39:03.0916626Z   Downloading mypy-1.19.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.2 kB)
2025-11-28T17:39:03.1089502Z Collecting iniconfig>=1.0.1 (from pytest->-r requirements-dev.txt (line 3))
2025-11-28T17:39:03.1101827Z   Using cached iniconfig-2.3.0-py3-none-any.whl.metadata (2.5 kB)
2025-11-28T17:39:03.1290276Z Collecting packaging>=22 (from pytest->-r requirements-dev.txt (line 3))
2025-11-28T17:39:03.1302610Z   Using cached packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2025-11-28T17:39:03.1453772Z Collecting pluggy<2,>=1.5 (from pytest->-r requirements-dev.txt (line 3))
2025-11-28T17:39:03.1465362Z   Using cached pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
2025-11-28T17:39:03.1687223Z Collecting pygments>=2.7.2 (from pytest->-r requirements-dev.txt (line 3))
2025-11-28T17:39:03.1699194Z   Using cached pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
2025-11-28T17:39:03.2003349Z Collecting typing-extensions>=4.12 (from pytest-asyncio->-r requirements-dev.txt (line 4))
2025-11-28T17:39:03.2015305Z   Using cached typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
2025-11-28T17:39:03.5685223Z Collecting coverage>=7.10.6 (from coverage[toml]>=7.10.6->pytest-cov->-r requirements-dev.txt (line 5))
2025-11-28T17:39:03.5698916Z   Using cached coverage-7.12.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (9.1 kB)
2025-11-28T17:39:03.6003743Z Collecting mypy_extensions>=1.0.0 (from mypy->-r requirements-dev.txt (line 6))
2025-11-28T17:39:03.6015867Z   Using cached mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:03.6166890Z Collecting pathspec>=0.9.0 (from mypy->-r requirements-dev.txt (line 6))
2025-11-28T17:39:03.6179842Z   Using cached pathspec-0.12.1-py3-none-any.whl.metadata (21 kB)
2025-11-28T17:39:03.6890526Z Collecting librt>=0.6.2 (from mypy->-r requirements-dev.txt (line 6))
2025-11-28T17:39:03.6969924Z   Downloading librt-0.6.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (1.3 kB)
2025-11-28T17:39:03.7066370Z Using cached ruff-0.14.6-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.9 MB)
2025-11-28T17:39:03.7179460Z Using cached pytest-9.0.1-py3-none-any.whl (373 kB)
2025-11-28T17:39:03.7192652Z Using cached pluggy-1.6.0-py3-none-any.whl (20 kB)
2025-11-28T17:39:03.7203353Z Using cached pytest_asyncio-1.3.0-py3-none-any.whl (15 kB)
2025-11-28T17:39:03.7213771Z Using cached pytest_cov-7.0.0-py3-none-any.whl (22 kB)
2025-11-28T17:39:03.7324111Z Downloading mypy-1.19.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (13.6 MB)
2025-11-28T17:39:04.1105789Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.6/13.6 MB 40.2 MB/s  0:00:00
2025-11-28T17:39:04.1119850Z Using cached coverage-7.12.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (252 kB)
2025-11-28T17:39:04.1132387Z Using cached iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
2025-11-28T17:39:04.1212271Z Downloading librt-0.6.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (88 kB)
2025-11-28T17:39:04.1249581Z Using cached mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)
2025-11-28T17:39:04.1260240Z Using cached packaging-25.0-py3-none-any.whl (66 kB)
2025-11-28T17:39:04.1271488Z Using cached pathspec-0.12.1-py3-none-any.whl (31 kB)
2025-11-28T17:39:04.1283062Z Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
2025-11-28T17:39:04.1303022Z Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)
2025-11-28T17:39:04.2131732Z Installing collected packages: typing-extensions, ruff, pygments, pluggy, pathspec, packaging, mypy_extensions, librt, iniconfig, coverage, pytest, mypy, pytest-cov, pytest-asyncio
2025-11-28T17:39:07.0866298Z 
2025-11-28T17:39:07.0886948Z Successfully installed coverage-7.12.0 iniconfig-2.3.0 librt-0.6.2 mypy-1.19.0 mypy_extensions-1.1.0 packaging-25.0 pathspec-0.12.1 pluggy-1.6.0 pygments-2.19.2 pytest-9.0.1 pytest-asyncio-1.3.0 pytest-cov-7.0.0 ruff-0.14.6 typing-extensions-4.15.0
2025-11-28T17:39:08.0394670Z Collecting fastapi==0.115.0 (from -r apps/memory_api/requirements-base.txt (line 6))
2025-11-28T17:39:08.0410378Z   Using cached fastapi-0.115.0-py3-none-any.whl.metadata (27 kB)
2025-11-28T17:39:08.0746853Z Collecting uvicorn==0.38.0 (from -r apps/memory_api/requirements-base.txt (line 7))
2025-11-28T17:39:08.0760522Z   Using cached uvicorn-0.38.0-py3-none-any.whl.metadata (6.8 kB)
2025-11-28T17:39:08.2034398Z Collecting pydantic==2.12.4 (from -r apps/memory_api/requirements-base.txt (line 8))
2025-11-28T17:39:08.2047378Z   Using cached pydantic-2.12.4-py3-none-any.whl.metadata (89 kB)
2025-11-28T17:39:08.2253441Z Collecting pydantic-settings==2.12.0 (from -r apps/memory_api/requirements-base.txt (line 9))
2025-11-28T17:39:08.2264887Z   Using cached pydantic_settings-2.12.0-py3-none-any.whl.metadata (3.4 kB)
2025-11-28T17:39:08.2728680Z Collecting asyncpg==0.30.0 (from -r apps/memory_api/requirements-base.txt (line 12))
2025-11-28T17:39:08.2740820Z   Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.0 kB)
2025-11-28T17:39:08.3061928Z Collecting qdrant-client==1.10.1 (from -r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:08.3073502Z   Using cached qdrant_client-1.10.1-py3-none-any.whl.metadata (10 kB)
2025-11-28T17:39:08.3249298Z Collecting pgvector==0.4.1 (from -r apps/memory_api/requirements-base.txt (line 14))
2025-11-28T17:39:08.3260495Z   Using cached pgvector-0.4.1-py3-none-any.whl.metadata (18 kB)
2025-11-28T17:39:08.3512944Z Collecting alembic==1.17.2 (from -r apps/memory_api/requirements-base.txt (line 15))
2025-11-28T17:39:08.3524159Z   Using cached alembic-1.17.2-py3-none-any.whl.metadata (7.2 kB)
2025-11-28T17:39:08.3738869Z Collecting httpx==0.27.2 (from -r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:08.3750638Z   Using cached httpx-0.27.2-py3-none-any.whl.metadata (7.1 kB)
2025-11-28T17:39:08.4106802Z Collecting celery==5.5.3 (from -r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:08.4118634Z   Using cached celery-5.5.3-py3-none-any.whl.metadata (22 kB)
2025-11-28T17:39:08.4597462Z Collecting redis==7.1.0 (from -r apps/memory_api/requirements-base.txt (line 22))
2025-11-28T17:39:08.4609828Z   Using cached redis-7.1.0-py3-none-any.whl.metadata (12 kB)
2025-11-28T17:39:08.4838547Z Collecting opentelemetry-sdk==1.27.0 (from -r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:08.4850402Z   Using cached opentelemetry_sdk-1.27.0-py3-none-any.whl.metadata (1.5 kB)
2025-11-28T17:39:08.5056892Z Collecting opentelemetry-instrumentation-fastapi==0.48b0 (from -r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:08.5068798Z   Using cached opentelemetry_instrumentation_fastapi-0.48b0-py3-none-any.whl.metadata (2.1 kB)
2025-11-28T17:39:08.5253364Z Collecting prometheus-fastapi-instrumentator==7.1.0 (from -r apps/memory_api/requirements-base.txt (line 27))
2025-11-28T17:39:08.5264877Z   Using cached prometheus_fastapi_instrumentator-7.1.0-py3-none-any.whl.metadata (13 kB)
2025-11-28T17:39:08.5445692Z Collecting prometheus_client==0.23.1 (from -r apps/memory_api/requirements-base.txt (line 28))
2025-11-28T17:39:08.5457235Z   Using cached prometheus_client-0.23.1-py3-none-any.whl.metadata (1.9 kB)
2025-11-28T17:39:08.5627256Z Collecting structlog==25.5.0 (from -r apps/memory_api/requirements-base.txt (line 29))
2025-11-28T17:39:08.5639872Z   Using cached structlog-25.5.0-py3-none-any.whl.metadata (9.5 kB)
2025-11-28T17:39:08.7796048Z Collecting litellm==1.80.0 (from -r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:08.7809426Z   Using cached litellm-1.80.0-py3-none-any.whl.metadata (30 kB)
2025-11-28T17:39:08.8487493Z Collecting openai==2.8.1 (from -r apps/memory_api/requirements-base.txt (line 33))
2025-11-28T17:39:08.8500719Z   Using cached openai-2.8.1-py3-none-any.whl.metadata (29 kB)
2025-11-28T17:39:08.8874977Z Collecting anthropic==0.74.1 (from -r apps/memory_api/requirements-base.txt (line 34))
2025-11-28T17:39:08.8919411Z   Using cached anthropic-0.74.1-py3-none-any.whl.metadata (28 kB)
2025-11-28T17:39:08.9068005Z Collecting google-generativeai==0.8.5 (from -r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:08.9080705Z   Using cached google_generativeai-0.8.5-py3-none-any.whl.metadata (3.9 kB)
2025-11-28T17:39:08.9273549Z Collecting tenacity==9.1.2 (from -r apps/memory_api/requirements-base.txt (line 38))
2025-11-28T17:39:08.9285635Z   Using cached tenacity-9.1.2-py3-none-any.whl.metadata (1.2 kB)
2025-11-28T17:39:08.9469914Z Collecting python-jose==3.5.0 (from python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:08.9481879Z   Using cached python_jose-3.5.0-py2.py3-none-any.whl.metadata (5.5 kB)
2025-11-28T17:39:09.0230480Z Collecting zstandard==0.25.0 (from -r apps/memory_api/requirements-base.txt (line 40))
2025-11-28T17:39:09.0244921Z   Using cached zstandard-0.25.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (3.3 kB)
2025-11-28T17:39:09.0813718Z Collecting starlette<0.39.0,>=0.37.2 (from fastapi==0.115.0->-r apps/memory_api/requirements-base.txt (line 6))
2025-11-28T17:39:09.0827526Z   Using cached starlette-0.38.6-py3-none-any.whl.metadata (6.0 kB)
2025-11-28T17:39:09.1124651Z Requirement already satisfied: typing-extensions>=4.8.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from fastapi==0.115.0->-r apps/memory_api/requirements-base.txt (line 6)) (4.15.0)
2025-11-28T17:39:09.1252369Z Collecting annotated-types>=0.6.0 (from pydantic==2.12.4->-r apps/memory_api/requirements-base.txt (line 8))
2025-11-28T17:39:09.1264386Z   Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
2025-11-28T17:39:09.7935686Z Collecting pydantic-core==2.41.5 (from pydantic==2.12.4->-r apps/memory_api/requirements-base.txt (line 8))
2025-11-28T17:39:09.7950474Z   Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.3 kB)
2025-11-28T17:39:09.8102035Z Collecting typing-inspection>=0.4.2 (from pydantic==2.12.4->-r apps/memory_api/requirements-base.txt (line 8))
2025-11-28T17:39:09.8114814Z   Using cached typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
2025-11-28T17:39:09.8329097Z Collecting click>=7.0 (from uvicorn==0.38.0->-r apps/memory_api/requirements-base.txt (line 7))
2025-11-28T17:39:09.8342240Z   Using cached click-8.3.1-py3-none-any.whl.metadata (2.6 kB)
2025-11-28T17:39:09.8477095Z Collecting h11>=0.8 (from uvicorn==0.38.0->-r apps/memory_api/requirements-base.txt (line 7))
2025-11-28T17:39:09.8488964Z   Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
2025-11-28T17:39:09.8967666Z Collecting python-dotenv>=0.21.0 (from pydantic-settings==2.12.0->-r apps/memory_api/requirements-base.txt (line 9))
2025-11-28T17:39:09.8981301Z   Using cached python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
2025-11-28T17:39:10.3751372Z Collecting grpcio>=1.41.0 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:10.3765642Z   Using cached grpcio-1.76.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (3.7 kB)
2025-11-28T17:39:10.9267882Z Collecting grpcio-tools>=1.41.0 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:10.9281716Z   Using cached grpcio_tools-1.76.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:11.1074983Z Collecting numpy>=1.26 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:11.1088474Z   Using cached numpy-2.3.5-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (62 kB)
2025-11-28T17:39:11.1367790Z Collecting portalocker<3.0.0,>=2.7.0 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:11.1379252Z   Using cached portalocker-2.10.1-py3-none-any.whl.metadata (8.5 kB)
2025-11-28T17:39:11.1945455Z Collecting urllib3<3,>=1.26.14 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:11.1957556Z   Using cached urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
2025-11-28T17:39:11.5183619Z Collecting SQLAlchemy>=1.4.0 (from alembic==1.17.2->-r apps/memory_api/requirements-base.txt (line 15))
2025-11-28T17:39:11.5197016Z   Using cached sqlalchemy-2.0.44-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.5 kB)
2025-11-28T17:39:11.5457562Z Collecting Mako (from alembic==1.17.2->-r apps/memory_api/requirements-base.txt (line 15))
2025-11-28T17:39:11.5469563Z   Using cached mako-1.3.10-py3-none-any.whl.metadata (2.9 kB)
2025-11-28T17:39:11.5706704Z Collecting anyio (from httpx==0.27.2->-r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:11.5718968Z   Using cached anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
2025-11-28T17:39:11.5951912Z Collecting certifi (from httpx==0.27.2->-r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:11.5964314Z   Using cached certifi-2025.11.12-py3-none-any.whl.metadata (2.5 kB)
2025-11-28T17:39:11.6184453Z Collecting httpcore==1.* (from httpx==0.27.2->-r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:11.6196361Z   Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
2025-11-28T17:39:11.6369344Z Collecting idna (from httpx==0.27.2->-r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:11.6381478Z   Using cached idna-3.11-py3-none-any.whl.metadata (8.4 kB)
2025-11-28T17:39:11.6506772Z Collecting sniffio (from httpx==0.27.2->-r apps/memory_api/requirements-base.txt (line 18))
2025-11-28T17:39:11.6518173Z   Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-11-28T17:39:11.6729169Z Collecting billiard<5.0,>=4.2.1 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.6741813Z   Using cached billiard-4.2.3-py3-none-any.whl.metadata (4.8 kB)
2025-11-28T17:39:11.7050980Z Collecting kombu<5.6,>=5.5.2 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.7063464Z   Using cached kombu-5.5.4-py3-none-any.whl.metadata (3.5 kB)
2025-11-28T17:39:11.7256237Z Collecting vine<6.0,>=5.1.0 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.7267567Z   Using cached vine-5.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-11-28T17:39:11.7431441Z Collecting click-didyoumean>=0.3.0 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.7442657Z   Using cached click_didyoumean-0.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-11-28T17:39:11.7619138Z Collecting click-repl>=0.2.0 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.7630766Z   Using cached click_repl-0.3.0-py3-none-any.whl.metadata (3.6 kB)
2025-11-28T17:39:11.7794563Z Collecting click-plugins>=1.1.1 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.7805848Z   Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl.metadata (6.5 kB)
2025-11-28T17:39:11.8018808Z Collecting python-dateutil>=2.8.2 (from celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:11.8031179Z   Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
2025-11-28T17:39:11.8318722Z Collecting opentelemetry-api==1.27.0 (from opentelemetry-sdk==1.27.0->-r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:11.8332422Z   Using cached opentelemetry_api-1.27.0-py3-none-any.whl.metadata (1.4 kB)
2025-11-28T17:39:11.8534717Z Collecting opentelemetry-semantic-conventions==0.48b0 (from opentelemetry-sdk==1.27.0->-r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:11.8548253Z   Using cached opentelemetry_semantic_conventions-0.48b0-py3-none-any.whl.metadata (2.4 kB)
2025-11-28T17:39:11.8826624Z Collecting opentelemetry-instrumentation-asgi==0.48b0 (from opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:11.8839573Z   Using cached opentelemetry_instrumentation_asgi-0.48b0-py3-none-any.whl.metadata (2.0 kB)
2025-11-28T17:39:11.9051635Z Collecting opentelemetry-instrumentation==0.48b0 (from opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:11.9065026Z   Using cached opentelemetry_instrumentation-0.48b0-py3-none-any.whl.metadata (6.1 kB)
2025-11-28T17:39:11.9281733Z Collecting opentelemetry-util-http==0.48b0 (from opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:11.9293778Z   Using cached opentelemetry_util_http-0.48b0-py3-none-any.whl.metadata (2.5 kB)
2025-11-28T17:39:11.9489461Z Collecting deprecated>=1.2.6 (from opentelemetry-api==1.27.0->opentelemetry-sdk==1.27.0->-r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:11.9503452Z   Using cached deprecated-1.3.1-py2.py3-none-any.whl.metadata (5.9 kB)
2025-11-28T17:39:11.9897884Z Collecting importlib-metadata<=8.4.0,>=6.0 (from opentelemetry-api==1.27.0->opentelemetry-sdk==1.27.0->-r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:11.9911692Z   Using cached importlib_metadata-8.4.0-py3-none-any.whl.metadata (4.7 kB)
2025-11-28T17:39:12.6120437Z Collecting aiohttp>=3.10 (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.6133898Z   Using cached aiohttp-3.13.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (8.1 kB)
2025-11-28T17:39:12.6479261Z Collecting fastuuid>=0.13.0 (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.6491161Z   Using cached fastuuid-0.14.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.1 kB)
2025-11-28T17:39:12.6877052Z Collecting jinja2<4.0.0,>=3.1.2 (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.6888083Z   Using cached jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
2025-11-28T17:39:12.7153778Z Collecting jsonschema<5.0.0,>=4.22.0 (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.7165277Z   Using cached jsonschema-4.25.1-py3-none-any.whl.metadata (7.6 kB)
2025-11-28T17:39:12.8109137Z Collecting tiktoken>=0.7.0 (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.8122844Z   Using cached tiktoken-0.12.0-cp312-cp312-manylinux_2_28_x86_64.whl.metadata (6.7 kB)
2025-11-28T17:39:12.9621845Z Collecting tokenizers (from litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:12.9635218Z   Using cached tokenizers-0.22.1-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-11-28T17:39:12.9871290Z Collecting distro<2,>=1.7.0 (from openai==2.8.1->-r apps/memory_api/requirements-base.txt (line 33))
2025-11-28T17:39:12.9882369Z   Using cached distro-1.9.0-py3-none-any.whl.metadata (6.8 kB)
2025-11-28T17:39:13.0702663Z Collecting jiter<1,>=0.10.0 (from openai==2.8.1->-r apps/memory_api/requirements-base.txt (line 33))
2025-11-28T17:39:13.0715614Z   Using cached jiter-0.12.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.2 kB)
2025-11-28T17:39:13.1391830Z Collecting tqdm>4 (from openai==2.8.1->-r apps/memory_api/requirements-base.txt (line 33))
2025-11-28T17:39:13.1403407Z   Using cached tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
2025-11-28T17:39:13.1608834Z Collecting docstring-parser<1,>=0.15 (from anthropic==0.74.1->-r apps/memory_api/requirements-base.txt (line 34))
2025-11-28T17:39:13.1620482Z   Using cached docstring_parser-0.17.0-py3-none-any.whl.metadata (3.5 kB)
2025-11-28T17:39:13.1895491Z Collecting google-ai-generativelanguage==0.6.15 (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.1907116Z   Using cached google_ai_generativelanguage-0.6.15-py3-none-any.whl.metadata (5.7 kB)
2025-11-28T17:39:13.2294543Z Collecting google-api-core (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.2306653Z   Using cached google_api_core-2.28.1-py3-none-any.whl.metadata (3.3 kB)
2025-11-28T17:39:13.2898685Z Collecting google-api-python-client (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.2912619Z   Using cached google_api_python_client-2.187.0-py3-none-any.whl.metadata (7.0 kB)
2025-11-28T17:39:13.3320237Z Collecting google-auth>=2.15.0 (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.3333344Z   Using cached google_auth-2.43.0-py2.py3-none-any.whl.metadata (6.6 kB)
2025-11-28T17:39:13.4969631Z Collecting protobuf (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.4984422Z   Using cached protobuf-6.33.1-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
2025-11-28T17:39:13.5212733Z Collecting ecdsa!=0.15 (from python-jose==3.5.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:13.5224356Z   Using cached ecdsa-0.19.1-py2.py3-none-any.whl.metadata (29 kB)
2025-11-28T17:39:13.5448185Z Collecting rsa!=4.1.1,!=4.4,<5.0,>=4.0 (from python-jose==3.5.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:13.5460672Z   Using cached rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
2025-11-28T17:39:13.5695636Z Collecting pyasn1>=0.5.0 (from python-jose==3.5.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:13.5709145Z   Using cached pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
2025-11-28T17:39:13.7229252Z Collecting proto-plus<2.0.0dev,>=1.22.3 (from google-ai-generativelanguage==0.6.15->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.7241897Z   Using cached proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
2025-11-28T17:39:13.7940416Z Collecting protobuf (from google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:13.7953867Z   Using cached protobuf-5.29.5-cp38-abi3-manylinux2014_x86_64.whl.metadata (592 bytes)
2025-11-28T17:39:14.0462688Z Collecting setuptools>=16.0 (from opentelemetry-instrumentation==0.48b0->opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:14.0476172Z   Using cached setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
2025-11-28T17:39:14.1907259Z Collecting wrapt<2.0.0,>=1.0.0 (from opentelemetry-instrumentation==0.48b0->opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:14.1921132Z   Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
2025-11-28T17:39:14.2293644Z Collecting asgiref~=3.0 (from opentelemetry-instrumentation-asgi==0.48b0->opentelemetry-instrumentation-fastapi==0.48b0->-r apps/memory_api/requirements-base.txt (line 26))
2025-11-28T17:39:14.2305488Z   Using cached asgiref-3.11.0-py3-none-any.whl.metadata (9.3 kB)
2025-11-28T17:39:14.4220247Z Collecting cryptography>=3.4.0 (from python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:14.4233697Z   Using cached cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl.metadata (5.7 kB)
2025-11-28T17:39:14.4664878Z Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.4676112Z   Using cached googleapis_common_protos-1.72.0-py3-none-any.whl.metadata (9.4 kB)
2025-11-28T17:39:14.6168973Z Collecting requests<3.0.0,>=2.18.0 (from google-api-core->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.6180762Z   Using cached requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
2025-11-28T17:39:14.6930806Z Collecting grpcio-status<2.0.0,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.1->google-ai-generativelanguage==0.6.15->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.6942256Z   Using cached grpcio_status-1.76.0-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.7361739Z Collecting cachetools<7.0,>=2.0.0 (from google-auth>=2.15.0->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.7373090Z   Using cached cachetools-6.2.2-py3-none-any.whl.metadata (5.6 kB)
2025-11-28T17:39:14.7587628Z Collecting pyasn1-modules>=0.2.1 (from google-auth>=2.15.0->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.7598849Z   Using cached pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
2025-11-28T17:39:14.8363419Z INFO: pip is looking at multiple versions of grpcio-status to determine which version is compatible with other requirements. This could take a while.
2025-11-28T17:39:14.8371557Z Collecting grpcio-status<2.0.0,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.1->google-ai-generativelanguage==0.6.15->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:14.8384201Z   Using cached grpcio_status-1.75.1-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.8433650Z   Using cached grpcio_status-1.75.0-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.8480545Z   Using cached grpcio_status-1.74.0-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.8526709Z   Using cached grpcio_status-1.73.1-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.9163567Z   Using cached grpcio_status-1.73.0-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.9216550Z   Using cached grpcio_status-1.72.2-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.9266596Z   Using cached grpcio_status-1.72.1-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:14.9301787Z INFO: pip is still looking at multiple versions of grpcio-status to determine which version is compatible with other requirements. This could take a while.
2025-11-28T17:39:14.9316947Z   Using cached grpcio_status-1.71.2-py3-none-any.whl.metadata (1.1 kB)
2025-11-28T17:39:15.0405779Z Collecting zipp>=0.5 (from importlib-metadata<=8.4.0,>=6.0->opentelemetry-api==1.27.0->opentelemetry-sdk==1.27.0->-r apps/memory_api/requirements-base.txt (line 25))
2025-11-28T17:39:15.0417749Z   Using cached zipp-3.23.0-py3-none-any.whl.metadata (3.6 kB)
2025-11-28T17:39:15.0988565Z Collecting MarkupSafe>=2.0 (from jinja2<4.0.0,>=3.1.2->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.1002559Z   Using cached markupsafe-3.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.7 kB)
2025-11-28T17:39:15.1217552Z Collecting attrs>=22.2.0 (from jsonschema<5.0.0,>=4.22.0->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.1229272Z   Using cached attrs-25.4.0-py3-none-any.whl.metadata (10 kB)
2025-11-28T17:39:15.1387725Z Collecting jsonschema-specifications>=2023.03.6 (from jsonschema<5.0.0,>=4.22.0->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.1399381Z   Using cached jsonschema_specifications-2025.9.1-py3-none-any.whl.metadata (2.9 kB)
2025-11-28T17:39:15.1668077Z Collecting referencing>=0.28.4 (from jsonschema<5.0.0,>=4.22.0->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.1679899Z   Using cached referencing-0.37.0-py3-none-any.whl.metadata (2.8 kB)
2025-11-28T17:39:15.4298242Z Collecting rpds-py>=0.7.1 (from jsonschema<5.0.0,>=4.22.0->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.4311663Z   Using cached rpds_py-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.1 kB)
2025-11-28T17:39:15.4549015Z Collecting amqp<6.0.0,>=5.1.1 (from kombu<5.6,>=5.5.2->celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:15.4559922Z   Using cached amqp-5.3.1-py3-none-any.whl.metadata (8.9 kB)
2025-11-28T17:39:15.4738966Z Collecting tzdata>=2025.2 (from kombu<5.6,>=5.5.2->celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:15.4750182Z   Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
2025-11-28T17:39:15.4765241Z Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from kombu<5.6,>=5.5.2->celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21)) (25.0)
2025-11-28T17:39:15.6379159Z Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.18.0->google-api-core->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:15.6392609Z   Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)
2025-11-28T17:39:15.7045961Z Collecting aiohappyeyeballs>=2.5.0 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.7057007Z   Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
2025-11-28T17:39:15.7180877Z Collecting aiosignal>=1.4.0 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.7192158Z   Using cached aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)
2025-11-28T17:39:15.7914056Z Collecting frozenlist>=1.1.1 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:15.7927280Z   Using cached frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (20 kB)
2025-11-28T17:39:16.1413636Z Collecting multidict<7.0,>=4.5 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:16.1428445Z   Using cached multidict-6.7.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.2009027Z Collecting propcache>=0.2.0 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:16.2022650Z   Using cached propcache-0.4.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (13 kB)
2025-11-28T17:39:16.4535455Z Collecting yarl<2.0,>=1.17.0 (from aiohttp>=3.10->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:16.4549291Z   Using cached yarl-1.22.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (75 kB)
2025-11-28T17:39:16.5395997Z Collecting prompt-toolkit>=3.0.36 (from click-repl>=0.2.0->celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:16.5409184Z   Using cached prompt_toolkit-3.0.52-py3-none-any.whl.metadata (6.4 kB)
2025-11-28T17:39:16.6461458Z Collecting cffi>=2.0.0 (from cryptography>=3.4.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:16.6475184Z   Using cached cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
2025-11-28T17:39:16.6639844Z Collecting pycparser (from cffi>=2.0.0->cryptography>=3.4.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:16.6651623Z   Using cached pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
2025-11-28T17:39:16.6928616Z Collecting six>=1.9.0 (from ecdsa!=0.15->python-jose==3.5.0->python-jose[cryptography]==3.5.0->-r apps/memory_api/requirements-base.txt (line 39))
2025-11-28T17:39:16.6940302Z   Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
2025-11-28T17:39:16.7577548Z INFO: pip is looking at multiple versions of grpcio-tools to determine which version is compatible with other requirements. This could take a while.
2025-11-28T17:39:16.7583344Z Collecting grpcio-tools>=1.41.0 (from qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:16.7596435Z   Using cached grpcio_tools-1.75.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.7656009Z   Using cached grpcio_tools-1.75.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.7714013Z   Using cached grpcio_tools-1.74.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.7772572Z   Using cached grpcio_tools-1.73.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.8371131Z   Using cached grpcio_tools-1.73.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.8432378Z   Using cached grpcio_tools-1.72.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.8490481Z   Using cached grpcio_tools-1.72.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.8537003Z INFO: pip is still looking at multiple versions of grpcio-tools to determine which version is compatible with other requirements. This could take a while.
2025-11-28T17:39:16.8552309Z   Using cached grpcio_tools-1.71.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
2025-11-28T17:39:16.8833934Z Collecting h2<5,>=3 (from httpx[http2]>=0.20.0->qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:16.8845412Z   Using cached h2-4.3.0-py3-none-any.whl.metadata (5.1 kB)
2025-11-28T17:39:16.9028081Z Collecting hyperframe<7,>=6.1 (from h2<5,>=3->httpx[http2]>=0.20.0->qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:16.9039807Z   Using cached hyperframe-6.1.0-py3-none-any.whl.metadata (4.3 kB)
2025-11-28T17:39:16.9171212Z Collecting hpack<5,>=4.1 (from h2<5,>=3->httpx[http2]>=0.20.0->qdrant-client==1.10.1->-r apps/memory_api/requirements-base.txt (line 13))
2025-11-28T17:39:16.9182785Z   Using cached hpack-4.1.0-py3-none-any.whl.metadata (4.6 kB)
2025-11-28T17:39:16.9630596Z Collecting wcwidth (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.5.3->-r apps/memory_api/requirements-base.txt (line 21))
2025-11-28T17:39:16.9642870Z   Using cached wcwidth-0.2.14-py2.py3-none-any.whl.metadata (15 kB)
2025-11-28T17:39:17.1398213Z Collecting greenlet>=1 (from SQLAlchemy>=1.4.0->alembic==1.17.2->-r apps/memory_api/requirements-base.txt (line 15))
2025-11-28T17:39:17.1411732Z   Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2025-11-28T17:39:17.4845810Z Collecting regex>=2022.1.18 (from tiktoken>=0.7.0->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:17.4859799Z   Using cached regex-2025.11.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (40 kB)
2025-11-28T17:39:17.5414572Z Collecting httplib2<1.0.0,>=0.19.0 (from google-api-python-client->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:17.5426968Z   Using cached httplib2-0.31.0-py3-none-any.whl.metadata (2.2 kB)
2025-11-28T17:39:17.6022793Z Collecting google-auth-httplib2<1.0.0,>=0.2.0 (from google-api-python-client->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:17.6036105Z   Using cached google_auth_httplib2-0.2.1-py3-none-any.whl.metadata (3.0 kB)
2025-11-28T17:39:17.6197650Z Collecting uritemplate<5,>=3.0.1 (from google-api-python-client->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:17.6215532Z   Using cached uritemplate-4.2.0-py3-none-any.whl.metadata (2.6 kB)
2025-11-28T17:39:17.6620898Z Collecting pyparsing<4,>=3.0.4 (from httplib2<1.0.0,>=0.19.0->google-api-python-client->google-generativeai==0.8.5->-r apps/memory_api/requirements-base.txt (line 35))
2025-11-28T17:39:17.6631908Z   Using cached pyparsing-3.2.5-py3-none-any.whl.metadata (5.0 kB)
2025-11-28T17:39:17.7460849Z Collecting huggingface-hub<2.0,>=0.16.4 (from tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:17.8132452Z   Downloading huggingface_hub-1.1.6-py3-none-any.whl.metadata (13 kB)
2025-11-28T17:39:17.8646935Z Collecting filelock (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:17.8658768Z   Using cached filelock-3.20.0-py3-none-any.whl.metadata (2.1 kB)
2025-11-28T17:39:17.8892016Z Collecting fsspec>=2023.5.0 (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:17.8902946Z   Using cached fsspec-2025.10.0-py3-none-any.whl.metadata (10 kB)
2025-11-28T17:39:18.1049385Z Collecting hf-xet<2.0.0,>=1.2.0 (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:18.1062713Z   Using cached hf_xet-1.2.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-11-28T17:39:18.1466554Z Collecting pyyaml>=5.1 (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:18.1477985Z   Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)
2025-11-28T17:39:18.1644304Z Collecting shellingham (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:18.1655861Z   Using cached shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
2025-11-28T17:39:18.1957314Z Collecting typer-slim (from huggingface-hub<2.0,>=0.16.4->tokenizers->litellm==1.80.0->-r apps/memory_api/requirements-base.txt (line 32))
2025-11-28T17:39:18.1969085Z   Using cached typer_slim-0.20.0-py3-none-any.whl.metadata (16 kB)
2025-11-28T17:39:18.2403305Z Using cached fastapi-0.115.0-py3-none-any.whl (94 kB)
2025-11-28T17:39:18.2414756Z Using cached pydantic-2.12.4-py3-none-any.whl (463 kB)
2025-11-28T17:39:18.2429460Z Using cached uvicorn-0.38.0-py3-none-any.whl (68 kB)
2025-11-28T17:39:18.2441215Z Using cached pydantic_settings-2.12.0-py3-none-any.whl (51 kB)
2025-11-28T17:39:18.2452899Z Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
2025-11-28T17:39:18.2490254Z Using cached qdrant_client-1.10.1-py3-none-any.whl (254 kB)
2025-11-28T17:39:18.2502825Z Using cached pgvector-0.4.1-py3-none-any.whl (27 kB)
2025-11-28T17:39:18.2514647Z Using cached alembic-1.17.2-py3-none-any.whl (248 kB)
2025-11-28T17:39:18.2527176Z Using cached httpx-0.27.2-py3-none-any.whl (76 kB)
2025-11-28T17:39:18.2538536Z Using cached celery-5.5.3-py3-none-any.whl (438 kB)
2025-11-28T17:39:18.2552760Z Using cached redis-7.1.0-py3-none-any.whl (354 kB)
2025-11-28T17:39:18.2566612Z Using cached opentelemetry_sdk-1.27.0-py3-none-any.whl (110 kB)
2025-11-28T17:39:18.2578831Z Using cached opentelemetry_instrumentation_fastapi-0.48b0-py3-none-any.whl (11 kB)
2025-11-28T17:39:18.2590125Z Using cached opentelemetry_api-1.27.0-py3-none-any.whl (63 kB)
2025-11-28T17:39:18.2601715Z Using cached prometheus_fastapi_instrumentator-7.1.0-py3-none-any.whl (19 kB)
2025-11-28T17:39:18.2612892Z Using cached prometheus_client-0.23.1-py3-none-any.whl (61 kB)
2025-11-28T17:39:18.2624217Z Using cached structlog-25.5.0-py3-none-any.whl (72 kB)
2025-11-28T17:39:18.2635510Z Using cached litellm-1.80.0-py3-none-any.whl (10.5 MB)
2025-11-28T17:39:18.2721742Z Using cached openai-2.8.1-py3-none-any.whl (1.0 MB)
2025-11-28T17:39:18.2739788Z Using cached anthropic-0.74.1-py3-none-any.whl (371 kB)
2025-11-28T17:39:18.2753767Z Using cached google_generativeai-0.8.5-py3-none-any.whl (155 kB)
2025-11-28T17:39:18.2765820Z Using cached tenacity-9.1.2-py3-none-any.whl (28 kB)
2025-11-28T17:39:18.2776861Z Using cached python_jose-3.5.0-py2.py3-none-any.whl (34 kB)
2025-11-28T17:39:18.2788529Z Using cached zstandard-0.25.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (5.5 MB)
2025-11-28T17:39:18.2840272Z Using cached google_ai_generativelanguage-0.6.15-py3-none-any.whl (1.3 MB)
2025-11-28T17:39:18.2860800Z Using cached opentelemetry_instrumentation-0.48b0-py3-none-any.whl (29 kB)
2025-11-28T17:39:18.2872435Z Using cached opentelemetry_instrumentation_asgi-0.48b0-py3-none-any.whl (15 kB)
2025-11-28T17:39:18.2883648Z Using cached opentelemetry_semantic_conventions-0.48b0-py3-none-any.whl (149 kB)
2025-11-28T17:39:18.2895617Z Using cached opentelemetry_util_http-0.48b0-py3-none-any.whl (6.9 kB)
2025-11-28T17:39:18.2907334Z Using cached pydantic_core-2.41.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
2025-11-28T17:39:18.2933518Z Using cached anyio-4.11.0-py3-none-any.whl (109 kB)
2025-11-28T17:39:18.2945171Z Using cached asgiref-3.11.0-py3-none-any.whl (24 kB)
2025-11-28T17:39:18.2956306Z Using cached billiard-4.2.3-py3-none-any.whl (87 kB)
2025-11-28T17:39:18.2968486Z Using cached click-8.3.1-py3-none-any.whl (108 kB)
2025-11-28T17:39:18.2980624Z Using cached distro-1.9.0-py3-none-any.whl (20 kB)
2025-11-28T17:39:18.2991820Z Using cached docstring_parser-0.17.0-py3-none-any.whl (36 kB)
2025-11-28T17:39:18.3003271Z Using cached google_api_core-2.28.1-py3-none-any.whl (173 kB)
2025-11-28T17:39:18.3015366Z Using cached google_auth-2.43.0-py2.py3-none-any.whl (223 kB)
2025-11-28T17:39:18.3027995Z Using cached cachetools-6.2.2-py3-none-any.whl (11 kB)
2025-11-28T17:39:18.3039250Z Using cached googleapis_common_protos-1.72.0-py3-none-any.whl (297 kB)
2025-11-28T17:39:18.3052944Z Using cached grpcio-1.76.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (6.6 MB)
2025-11-28T17:39:18.3110631Z Using cached grpcio_status-1.71.2-py3-none-any.whl (14 kB)
2025-11-28T17:39:18.3121871Z Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)
2025-11-28T17:39:18.3133697Z Using cached importlib_metadata-8.4.0-py3-none-any.whl (26 kB)
2025-11-28T17:39:18.3144714Z Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
2025-11-28T17:39:18.3156998Z Using cached jiter-0.12.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (361 kB)
2025-11-28T17:39:18.3170548Z Using cached jsonschema-4.25.1-py3-none-any.whl (90 kB)
2025-11-28T17:39:18.3182260Z Using cached kombu-5.5.4-py3-none-any.whl (210 kB)
2025-11-28T17:39:18.3194615Z Using cached vine-5.1.0-py3-none-any.whl (9.6 kB)
2025-11-28T17:39:18.3205577Z Using cached amqp-5.3.1-py3-none-any.whl (50 kB)
2025-11-28T17:39:18.3216816Z Using cached portalocker-2.10.1-py3-none-any.whl (18 kB)
2025-11-28T17:39:18.3228008Z Using cached proto_plus-1.26.1-py3-none-any.whl (50 kB)
2025-11-28T17:39:18.3239400Z Using cached protobuf-5.29.5-cp38-abi3-manylinux2014_x86_64.whl (319 kB)
2025-11-28T17:39:18.3253122Z Using cached requests-2.32.5-py3-none-any.whl (64 kB)
2025-11-28T17:39:18.3265373Z Using cached charset_normalizer-3.4.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (153 kB)
2025-11-28T17:39:18.3277165Z Using cached idna-3.11-py3-none-any.whl (71 kB)
2025-11-28T17:39:18.3288682Z Using cached rsa-4.9.1-py3-none-any.whl (34 kB)
2025-11-28T17:39:18.3300142Z Using cached starlette-0.38.6-py3-none-any.whl (71 kB)
2025-11-28T17:39:18.3311707Z Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
2025-11-28T17:39:18.3323896Z Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (88 kB)
2025-11-28T17:39:18.3337851Z Using cached aiohttp-3.13.2-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (1.8 MB)
2025-11-28T17:39:18.3361822Z Using cached multidict-6.7.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (256 kB)
2025-11-28T17:39:18.3374773Z Using cached yarl-1.22.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (377 kB)
2025-11-28T17:39:18.3388316Z Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
2025-11-28T17:39:18.3400147Z Using cached aiosignal-1.4.0-py3-none-any.whl (7.5 kB)
2025-11-28T17:39:18.3411220Z Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
2025-11-28T17:39:18.3422325Z Using cached attrs-25.4.0-py3-none-any.whl (67 kB)
2025-11-28T17:39:18.3433865Z Using cached certifi-2025.11.12-py3-none-any.whl (159 kB)
2025-11-28T17:39:18.3445852Z Using cached click_didyoumean-0.3.1-py3-none-any.whl (3.6 kB)
2025-11-28T17:39:18.3456879Z Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl (11 kB)
2025-11-28T17:39:18.3467768Z Using cached click_repl-0.3.0-py3-none-any.whl (10 kB)
2025-11-28T17:39:18.3479052Z Using cached cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl (4.5 MB)
2025-11-28T17:39:18.3522755Z Using cached cffi-2.0.0-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (219 kB)
2025-11-28T17:39:18.3535058Z Using cached deprecated-1.3.1-py2.py3-none-any.whl (11 kB)
2025-11-28T17:39:18.3546329Z Using cached ecdsa-0.19.1-py2.py3-none-any.whl (150 kB)
2025-11-28T17:39:18.3559212Z Using cached fastuuid-0.14.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (278 kB)
2025-11-28T17:39:18.3572885Z Using cached frozenlist-1.8.0-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (242 kB)
2025-11-28T17:39:18.3585659Z Using cached grpcio_tools-1.71.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.5 MB)
2025-11-28T17:39:18.3614874Z Using cached h11-0.16.0-py3-none-any.whl (37 kB)
2025-11-28T17:39:18.3626110Z Using cached h2-4.3.0-py3-none-any.whl (61 kB)
2025-11-28T17:39:18.3637652Z Using cached hpack-4.1.0-py3-none-any.whl (34 kB)
2025-11-28T17:39:18.3648766Z Using cached hyperframe-6.1.0-py3-none-any.whl (13 kB)
2025-11-28T17:39:18.3660386Z Using cached jsonschema_specifications-2025.9.1-py3-none-any.whl (18 kB)
2025-11-28T17:39:18.3672341Z Using cached markupsafe-3.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (22 kB)
2025-11-28T17:39:18.3684067Z Using cached numpy-2.3.5-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (16.6 MB)
2025-11-28T17:39:18.3814347Z Using cached prompt_toolkit-3.0.52-py3-none-any.whl (391 kB)
2025-11-28T17:39:18.3828893Z Using cached propcache-0.4.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (221 kB)
2025-11-28T17:39:18.3841430Z Using cached pyasn1-0.6.1-py3-none-any.whl (83 kB)
2025-11-28T17:39:18.3853155Z Using cached pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
2025-11-28T17:39:18.3867434Z Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
2025-11-28T17:39:18.3879894Z Using cached python_dotenv-1.2.1-py3-none-any.whl (21 kB)
2025-11-28T17:39:18.3891329Z Using cached referencing-0.37.0-py3-none-any.whl (26 kB)
2025-11-28T17:39:18.3902795Z Using cached rpds_py-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (395 kB)
2025-11-28T17:39:18.3916468Z Using cached setuptools-80.9.0-py3-none-any.whl (1.2 MB)
2025-11-28T17:39:18.3936535Z Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
2025-11-28T17:39:18.3947679Z Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
2025-11-28T17:39:18.3959242Z Using cached sqlalchemy-2.0.44-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
2025-11-28T17:39:18.3994585Z Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (607 kB)
2025-11-28T17:39:18.4010419Z Using cached tiktoken-0.12.0-cp312-cp312-manylinux_2_28_x86_64.whl (1.2 MB)
2025-11-28T17:39:18.4030346Z Using cached regex-2025.11.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (803 kB)
2025-11-28T17:39:18.4047252Z Using cached tqdm-4.67.1-py3-none-any.whl (78 kB)
2025-11-28T17:39:18.4059121Z Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)
2025-11-28T17:39:18.4070539Z Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
2025-11-28T17:39:18.4084219Z Using cached zipp-3.23.0-py3-none-any.whl (10 kB)
2025-11-28T17:39:18.4095683Z Using cached google_api_python_client-2.187.0-py3-none-any.whl (14.6 MB)
2025-11-28T17:39:18.4216597Z Using cached google_auth_httplib2-0.2.1-py3-none-any.whl (9.5 kB)
2025-11-28T17:39:18.4227138Z Using cached httplib2-0.31.0-py3-none-any.whl (91 kB)
2025-11-28T17:39:18.4238719Z Using cached pyparsing-3.2.5-py3-none-any.whl (113 kB)
2025-11-28T17:39:18.4250355Z Using cached uritemplate-4.2.0-py3-none-any.whl (11 kB)
2025-11-28T17:39:18.4261311Z Using cached mako-1.3.10-py3-none-any.whl (78 kB)
2025-11-28T17:39:18.4272655Z Using cached pycparser-2.23-py3-none-any.whl (118 kB)
2025-11-28T17:39:18.4284441Z Using cached tokenizers-0.22.1-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
2025-11-28T17:39:18.4384832Z Downloading huggingface_hub-1.1.6-py3-none-any.whl (516 kB)
2025-11-28T17:39:18.4778667Z Using cached hf_xet-1.2.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
2025-11-28T17:39:18.4813957Z Using cached fsspec-2025.10.0-py3-none-any.whl (200 kB)
2025-11-28T17:39:18.4827353Z Using cached pyyaml-6.0.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (807 kB)
2025-11-28T17:39:18.4844485Z Using cached filelock-3.20.0-py3-none-any.whl (16 kB)
2025-11-28T17:39:18.4855803Z Using cached shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
2025-11-28T17:39:18.4867077Z Using cached typer_slim-0.20.0-py3-none-any.whl (47 kB)
2025-11-28T17:39:18.4878618Z Using cached wcwidth-0.2.14-py2.py3-none-any.whl (37 kB)
2025-11-28T17:39:18.9110570Z Installing collected packages: zstandard, zipp, wrapt, wcwidth, vine, urllib3, uritemplate, tzdata, typing-inspection, tqdm, tenacity, structlog, sniffio, six, shellingham, setuptools, rpds-py, regex, redis, pyyaml, python-dotenv, pyparsing, pydantic-core, pycparser, pyasn1, protobuf, propcache, prometheus_client, portalocker, opentelemetry-util-http, numpy, multidict, MarkupSafe, jiter, idna, hyperframe, hpack, hf-xet, h11, grpcio, greenlet, fsspec, frozenlist, filelock, fastuuid, docstring-parser, distro, click, charset_normalizer, certifi, cachetools, billiard, attrs, asyncpg, asgiref, annotated-types, aiohappyeyeballs, yarl, uvicorn, typer-slim, SQLAlchemy, rsa, requests, referencing, python-dateutil, pydantic, pyasn1-modules, proto-plus, prompt-toolkit, pgvector, Mako, jinja2, importlib-metadata, httplib2, httpcore, h2, grpcio-tools, googleapis-common-protos, ecdsa, deprecated, click-plugins, click-didyoumean, cffi, anyio, amqp, aiosignal, tiktoken, starlette, python-jose, pydantic-settings, opentelemetry-api, kombu, jsonschema-specifications, httpx, grpcio-status, google-auth, cryptography, click-repl, alembic, aiohttp, prometheus-fastapi-instrumentator, opentelemetry-semantic-conventions, opentelemetry-instrumentation, openai, jsonschema, huggingface-hub, google-auth-httplib2, google-api-core, fastapi, celery, anthropic, tokenizers, qdrant-client, opentelemetry-sdk, opentelemetry-instrumentation-asgi, google-api-python-client, opentelemetry-instrumentation-fastapi, litellm, google-ai-generativelanguage, google-generativeai
2025-11-28T17:39:34.5936406Z 
2025-11-28T17:39:34.6059600Z Successfully installed Mako-1.3.10 MarkupSafe-3.0.3 SQLAlchemy-2.0.44 aiohappyeyeballs-2.6.1 aiohttp-3.13.2 aiosignal-1.4.0 alembic-1.17.2 amqp-5.3.1 annotated-types-0.7.0 anthropic-0.74.1 anyio-4.11.0 asgiref-3.11.0 asyncpg-0.30.0 attrs-25.4.0 billiard-4.2.3 cachetools-6.2.2 celery-5.5.3 certifi-2025.11.12 cffi-2.0.0 charset_normalizer-3.4.4 click-8.3.1 click-didyoumean-0.3.1 click-plugins-1.1.1.2 click-repl-0.3.0 cryptography-46.0.3 deprecated-1.3.1 distro-1.9.0 docstring-parser-0.17.0 ecdsa-0.19.1 fastapi-0.115.0 fastuuid-0.14.0 filelock-3.20.0 frozenlist-1.8.0 fsspec-2025.10.0 google-ai-generativelanguage-0.6.15 google-api-core-2.28.1 google-api-python-client-2.187.0 google-auth-2.43.0 google-auth-httplib2-0.2.1 google-generativeai-0.8.5 googleapis-common-protos-1.72.0 greenlet-3.2.4 grpcio-1.76.0 grpcio-status-1.71.2 grpcio-tools-1.71.2 h11-0.16.0 h2-4.3.0 hf-xet-1.2.0 hpack-4.1.0 httpcore-1.0.9 httplib2-0.31.0 httpx-0.27.2 huggingface-hub-1.1.6 hyperframe-6.1.0 idna-3.11 importlib-metadata-8.4.0 jinja2-3.1.6 jiter-0.12.0 jsonschema-4.25.1 jsonschema-specifications-2025.9.1 kombu-5.5.4 litellm-1.80.0 multidict-6.7.0 numpy-2.3.5 openai-2.8.1 opentelemetry-api-1.27.0 opentelemetry-instrumentation-0.48b0 opentelemetry-instrumentation-asgi-0.48b0 opentelemetry-instrumentation-fastapi-0.48b0 opentelemetry-sdk-1.27.0 opentelemetry-semantic-conventions-0.48b0 opentelemetry-util-http-0.48b0 pgvector-0.4.1 portalocker-2.10.1 prometheus-fastapi-instrumentator-7.1.0 prometheus_client-0.23.1 prompt-toolkit-3.0.52 propcache-0.4.1 proto-plus-1.26.1 protobuf-5.29.5 pyasn1-0.6.1 pyasn1-modules-0.4.2 pycparser-2.23 pydantic-2.12.4 pydantic-core-2.41.5 pydantic-settings-2.12.0 pyparsing-3.2.5 python-dateutil-2.9.0.post0 python-dotenv-1.2.1 python-jose-3.5.0 pyyaml-6.0.3 qdrant-client-1.10.1 redis-7.1.0 referencing-0.37.0 regex-2025.11.3 requests-2.32.5 rpds-py-0.29.0 rsa-4.9.1 setuptools-80.9.0 shellingham-1.5.4 six-1.17.0 sniffio-1.3.1 starlette-0.38.6 structlog-25.5.0 tenacity-9.1.2 tiktoken-0.12.0 tokenizers-0.22.1 tqdm-4.67.1 typer-slim-0.20.0 typing-inspection-0.4.2 tzdata-2025.2 uritemplate-4.2.0 urllib3-2.5.0 uvicorn-0.38.0 vine-5.1.0 wcwidth-0.2.14 wrapt-1.17.3 yarl-1.22.0 zipp-3.23.0 zstandard-0.25.0
2025-11-28T17:39:36.4043986Z Requirement already satisfied: pytest>=7.4.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from -r apps/memory_api/requirements-test.txt (line 3)) (9.0.1)
2025-11-28T17:39:36.4049760Z Requirement already satisfied: pytest-asyncio>=0.21.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from -r apps/memory_api/requirements-test.txt (line 4)) (1.3.0)
2025-11-28T17:39:36.4053917Z Requirement already satisfied: pytest-cov>=4.1.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from -r apps/memory_api/requirements-test.txt (line 5)) (7.0.0)
2025-11-28T17:39:36.4947823Z Collecting pytest-mock>=3.11.1 (from -r apps/memory_api/requirements-test.txt (line 6))
2025-11-28T17:39:36.4969234Z   Using cached pytest_mock-3.15.1-py3-none-any.whl.metadata (3.9 kB)
2025-11-28T17:39:36.4995390Z Requirement already satisfied: anyio>=3.7.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from -r apps/memory_api/requirements-test.txt (line 7)) (4.11.0)
2025-11-28T17:39:36.5231885Z Collecting testcontainers>=3.7.0 (from testcontainers[postgres]>=3.7.0->-r apps/memory_api/requirements-test.txt (line 10))
2025-11-28T17:39:36.5243777Z   Using cached testcontainers-4.13.3-py3-none-any.whl.metadata (8.4 kB)
2025-11-28T17:39:36.5658140Z Collecting instructor>=1.0.0 (from -r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:36.5670409Z   Using cached instructor-1.13.0-py3-none-any.whl.metadata (11 kB)
2025-11-28T17:39:36.5957819Z Collecting slowapi>=0.1.9 (from -r apps/memory_api/requirements-test.txt (line 14))
2025-11-28T17:39:36.5970279Z   Using cached slowapi-0.1.9-py3-none-any.whl.metadata (3.0 kB)
2025-11-28T17:39:36.7310715Z Collecting scipy>=1.11.0 (from -r apps/memory_api/requirements-test.txt (line 15))
2025-11-28T17:39:36.7324447Z   Using cached scipy-1.16.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (62 kB)
2025-11-28T17:39:36.7676226Z Collecting mcp>=1.0.0 (from -r apps/memory_api/requirements-test.txt (line 16))
2025-11-28T17:39:36.7688023Z   Using cached mcp-1.22.0-py3-none-any.whl.metadata (85 kB)
2025-11-28T17:39:36.7915840Z Collecting python-louvain>=0.16 (from -r apps/memory_api/requirements-test.txt (line 19))
2025-11-28T17:39:36.7916765Z   Using cached python_louvain-0.16-py3-none-any.whl
2025-11-28T17:39:36.7976689Z Requirement already satisfied: iniconfig>=1.0.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pytest>=7.4.0->-r apps/memory_api/requirements-test.txt (line 3)) (2.3.0)
2025-11-28T17:39:36.7982280Z Requirement already satisfied: packaging>=22 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pytest>=7.4.0->-r apps/memory_api/requirements-test.txt (line 3)) (25.0)
2025-11-28T17:39:36.7987626Z Requirement already satisfied: pluggy<2,>=1.5 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pytest>=7.4.0->-r apps/memory_api/requirements-test.txt (line 3)) (1.6.0)
2025-11-28T17:39:36.7992722Z Requirement already satisfied: pygments>=2.7.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pytest>=7.4.0->-r apps/memory_api/requirements-test.txt (line 3)) (2.19.2)
2025-11-28T17:39:36.8026771Z Requirement already satisfied: typing-extensions>=4.12 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pytest-asyncio>=0.21.0->-r apps/memory_api/requirements-test.txt (line 4)) (4.15.0)
2025-11-28T17:39:36.8049061Z Requirement already satisfied: coverage>=7.10.6 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from coverage[toml]>=7.10.6->pytest-cov>=4.1.0->-r apps/memory_api/requirements-test.txt (line 5)) (7.12.0)
2025-11-28T17:39:36.8080319Z Requirement already satisfied: idna>=2.8 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from anyio>=3.7.1->-r apps/memory_api/requirements-test.txt (line 7)) (3.11)
2025-11-28T17:39:36.8085805Z Requirement already satisfied: sniffio>=1.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from anyio>=3.7.1->-r apps/memory_api/requirements-test.txt (line 7)) (1.3.1)
2025-11-28T17:39:36.8321603Z Collecting docker (from testcontainers>=3.7.0->testcontainers[postgres]>=3.7.0->-r apps/memory_api/requirements-test.txt (line 10))
2025-11-28T17:39:36.8333039Z   Using cached docker-7.1.0-py3-none-any.whl.metadata (3.8 kB)
2025-11-28T17:39:36.8370936Z Requirement already satisfied: python-dotenv in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from testcontainers>=3.7.0->testcontainers[postgres]>=3.7.0->-r apps/memory_api/requirements-test.txt (line 10)) (1.2.1)
2025-11-28T17:39:36.8377300Z Requirement already satisfied: urllib3 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from testcontainers>=3.7.0->testcontainers[postgres]>=3.7.0->-r apps/memory_api/requirements-test.txt (line 10)) (2.5.0)
2025-11-28T17:39:36.8380986Z Requirement already satisfied: wrapt in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from testcontainers>=3.7.0->testcontainers[postgres]>=3.7.0->-r apps/memory_api/requirements-test.txt (line 10)) (1.17.3)
2025-11-28T17:39:36.8392135Z Requirement already satisfied: aiohttp<4.0.0,>=3.9.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (3.13.2)
2025-11-28T17:39:36.8623430Z Collecting diskcache>=5.6.3 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:36.8634705Z   Using cached diskcache-5.6.3-py3-none-any.whl.metadata (20 kB)
2025-11-28T17:39:36.8663322Z Requirement already satisfied: docstring-parser<1.0,>=0.16 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.17.0)
2025-11-28T17:39:36.8667894Z Requirement already satisfied: jinja2<4.0.0,>=3.1.4 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (3.1.6)
2025-11-28T17:39:36.9402282Z Collecting jiter<0.12,>=0.6.1 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:36.9415244Z   Using cached jiter-0.11.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.2 kB)
2025-11-28T17:39:36.9435143Z Requirement already satisfied: openai<3.0.0,>=2.0.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2.8.1)
2025-11-28T17:39:36.9783855Z Collecting pre-commit>=4.3.0 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:36.9795311Z   Using cached pre_commit-4.5.0-py2.py3-none-any.whl.metadata (1.2 kB)
2025-11-28T17:39:36.9815058Z Requirement already satisfied: pydantic-core<3.0.0,>=2.18.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2.41.5)
2025-11-28T17:39:36.9819376Z Requirement already satisfied: pydantic<3.0.0,>=2.8.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2.12.4)
2025-11-28T17:39:36.9823760Z Requirement already satisfied: requests<3.0.0,>=2.32.3 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2.32.5)
2025-11-28T17:39:37.0271988Z Collecting rich<15.0.0,>=13.7.0 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.0284740Z   Using cached rich-14.2.0-py3-none-any.whl.metadata (18 kB)
2025-11-28T17:39:37.0317227Z Requirement already satisfied: tenacity<10.0.0,>=8.2.3 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (9.1.2)
2025-11-28T17:39:37.0740919Z Collecting ty>=0.0.1a23 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.0753890Z   Using cached ty-0.0.1a28-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.5 kB)
2025-11-28T17:39:37.1001350Z Collecting typer<1.0.0,>=0.9.0 (from instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.1014685Z   Using cached typer-0.20.0-py3-none-any.whl.metadata (16 kB)
2025-11-28T17:39:37.1061352Z Requirement already satisfied: aiohappyeyeballs>=2.5.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2.6.1)
2025-11-28T17:39:37.1067002Z Requirement already satisfied: aiosignal>=1.4.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.4.0)
2025-11-28T17:39:37.1074040Z Requirement already satisfied: attrs>=17.3.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (25.4.0)
2025-11-28T17:39:37.1078973Z Requirement already satisfied: frozenlist>=1.1.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.8.0)
2025-11-28T17:39:37.1084355Z Requirement already satisfied: multidict<7.0,>=4.5 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (6.7.0)
2025-11-28T17:39:37.1089166Z Requirement already satisfied: propcache>=0.2.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.4.1)
2025-11-28T17:39:37.1094570Z Requirement already satisfied: yarl<2.0,>=1.17.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from aiohttp<4.0.0,>=3.9.1->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.22.0)
2025-11-28T17:39:37.1127717Z Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from jinja2<4.0.0,>=3.1.4->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (3.0.3)
2025-11-28T17:39:37.1165612Z Requirement already satisfied: distro<2,>=1.7.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.9.0)
2025-11-28T17:39:37.1171261Z Requirement already satisfied: httpx<1,>=0.23.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.27.2)
2025-11-28T17:39:37.1204849Z Requirement already satisfied: tqdm>4 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (4.67.1)
2025-11-28T17:39:37.1241476Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx<1,>=0.23.0->openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (2025.11.12)
2025-11-28T17:39:37.1246614Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx<1,>=0.23.0->openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.0.9)
2025-11-28T17:39:37.1275172Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx<1,>=0.23.0->openai<3.0.0,>=2.0.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.16.0)
2025-11-28T17:39:37.1300479Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.8.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.7.0)
2025-11-28T17:39:37.1309645Z Requirement already satisfied: typing-inspection>=0.4.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic<3.0.0,>=2.8.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (0.4.2)
2025-11-28T17:39:37.1340789Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from requests<3.0.0,>=2.32.3->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (3.4.4)
2025-11-28T17:39:37.1551033Z Collecting markdown-it-py>=2.2.0 (from rich<15.0.0,>=13.7.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.1562835Z   Using cached markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
2025-11-28T17:39:37.1657330Z Requirement already satisfied: click>=8.0.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from typer<1.0.0,>=0.9.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (8.3.1)
2025-11-28T17:39:37.1664135Z Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from typer<1.0.0,>=0.9.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (1.5.4)
2025-11-28T17:39:37.2181754Z Collecting limits>=2.3 (from slowapi>=0.1.9->-r apps/memory_api/requirements-test.txt (line 14))
2025-11-28T17:39:37.2193931Z   Using cached limits-5.6.0-py3-none-any.whl.metadata (10 kB)
2025-11-28T17:39:37.2249856Z Requirement already satisfied: numpy<2.6,>=1.25.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from scipy>=1.11.0->-r apps/memory_api/requirements-test.txt (line 15)) (2.3.5)
2025-11-28T17:39:37.2412675Z Collecting httpx-sse>=0.4 (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16))
2025-11-28T17:39:37.2423824Z   Using cached httpx_sse-0.4.3-py3-none-any.whl.metadata (9.7 kB)
2025-11-28T17:39:37.2446708Z Requirement already satisfied: jsonschema>=4.20.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (4.25.1)
2025-11-28T17:39:37.2451056Z Requirement already satisfied: pydantic-settings>=2.5.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (2.12.0)
2025-11-28T17:39:37.2635546Z Collecting pyjwt>=2.10.1 (from pyjwt[crypto]>=2.10.1->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16))
2025-11-28T17:39:37.2646546Z   Using cached PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
2025-11-28T17:39:37.2809904Z Collecting python-multipart>=0.0.9 (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16))
2025-11-28T17:39:37.2821139Z   Using cached python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
2025-11-28T17:39:37.3009763Z Collecting sse-starlette>=1.6.1 (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16))
2025-11-28T17:39:37.3021143Z   Using cached sse_starlette-3.0.3-py3-none-any.whl.metadata (12 kB)
2025-11-28T17:39:37.3056837Z Requirement already satisfied: starlette>=0.27 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (0.38.6)
2025-11-28T17:39:37.3067385Z Requirement already satisfied: uvicorn>=0.31.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (0.38.0)
2025-11-28T17:39:37.3316159Z Collecting networkx (from python-louvain>=0.16->-r apps/memory_api/requirements-test.txt (line 19))
2025-11-28T17:39:37.3327563Z   Using cached networkx-3.6-py3-none-any.whl.metadata (6.8 kB)
2025-11-28T17:39:37.3600960Z Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (2025.9.1)
2025-11-28T17:39:37.3605135Z Requirement already satisfied: referencing>=0.28.4 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (0.37.0)
2025-11-28T17:39:37.3610448Z Requirement already satisfied: rpds-py>=0.7.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from jsonschema>=4.20.0->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (0.29.0)
2025-11-28T17:39:37.3660727Z Requirement already satisfied: deprecated>=1.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from limits>=2.3->slowapi>=0.1.9->-r apps/memory_api/requirements-test.txt (line 14)) (1.3.1)
2025-11-28T17:39:37.3829493Z Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich<15.0.0,>=13.7.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.3840701Z   Using cached mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
2025-11-28T17:39:37.4057618Z Collecting cfgv>=2.0.0 (from pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.4069752Z   Using cached cfgv-3.5.0-py2.py3-none-any.whl.metadata (8.9 kB)
2025-11-28T17:39:37.4589491Z Collecting identify>=1.0.0 (from pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.4603896Z   Using cached identify-2.6.15-py2.py3-none-any.whl.metadata (4.4 kB)
2025-11-28T17:39:37.4847983Z Collecting nodeenv>=0.11.1 (from pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.4859695Z   Using cached nodeenv-1.9.1-py2.py3-none-any.whl.metadata (21 kB)
2025-11-28T17:39:37.4890444Z Requirement already satisfied: pyyaml>=5.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (6.0.3)
2025-11-28T17:39:37.5366935Z Collecting virtualenv>=20.10.0 (from pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.5379331Z   Using cached virtualenv-20.35.4-py3-none-any.whl.metadata (4.6 kB)
2025-11-28T17:39:37.5577125Z Requirement already satisfied: cryptography>=3.4.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pyjwt[crypto]>=2.10.1->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (46.0.3)
2025-11-28T17:39:37.5605110Z Requirement already satisfied: cffi>=2.0.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from cryptography>=3.4.0->pyjwt[crypto]>=2.10.1->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (2.0.0)
2025-11-28T17:39:37.5651523Z Requirement already satisfied: pycparser in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from cffi>=2.0.0->cryptography>=3.4.0->pyjwt[crypto]>=2.10.1->mcp>=1.0.0->-r apps/memory_api/requirements-test.txt (line 16)) (2.23)
2025-11-28T17:39:37.6106365Z Collecting distlib<1,>=0.3.7 (from virtualenv>=20.10.0->pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.6118572Z   Using cached distlib-0.4.0-py2.py3-none-any.whl.metadata (5.2 kB)
2025-11-28T17:39:37.6138418Z Requirement already satisfied: filelock<4,>=3.12.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from virtualenv>=20.10.0->pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13)) (3.20.0)
2025-11-28T17:39:37.6330372Z Collecting platformdirs<5,>=3.9.1 (from virtualenv>=20.10.0->pre-commit>=4.3.0->instructor>=1.0.0->-r apps/memory_api/requirements-test.txt (line 13))
2025-11-28T17:39:37.6342265Z   Using cached platformdirs-4.5.0-py3-none-any.whl.metadata (12 kB)
2025-11-28T17:39:37.6533389Z Using cached pytest_mock-3.15.1-py3-none-any.whl (10 kB)
2025-11-28T17:39:37.6544374Z Using cached testcontainers-4.13.3-py3-none-any.whl (124 kB)
2025-11-28T17:39:37.6556055Z Using cached instructor-1.13.0-py3-none-any.whl (160 kB)
2025-11-28T17:39:37.6568105Z Using cached jiter-0.11.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (358 kB)
2025-11-28T17:39:37.6581284Z Using cached rich-14.2.0-py3-none-any.whl (243 kB)
2025-11-28T17:39:37.6593335Z Using cached typer-0.20.0-py3-none-any.whl (47 kB)
2025-11-28T17:39:37.6604078Z Using cached slowapi-0.1.9-py3-none-any.whl (14 kB)
2025-11-28T17:39:37.6615253Z Using cached scipy-1.16.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (35.7 MB)
2025-11-28T17:39:37.6892261Z Using cached mcp-1.22.0-py3-none-any.whl (175 kB)
2025-11-28T17:39:37.6904198Z Using cached diskcache-5.6.3-py3-none-any.whl (45 kB)
2025-11-28T17:39:37.6915267Z Using cached httpx_sse-0.4.3-py3-none-any.whl (9.0 kB)
2025-11-28T17:39:37.6926666Z Using cached limits-5.6.0-py3-none-any.whl (60 kB)
2025-11-28T17:39:37.6938286Z Using cached markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
2025-11-28T17:39:37.6950672Z Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)
2025-11-28T17:39:37.6961473Z Using cached pre_commit-4.5.0-py2.py3-none-any.whl (226 kB)
2025-11-28T17:39:37.6973414Z Using cached cfgv-3.5.0-py2.py3-none-any.whl (7.4 kB)
2025-11-28T17:39:37.6983869Z Using cached identify-2.6.15-py2.py3-none-any.whl (99 kB)
2025-11-28T17:39:37.6996145Z Using cached nodeenv-1.9.1-py2.py3-none-any.whl (22 kB)
2025-11-28T17:39:37.7007271Z Using cached PyJWT-2.10.1-py3-none-any.whl (22 kB)
2025-11-28T17:39:37.7018423Z Using cached python_multipart-0.0.20-py3-none-any.whl (24 kB)
2025-11-28T17:39:37.7029591Z Using cached sse_starlette-3.0.3-py3-none-any.whl (11 kB)
2025-11-28T17:39:37.7043704Z Using cached ty-0.0.1a28-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.6 MB)
2025-11-28T17:39:37.7159209Z Using cached virtualenv-20.35.4-py3-none-any.whl (6.0 MB)
2025-11-28T17:39:37.7223430Z Using cached distlib-0.4.0-py2.py3-none-any.whl (469 kB)
2025-11-28T17:39:37.7243981Z Using cached platformdirs-4.5.0-py3-none-any.whl (18 kB)
2025-11-28T17:39:37.7259905Z Using cached docker-7.1.0-py3-none-any.whl (147 kB)
2025-11-28T17:39:37.7276907Z Using cached networkx-3.6-py3-none-any.whl (2.1 MB)
2025-11-28T17:39:38.0349922Z Installing collected packages: distlib, ty, scipy, python-multipart, pyjwt, platformdirs, nodeenv, networkx, mdurl, jiter, identify, httpx-sse, diskcache, cfgv, virtualenv, sse-starlette, python-louvain, pytest-mock, markdown-it-py, limits, docker, testcontainers, slowapi, rich, pre-commit, typer, mcp, instructor
2025-11-28T17:39:43.8429048Z   Attempting uninstall: jiter
2025-11-28T17:39:43.8494171Z     Found existing installation: jiter 0.12.0
2025-11-28T17:39:43.8514056Z     Uninstalling jiter-0.12.0:
2025-11-28T17:39:43.8523299Z       Successfully uninstalled jiter-0.12.0
2025-11-28T17:39:44.9513927Z 
2025-11-28T17:39:44.9646259Z Successfully installed cfgv-3.5.0 diskcache-5.6.3 distlib-0.4.0 docker-7.1.0 httpx-sse-0.4.3 identify-2.6.15 instructor-1.13.0 jiter-0.11.1 limits-5.6.0 markdown-it-py-4.0.0 mcp-1.22.0 mdurl-0.1.2 networkx-3.6 nodeenv-1.9.1 platformdirs-4.5.0 pre-commit-4.5.0 pyjwt-2.10.1 pytest-mock-3.15.1 python-louvain-0.16 python-multipart-0.0.20 rich-14.2.0 scipy-1.16.3 slowapi-0.1.9 sse-starlette-3.0.3 testcontainers-4.13.3 ty-0.0.1a28 typer-0.20.0 virtualenv-20.35.4
2025-11-28T17:39:45.4757098Z Obtaining file:///home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk
2025-11-28T17:39:45.4775185Z   Installing build dependencies: started
2025-11-28T17:39:46.4342273Z   Installing build dependencies: finished with status 'done'
2025-11-28T17:39:46.4347610Z   Checking if build backend supports build_editable: started
2025-11-28T17:39:46.7627272Z   Checking if build backend supports build_editable: finished with status 'done'
2025-11-28T17:39:46.7636780Z   Getting requirements to build editable: started
2025-11-28T17:39:47.1174299Z   Getting requirements to build editable: finished with status 'done'
2025-11-28T17:39:47.1184198Z   Preparing editable metadata (pyproject.toml): started
2025-11-28T17:39:47.3205269Z   Preparing editable metadata (pyproject.toml): finished with status 'done'
2025-11-28T17:39:47.3296953Z Requirement already satisfied: httpx>=0.27.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from rae-memory-sdk==0.1.0) (0.27.2)
2025-11-28T17:39:47.3302135Z Requirement already satisfied: pydantic>=2.0.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from rae-memory-sdk==0.1.0) (2.12.4)
2025-11-28T17:39:47.3307502Z Requirement already satisfied: pydantic-settings>=2.0.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from rae-memory-sdk==0.1.0) (2.12.0)
2025-11-28T17:39:47.3317294Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx>=0.27.0->rae-memory-sdk==0.1.0) (4.11.0)
2025-11-28T17:39:47.3322457Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx>=0.27.0->rae-memory-sdk==0.1.0) (2025.11.12)
2025-11-28T17:39:47.3328267Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx>=0.27.0->rae-memory-sdk==0.1.0) (1.0.9)
2025-11-28T17:39:47.3333856Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx>=0.27.0->rae-memory-sdk==0.1.0) (3.11)
2025-11-28T17:39:47.3338416Z Requirement already satisfied: sniffio in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpx>=0.27.0->rae-memory-sdk==0.1.0) (1.3.1)
2025-11-28T17:39:47.3363824Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx>=0.27.0->rae-memory-sdk==0.1.0) (0.16.0)
2025-11-28T17:39:47.3391571Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic>=2.0.0->rae-memory-sdk==0.1.0) (0.7.0)
2025-11-28T17:39:47.3397525Z Requirement already satisfied: pydantic-core==2.41.5 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic>=2.0.0->rae-memory-sdk==0.1.0) (2.41.5)
2025-11-28T17:39:47.3404387Z Requirement already satisfied: typing-extensions>=4.14.1 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic>=2.0.0->rae-memory-sdk==0.1.0) (4.15.0)
2025-11-28T17:39:47.3410476Z Requirement already satisfied: typing-inspection>=0.4.2 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic>=2.0.0->rae-memory-sdk==0.1.0) (0.4.2)
2025-11-28T17:39:47.3443300Z Requirement already satisfied: python-dotenv>=0.21.0 in /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages (from pydantic-settings>=2.0.0->rae-memory-sdk==0.1.0) (1.2.1)
2025-11-28T17:39:47.3527799Z Building wheels for collected packages: rae-memory-sdk
2025-11-28T17:39:47.3536351Z   Building editable for rae-memory-sdk (pyproject.toml): started
2025-11-28T17:39:47.5677885Z   Building editable for rae-memory-sdk (pyproject.toml): finished with status 'done'
2025-11-28T17:39:47.5684057Z   Created wheel for rae-memory-sdk: filename=rae_memory_sdk-0.1.0-0.editable-py3-none-any.whl size=6716 sha256=f8796d33d61880ad273edeac99ba0e4439c99b45d383e155061af7499c3e284c
2025-11-28T17:39:47.5685848Z   Stored in directory: /tmp/pip-ephem-wheel-cache-fc0muoqz/wheels/0f/57/8f/90e9be1d7d17302831807b8732c331077b84c7b1fd5b9b9231
2025-11-28T17:39:47.5715919Z Successfully built rae-memory-sdk
2025-11-28T17:39:47.7858364Z Installing collected packages: rae-memory-sdk
2025-11-28T17:39:47.8151845Z Successfully installed rae-memory-sdk-0.1.0
2025-11-28T17:39:47.9015720Z ##[group]Run pytest -m "not integration" --cov --cov-report=xml --cov-report=term
2025-11-28T17:39:47.9016284Z [36;1mpytest -m "not integration" --cov --cov-report=xml --cov-report=term[0m
2025-11-28T17:39:47.9049902Z shell: /usr/bin/bash -e {0}
2025-11-28T17:39:47.9050384Z env:
2025-11-28T17:39:47.9050632Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:47.9051041Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib/pkgconfig
2025-11-28T17:39:47.9051452Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:47.9051815Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:47.9052171Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.12/x64
2025-11-28T17:39:47.9052538Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.12/x64/lib
2025-11-28T17:39:47.9053123Z   DATABASE_URL: ***localhost:5432/test_rae
2025-11-28T17:39:47.9053410Z   REDIS_URL: redis://localhost:6379/0
2025-11-28T17:39:47.9053696Z   QDRANT_URL: http://localhost:6333
2025-11-28T17:39:47.9053944Z   RAE_VECTOR_BACKEND: qdrant
2025-11-28T17:39:47.9054148Z ##[endgroup]
2025-11-28T17:40:01.3129792Z [1m============================= test session starts ==============================[0m
2025-11-28T17:40:01.3133374Z platform linux -- Python 3.12.12, pytest-9.0.1, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.12.12/x64/bin/python
2025-11-28T17:40:01.3134309Z cachedir: .pytest_cache
2025-11-28T17:40:01.3134858Z rootdir: /home/runner/work/RAE-agentic-memory/RAE-agentic-memory
2025-11-28T17:40:01.3135463Z configfile: pytest.ini
2025-11-28T17:40:01.3136262Z testpaths: apps/memory_api/tests, integrations/context-watcher/tests, tests, test_enterprise_features.py
2025-11-28T17:40:01.3137279Z plugins: anyio-4.11.0, cov-7.0.0, asyncio-1.3.0, mock-3.15.1
2025-11-28T17:40:01.3138285Z asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
2025-11-28T17:40:02.9850191Z [1mcollecting ... [0mcollected 276 items / 11 deselected / 7 skipped / 265 selected
2025-11-28T17:40:02.9974099Z 
2025-11-28T17:40:02.9975270Z apps/memory_api/tests/test_analytics.py::test_get_tenant_stats_cached [32mPASSED[0m[33m [  0%][0m
2025-11-28T17:40:03.0044968Z apps/memory_api/tests/test_analytics.py::test_get_tenant_stats_uncached [32mPASSED[0m[33m [  0%][0m
2025-11-28T17:40:03.0085429Z apps/memory_api/tests/test_analytics.py::test_get_memory_stats [32mPASSED[0m[33m    [  1%][0m
2025-11-28T17:40:03.0125474Z apps/memory_api/tests/test_analytics.py::test_get_query_stats [32mPASSED[0m[33m     [  1%][0m
2025-11-28T17:40:03.0169869Z apps/memory_api/tests/test_analytics.py::test_get_graph_stats [32mPASSED[0m[33m     [  1%][0m
2025-11-28T17:40:03.0211665Z apps/memory_api/tests/test_analytics.py::test_get_reflection_stats [32mPASSED[0m[33m [  2%][0m
2025-11-28T17:40:03.0261732Z apps/memory_api/tests/test_analytics.py::test_get_api_usage_stats [32mPASSED[0m[33m [  2%][0m
2025-11-28T17:40:03.0321675Z apps/memory_api/tests/test_analytics.py::test_get_performance_stats [32mPASSED[0m[33m [  3%][0m
2025-11-28T17:40:03.0370376Z apps/memory_api/tests/test_analytics.py::test_get_cost_stats [32mPASSED[0m[33m      [  3%][0m
2025-11-28T17:40:03.0410753Z apps/memory_api/tests/test_analytics.py::test_calculate_graph_density [32mPASSED[0m[33m [  3%][0m
2025-11-28T17:40:03.0458178Z apps/memory_api/tests/test_analytics.py::test_cache_operations [32mPASSED[0m[33m    [  4%][0m
2025-11-28T17:40:03.0505049Z apps/memory_api/tests/test_analytics.py::test_generate_report [32mPASSED[0m[33m     [  4%][0m
2025-11-28T17:40:03.0561498Z apps/memory_api/tests/test_analytics.py::test_get_real_time_metrics [32mPASSED[0m[33m [  4%][0m
2025-11-28T17:40:03.0612917Z apps/memory_api/tests/test_analytics.py::test_get_usage_alerts [32mPASSED[0m[33m    [  5%][0m
2025-11-28T17:40:03.0666673Z apps/memory_api/tests/test_analytics.py::test_mock_db_methods [32mPASSED[0m[33m     [  5%][0m
2025-11-28T17:40:03.0683063Z apps/memory_api/tests/test_api_client.py::test_classify_network_error [32mPASSED[0m[33m [  6%][0m
2025-11-28T17:40:03.0702448Z apps/memory_api/tests/test_api_client.py::test_classify_timeout_error [32mPASSED[0m[33m [  6%][0m
2025-11-28T17:40:03.0716295Z apps/memory_api/tests/test_api_client.py::test_classify_rate_limit [32mPASSED[0m[33m [  6%][0m
2025-11-28T17:40:03.0729701Z apps/memory_api/tests/test_api_client.py::test_classify_authentication_error [32mPASSED[0m[33m [  7%][0m
2025-11-28T17:40:03.0762619Z apps/memory_api/tests/test_api_client.py::test_circuit_breaker_closed_success [32mPASSED[0m[33m [  7%][0m
2025-11-28T17:40:03.0804308Z apps/memory_api/tests/test_api_client.py::test_circuit_breaker_opens_on_failures [32mPASSED[0m[33m [  7%][0m
2025-11-28T17:40:03.0851296Z apps/memory_api/tests/test_api_client.py::test_circuit_breaker_rejects_when_open [32mPASSED[0m[33m [  8%][0m
2025-11-28T17:40:03.0891906Z apps/memory_api/tests/test_api_client.py::test_circuit_breaker_half_open_recovery [32mPASSED[0m[33m [  8%][0m
2025-11-28T17:40:03.0913287Z apps/memory_api/tests/test_api_client.py::test_cache_set_and_get [32mPASSED[0m[33m  [  9%][0m
2025-11-28T17:40:03.0937719Z apps/memory_api/tests/test_api_client.py::test_cache_miss [32mPASSED[0m[33m         [  9%][0m
2025-11-28T17:40:04.2968069Z apps/memory_api/tests/test_api_client.py::test_cache_expiration [32mPASSED[0m[33m   [  9%][0m
2025-11-28T17:40:04.2987057Z apps/memory_api/tests/test_api_client.py::test_cache_invalidation [32mPASSED[0m[33m [ 10%][0m
2025-11-28T17:40:04.3006863Z apps/memory_api/tests/test_api_client.py::test_cache_clear [32mPASSED[0m[33m        [ 10%][0m
2025-11-28T17:40:04.6287048Z apps/memory_api/tests/test_api_client.py::test_retry_on_network_error [32mPASSED[0m[33m [ 10%][0m
2025-11-28T17:40:05.3590636Z apps/memory_api/tests/test_api_client.py::test_retry_exhausted [32mPASSED[0m[33m    [ 11%][0m
2025-11-28T17:40:05.3863195Z apps/memory_api/tests/test_api_client.py::test_no_retry_on_client_error [32mPASSED[0m[33m [ 11%][0m
2025-11-28T17:40:05.3882547Z apps/memory_api/tests/test_api_client.py::test_exponential_backoff [32mPASSED[0m[33m [ 12%][0m
2025-11-28T17:40:05.4140574Z apps/memory_api/tests/test_api_client.py::test_get_request [32mPASSED[0m[33m        [ 12%][0m
2025-11-28T17:40:05.4398563Z apps/memory_api/tests/test_api_client.py::test_post_request [32mPASSED[0m[33m       [ 12%][0m
2025-11-28T17:40:05.4640614Z apps/memory_api/tests/test_api_client.py::test_client_statistics [32mPASSED[0m[33m  [ 13%][0m
2025-11-28T17:40:05.4886770Z apps/memory_api/tests/test_api_client.py::test_reset_statistics [32mPASSED[0m[33m   [ 13%][0m
2025-11-28T17:40:05.4900543Z apps/memory_api/tests/test_api_e2e.py::TestMemoryAPISmoke::test_store_and_query_memory_e2e [33mSKIPPED[0m[33m [ 13%][0m
2025-11-28T17:40:05.4911522Z apps/memory_api/tests/test_api_e2e.py::TestMemoryAPISmoke::test_hybrid_search_e2e [33mSKIPPED[0m[33m [ 14%][0m
2025-11-28T17:40:05.4924344Z apps/memory_api/tests/test_api_e2e.py::TestHealthCheckSmoke::test_health_check [33mSKIPPED[0m[33m [ 14%][0m
2025-11-28T17:40:05.5757885Z apps/memory_api/tests/test_api_e2e.py::TestAPIErrorHandling::test_missing_tenant_header [32mPASSED[0m[33m [ 15%][0m
2025-11-28T17:40:05.5811608Z apps/memory_api/tests/test_api_e2e.py::TestAPIErrorHandling::test_invalid_json [32mPASSED[0m[33m [ 15%][0m
2025-11-28T17:40:06.4577316Z apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_success [32mPASSED[0m[33m [ 15%][0m
2025-11-28T17:40:07.5311615Z apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_with_mini_model [32mPASSED[0m[33m [ 16%][0m
2025-11-28T17:40:07.5335943Z apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_exception_handling [32mPASSED[0m[33m [ 16%][0m
2025-11-28T17:40:08.8866015Z apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_pool_cleanup [32mPASSED[0m[33m [ 16%][0m
2025-11-28T17:40:08.8914780Z apps/memory_api/tests/test_background_tasks.py::TestProcessGraphExtractionQueue::test_queue_processor_schedules_tasks [32mPASSED[0m[33m [ 17%][0m
2025-11-28T17:40:08.8945970Z apps/memory_api/tests/test_background_tasks.py::TestProcessGraphExtractionQueue::test_queue_processor_no_pending_memories [32mPASSED[0m[33m [ 17%][0m
2025-11-28T17:40:08.8982392Z apps/memory_api/tests/test_background_tasks.py::TestGenerateReflection::test_generate_reflection_calls_engine [32mPASSED[0m[33m [ 18%][0m
2025-11-28T17:40:08.9018715Z apps/memory_api/tests/test_background_tasks.py::TestMemoryDecay::test_apply_decay_updates_strength [32mPASSED[0m[33m [ 18%][0m
2025-11-28T17:40:08.9058033Z apps/memory_api/tests/test_background_tasks.py::TestPruneOldMemories::test_prune_respects_retention_days [32mPASSED[0m[33m [ 18%][0m
2025-11-28T17:40:08.9084191Z apps/memory_api/tests/test_background_tasks.py::TestPruneOldMemories::test_prune_disabled_when_retention_zero [32mPASSED[0m[33m [ 19%][0m
2025-11-28T17:40:08.9147351Z apps/memory_api/tests/test_dashboard_websocket.py::test_websocket_connect [32mPASSED[0m[33m [ 19%][0m
2025-11-28T17:40:08.9205835Z apps/memory_api/tests/test_dashboard_websocket.py::test_websocket_disconnect [32mPASSED[0m[33m [ 20%][0m
2025-11-28T17:40:08.9252181Z apps/memory_api/tests/test_dashboard_websocket.py::test_subscription_filtering [32mPASSED[0m[33m [ 20%][0m
2025-11-28T17:40:08.9296074Z apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_to_tenant [32mPASSED[0m[33m [ 20%][0m
2025-11-28T17:40:08.9353868Z apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_all [32mPASSED[0m[33m [ 21%][0m
2025-11-28T17:40:08.9388578Z apps/memory_api/tests/test_dashboard_websocket.py::test_collect_system_metrics [32mPASSED[0m[33m [ 21%][0m
2025-11-28T17:40:08.9419802Z apps/memory_api/tests/test_dashboard_websocket.py::test_metrics_changed_significantly [32mPASSED[0m[33m [ 21%][0m
2025-11-28T17:40:08.9454598Z apps/memory_api/tests/test_dashboard_websocket.py::test_check_system_health [32mPASSED[0m[33m [ 22%][0m
2025-11-28T17:40:08.9498302Z apps/memory_api/tests/test_dashboard_websocket.py::test_health_monitoring_failure [32mPASSED[0m[33m [ 22%][0m
2025-11-28T17:40:08.9572154Z apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_memory_created [32mPASSED[0m[33m [ 23%][0m
2025-11-28T17:40:08.9624261Z apps/memory_api/tests/test_dashboard_websocket.py::test_broadcast_quality_alert [32mPASSED[0m[33m [ 23%][0m
2025-11-28T17:40:08.9647176Z apps/memory_api/tests/test_evaluation_suite.py::test_mrr_calculation [32mPASSED[0m[33m [ 23%][0m
2025-11-28T17:40:08.9669313Z apps/memory_api/tests/test_evaluation_suite.py::test_ndcg_calculation [32mPASSED[0m[33m [ 24%][0m
2025-11-28T17:40:08.9691659Z apps/memory_api/tests/test_evaluation_suite.py::test_precision_recall [32mPASSED[0m[33m [ 24%][0m
2025-11-28T17:40:08.9730500Z apps/memory_api/tests/test_evaluation_suite.py::test_kolmogorov_smirnov_test [32mPASSED[0m[33m [ 24%][0m
2025-11-28T17:40:08.9760724Z apps/memory_api/tests/test_evaluation_suite.py::test_psi_calculation [32mPASSED[0m[33m [ 25%][0m
2025-11-28T17:40:08.9785169Z apps/memory_api/tests/test_evaluation_suite.py::test_drift_severity_classification [32mPASSED[0m[33m [ 25%][0m
2025-11-28T17:40:08.9864283Z apps/memory_api/tests/test_evaluation_suite.py::test_drift_detection_no_data [32mPASSED[0m[33m [ 26%][0m
2025-11-28T17:40:08.9886959Z apps/memory_api/tests/test_evaluation_suite.py::test_ab_test_traffic_validation [32mPASSED[0m[33m [ 26%][0m
2025-11-28T17:40:08.9921807Z apps/memory_api/tests/test_event_triggers.py::test_process_event [32mPASSED[0m[33m  [ 26%][0m
2025-11-28T17:40:08.9946406Z apps/memory_api/tests/test_event_triggers.py::test_evaluate_simple_condition [32mPASSED[0m[33m [ 27%][0m
2025-11-28T17:40:08.9970904Z apps/memory_api/tests/test_event_triggers.py::test_evaluate_condition_group_and [32mPASSED[0m[33m [ 27%][0m
2025-11-28T17:40:08.9995884Z apps/memory_api/tests/test_event_triggers.py::test_evaluate_condition_group_or [32mPASSED[0m[33m [ 27%][0m
2025-11-28T17:40:09.0020356Z apps/memory_api/tests/test_event_triggers.py::test_nested_condition_groups [32mPASSED[0m[33m [ 28%][0m
2025-11-28T17:40:09.0046895Z apps/memory_api/tests/test_event_triggers.py::test_condition_operators [32mPASSED[0m[33m [ 28%][0m
2025-11-28T17:40:09.0073332Z apps/memory_api/tests/test_event_triggers.py::test_rate_limiting [32mPASSED[0m[33m  [ 29%][0m
2025-11-28T17:40:09.0098797Z apps/memory_api/tests/test_event_triggers.py::test_cooldown_period [32mPASSED[0m[33m [ 29%][0m
2025-11-28T17:40:09.0135566Z apps/memory_api/tests/test_event_triggers.py::test_execute_action [32mPASSED[0m[33m [ 29%][0m
2025-11-28T17:40:09.0164587Z apps/memory_api/tests/test_event_triggers.py::test_workflow_execution [32mPASSED[0m[33m [ 30%][0m
2025-11-28T17:40:09.0184822Z apps/memory_api/tests/test_graph_algorithms.py::test_graph_node [32mPASSED[0m[33m   [ 30%][0m
2025-11-28T17:40:09.0204474Z apps/memory_api/tests/test_graph_algorithms.py::test_graph_edge [32mPASSED[0m[33m   [ 30%][0m
2025-11-28T17:40:09.0224591Z apps/memory_api/tests/test_graph_algorithms.py::test_knowledge_graph [32mPASSED[0m[33m [ 31%][0m
2025-11-28T17:40:09.0267306Z apps/memory_api/tests/test_graph_algorithms.py::test_service_load_tenant_graph [32mPASSED[0m[33m [ 31%][0m
2025-11-28T17:40:09.0311879Z apps/memory_api/tests/test_graph_algorithms.py::test_pagerank [32mPASSED[0m[33m     [ 32%][0m
2025-11-28T17:40:09.0356445Z apps/memory_api/tests/test_graph_algorithms.py::test_shortest_path [32mPASSED[0m[33m [ 32%][0m
2025-11-28T17:40:09.0399167Z apps/memory_api/tests/test_graph_algorithms.py::test_find_all_paths [32mPASSED[0m[33m [ 32%][0m
2025-11-28T17:40:09.0440792Z apps/memory_api/tests/test_graph_algorithms.py::test_find_related_entities [32mPASSED[0m[33m [ 33%][0m
2025-11-28T17:40:09.0479278Z apps/memory_api/tests/test_graph_algorithms.py::test_graph_summary [32mPASSED[0m[33m [ 33%][0m
2025-11-28T17:40:09.0546219Z apps/memory_api/tests/test_graph_algorithms.py::test_community_detection [32mPASSED[0m[33m [ 33%][0m
2025-11-28T17:40:09.0588065Z apps/memory_api/tests/test_graph_algorithms.py::test_calculate_centrality [32mPASSED[0m[33m [ 34%][0m
2025-11-28T17:40:09.0627806Z apps/memory_api/tests/test_graph_algorithms.py::test_graph_density [32mPASSED[0m[33m [ 34%][0m
2025-11-28T17:40:09.0668267Z apps/memory_api/tests/test_graph_algorithms.py::test_subgraph_extraction [32mPASSED[0m[33m [ 35%][0m
2025-11-28T17:40:09.8425007Z apps/memory_api/tests/test_openapi.py::test_openapi_schema [32mPASSED[0m[33m        [ 35%][0m
2025-11-28T17:40:09.8438527Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_tier_enum [32mPASSED[0m[33m [ 35%][0m
2025-11-28T17:40:09.8452212Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_config_defaults [32mPASSED[0m[33m [ 36%][0m
2025-11-28T17:40:09.8466568Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_tenant_creation [32mPASSED[0m[33m [ 36%][0m
2025-11-28T17:40:09.8480196Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_free_tier [32mPASSED[0m[33m [ 36%][0m
2025-11-28T17:40:09.8493165Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_pro_tier [32mPASSED[0m[33m [ 37%][0m
2025-11-28T17:40:09.8506107Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_get_default_config_for_enterprise_tier [32mPASSED[0m[33m [ 37%][0m
2025-11-28T17:40:09.8520117Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_has_quota_available_memories [32mPASSED[0m[33m [ 38%][0m
2025-11-28T17:40:09.8533702Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_has_quota_available_unlimited [32mPASSED[0m[33m [ 38%][0m
2025-11-28T17:40:09.8547298Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_increment_usage [32mPASSED[0m[33m [ 38%][0m
2025-11-28T17:40:09.8562540Z apps/memory_api/tests/test_phase2_models.py::TestTenantModels::test_is_feature_enabled [32mPASSED[0m[33m [ 39%][0m
2025-11-28T17:40:09.8575094Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_enum_values [32mPASSED[0m[33m [ 39%][0m
2025-11-28T17:40:09.8587872Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_levels [32mPASSED[0m[33m [ 40%][0m
2025-11-28T17:40:09.8600713Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_owner [32mPASSED[0m[33m [ 40%][0m
2025-11-28T17:40:09.8613403Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_admin [32mPASSED[0m[33m [ 40%][0m
2025-11-28T17:40:09.8626076Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_developer [32mPASSED[0m[33m [ 41%][0m
2025-11-28T17:40:09.8638764Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_analyst [32mPASSED[0m[33m [ 41%][0m
2025-11-28T17:40:09.8651643Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_can_perform_viewer [32mPASSED[0m[33m [ 41%][0m
2025-11-28T17:40:09.8664168Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_permission_model [32mPASSED[0m[33m [ 42%][0m
2025-11-28T17:40:09.8677474Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_creation [32mPASSED[0m[33m [ 42%][0m
2025-11-28T17:40:09.8691740Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_expiration [32mPASSED[0m[33m [ 43%][0m
2025-11-28T17:40:09.8705553Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_project_access [32mPASSED[0m[33m [ 43%][0m
2025-11-28T17:40:09.8718820Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_can_perform [32mPASSED[0m[33m [ 43%][0m
2025-11-28T17:40:09.8732599Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_user_role_can_perform_with_project [32mPASSED[0m[33m [ 44%][0m
2025-11-28T17:40:09.8745457Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_role_hierarchy_comparison [32mPASSED[0m[33m [ 44%][0m
2025-11-28T17:40:09.8758763Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_can_assign_role [32mPASSED[0m[33m [ 44%][0m
2025-11-28T17:40:09.8774444Z apps/memory_api/tests/test_phase2_models.py::TestRBACModels::test_can_modify_user [32mPASSED[0m[33m [ 45%][0m
2025-11-28T17:40:09.8787483Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginMetadata::test_metadata_creation [32mPASSED[0m[33m [ 45%][0m
2025-11-28T17:40:09.8800595Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginMetadata::test_metadata_to_dict [32mPASSED[0m[33m [ 46%][0m
2025-11-28T17:40:09.8824426Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_initialization [32mPASSED[0m[33m [ 46%][0m
2025-11-28T17:40:09.8844942Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_shutdown [32mPASSED[0m[33m [ 46%][0m
2025-11-28T17:40:09.8865024Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_plugin_health_check [32mPASSED[0m[33m [ 47%][0m
2025-11-28T17:40:09.8884880Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_hook_execution [32mPASSED[0m[33m [ 47%][0m
2025-11-28T17:40:09.8905161Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginBase::test_transform_hook [32mPASSED[0m[33m [ 47%][0m
2025-11-28T17:40:09.8918442Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_registry_creation [32mPASSED[0m[33m [ 48%][0m
2025-11-28T17:40:09.8935415Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_register_plugin [32mPASSED[0m[33m [ 48%][0m
2025-11-28T17:40:09.8953235Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_unregister_plugin [32mPASSED[0m[33m [ 49%][0m
2025-11-28T17:40:09.8968767Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_list_plugins [32mPASSED[0m[33m [ 49%][0m
2025-11-28T17:40:09.8984670Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_get_plugins_for_hook [32mPASSED[0m[33m [ 49%][0m
2025-11-28T17:40:09.9014229Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_initialize_all [32mPASSED[0m[33m [ 50%][0m
2025-11-28T17:40:09.9039233Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_shutdown_all [32mPASSED[0m[33m [ 50%][0m
2025-11-28T17:40:09.9063901Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_execute_hook [32mPASSED[0m[33m [ 50%][0m
2025-11-28T17:40:09.9087087Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_execute_transform_hook [32mPASSED[0m[33m [ 51%][0m
2025-11-28T17:40:09.9109592Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_health_check_all [32mPASSED[0m[33m [ 51%][0m
2025-11-28T17:40:09.9123013Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginRegistry::test_get_global_registry [32mPASSED[0m[33m [ 52%][0m
2025-11-28T17:40:09.9135713Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginHooks::test_hook_values [32mPASSED[0m[33m [ 52%][0m
2025-11-28T17:40:09.9148775Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginHooks::test_all_hooks_defined [32mPASSED[0m[33m [ 52%][0m
2025-11-28T17:40:09.9164948Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginDisabling::test_disabled_plugin_not_executed [32mPASSED[0m[33m [ 53%][0m
2025-11-28T17:40:09.9188762Z apps/memory_api/tests/test_phase2_plugins.py::TestPluginDisabling::test_disabled_plugin_not_initialized [32mPASSED[0m[33m [ 53%][0m
2025-11-28T17:40:09.9215375Z apps/memory_api/tests/test_phase2_plugins.py::TestMultiplePlugins::test_multiple_plugins_same_hook [32mPASSED[0m[33m [ 53%][0m
2025-11-28T17:40:09.9243292Z apps/memory_api/tests/test_phase2_plugins.py::TestMultiplePlugins::test_plugin_chaining [32mPASSED[0m[33m [ 54%][0m
2025-11-28T17:40:10.2794101Z apps/memory_api/tests/test_reflective_flags.py::TestReflectiveMemoryFlags::test_reflective_memory_disabled_no_reflections [31mFAILED[0m[31m [ 54%][0m
2025-11-28T17:40:10.2842523Z apps/memory_api/tests/test_reflective_flags.py::TestReflectiveMemoryFlags::test_reflective_memory_enabled_retrieves_reflections [32mPASSED[0m[31m [ 55%][0m
2025-11-28T17:40:10.2878716Z apps/memory_api/tests/test_reflective_flags.py::TestReflectiveMemoryMode::test_lite_mode_uses_lower_limits [32mPASSED[0m[31m [ 55%][0m
2025-11-28T17:40:10.2916222Z apps/memory_api/tests/test_reflective_flags.py::TestReflectiveMemoryMode::test_full_mode_uses_higher_limits [32mPASSED[0m[31m [ 55%][0m
2025-11-28T17:40:10.2945583Z apps/memory_api/tests/test_reflective_flags.py::TestDreamingEnabled::test_dreaming_disabled_no_dreaming [32mPASSED[0m[31m [ 56%][0m
2025-11-28T17:40:10.3760444Z apps/memory_api/tests/test_reflective_flags.py::TestDreamingEnabled::test_dreaming_enabled_runs_dreaming [31mFAILED[0m[31m [ 56%][0m
2025-11-28T17:40:10.3794265Z apps/memory_api/tests/test_reflective_flags.py::TestSummarizationEnabled::test_summarization_disabled_no_summary [32mPASSED[0m[31m [ 56%][0m
2025-11-28T17:40:10.3833946Z apps/memory_api/tests/test_reflective_flags.py::TestSummarizationEnabled::test_summarization_enabled_creates_summary [32mPASSED[0m[31m [ 57%][0m
2025-11-28T17:40:10.3876093Z apps/memory_api/tests/test_reflective_flags.py::TestMaintenanceScheduler::test_maintenance_with_all_flags_disabled [32mPASSED[0m[31m [ 57%][0m
2025-11-28T17:40:10.3934499Z apps/memory_api/tests/test_reflective_flags.py::TestMaintenanceScheduler::test_maintenance_with_all_flags_enabled [32mPASSED[0m[31m [ 58%][0m
2025-11-28T17:40:10.3976342Z apps/memory_api/tests/test_temporal_graph.py::test_create_snapshot [32mPASSED[0m[31m [ 58%][0m
2025-11-28T17:40:10.4015415Z apps/memory_api/tests/test_temporal_graph.py::test_get_snapshot_at_time [32mPASSED[0m[31m [ 58%][0m
2025-11-28T17:40:10.4053168Z apps/memory_api/tests/test_temporal_graph.py::test_get_latest_snapshot [32mPASSED[0m[31m [ 59%][0m
2025-11-28T17:40:10.4099476Z apps/memory_api/tests/test_temporal_graph.py::test_record_change [32mPASSED[0m[31m  [ 59%][0m
2025-11-28T17:40:10.4136493Z apps/memory_api/tests/test_temporal_graph.py::test_get_changes_filters [32mPASSED[0m[31m [ 60%][0m
2025-11-28T17:40:10.4171804Z apps/memory_api/tests/test_temporal_graph.py::test_get_entity_history [32mPASSED[0m[31m [ 60%][0m
2025-11-28T17:40:10.4210246Z apps/memory_api/tests/test_temporal_graph.py::test_reconstruct_graph_at_time [32mPASSED[0m[31m [ 60%][0m
2025-11-28T17:40:10.4246341Z apps/memory_api/tests/test_temporal_graph.py::test_apply_change_logic [32mPASSED[0m[31m [ 61%][0m
2025-11-28T17:40:10.4282648Z apps/memory_api/tests/test_temporal_graph.py::test_compare_graphs [32mPASSED[0m[31m [ 61%][0m
2025-11-28T17:40:10.4322042Z apps/memory_api/tests/test_temporal_graph.py::test_get_evolution_timeline [32mPASSED[0m[31m [ 61%][0m
2025-11-28T17:40:10.4363340Z apps/memory_api/tests/test_temporal_graph.py::test_get_growth_metrics [32mPASSED[0m[31m [ 62%][0m
2025-11-28T17:40:10.4400815Z apps/memory_api/tests/test_temporal_graph.py::test_find_emerging_patterns [32mPASSED[0m[31m [ 62%][0m
2025-11-28T17:40:10.4443612Z apps/memory_api/tests/test_temporal_graph.py::test_cleanup_old_snapshots [32mPASSED[0m[31m [ 63%][0m
2025-11-28T17:40:10.5607826Z tests/api/v1/test_agent.py::test_agent_execute_direct [31mFAILED[0m[31m             [ 63%][0m
2025-11-28T17:40:10.6716925Z tests/api/v1/test_agent.py::test_agent_execute_with_context [31mFAILED[0m[31m       [ 63%][0m
2025-11-28T17:40:10.7820597Z tests/api/v1/test_agent.py::test_agent_execute_with_empty_prompt [31mFAILED[0m[31m  [ 64%][0m
2025-11-28T17:40:10.8949286Z tests/api/v1/test_agent.py::test_agent_execute_with_llm_error [31mFAILED[0m[31m     [ 64%][0m
2025-11-28T17:40:10.9019518Z tests/api/v1/test_cache.py::test_rebuild_cache [32mPASSED[0m[31m                    [ 64%][0m
2025-11-28T17:40:10.9220693Z tests/api/v1/test_governance.py::test_governance_overview_success [31mFAILED[0m[31m [ 65%][0m
2025-11-28T17:40:10.9414952Z tests/api/v1/test_governance.py::test_governance_overview_with_custom_days [31mFAILED[0m[31m [ 65%][0m
2025-11-28T17:40:10.9618782Z tests/api/v1/test_governance.py::test_governance_overview_error [31mFAILED[0m[31m   [ 66%][0m
2025-11-28T17:40:10.9840694Z tests/api/v1/test_governance.py::test_tenant_governance_stats_success [31mFAILED[0m[31m [ 66%][0m
2025-11-28T17:40:11.0045735Z tests/api/v1/test_governance.py::test_tenant_governance_stats_no_data [31mFAILED[0m[31m [ 66%][0m
2025-11-28T17:40:11.0268786Z tests/api/v1/test_governance.py::test_tenant_governance_stats_with_custom_period [31mFAILED[0m[31m [ 67%][0m
2025-11-28T17:40:11.0471920Z tests/api/v1/test_governance.py::test_tenant_budget_status_success [31mFAILED[0m[31m [ 67%][0m
2025-11-28T17:40:11.0663352Z tests/api/v1/test_governance.py::test_tenant_budget_status_with_alerts [31mFAILED[0m[31m [ 67%][0m
2025-11-28T17:40:11.0864795Z tests/api/v1/test_governance.py::test_tenant_budget_status_zero_usage [31mFAILED[0m[31m [ 68%][0m
2025-11-28T17:40:11.1049445Z tests/api/v1/test_governance.py::test_tenant_budget_status_error [31mFAILED[0m[31m  [ 68%][0m
2025-11-28T17:40:11.1225937Z tests/api/v1/test_governance.py::test_governance_overview_invalid_days [31mFAILED[0m[31m [ 69%][0m
2025-11-28T17:40:11.1417071Z tests/api/v1/test_governance.py::test_tenant_governance_stats_invalid_days [31mFAILED[0m[31m [ 69%][0m
2025-11-28T17:40:11.1601117Z tests/api/v1/test_governance.py::test_governance_overview_empty_results [31mFAILED[0m[31m [ 69%][0m
2025-11-28T17:40:11.1795997Z tests/api/v1/test_memory.py::test_store_memory_success [31mFAILED[0m[31m            [ 70%][0m
2025-11-28T17:40:11.1992165Z tests/api/v1/test_memory.py::test_query_memory_success [31mFAILED[0m[31m            [ 70%][0m
2025-11-28T17:40:11.2167634Z tests/api/v1/test_memory.py::test_delete_memory_success [31mFAILED[0m[31m           [ 70%][0m
2025-11-28T17:40:11.2293522Z tests/api/v1/test_memory.py::test_rebuild_reflections_success [32mPASSED[0m[31m     [ 71%][0m
2025-11-28T17:40:11.4472084Z tests/api/v1/test_memory.py::test_reflection_stats_success [31mFAILED[0m[31m        [ 71%][0m
2025-11-28T17:40:11.4652582Z tests/api/v1/test_memory.py::test_store_memory_missing_tenant_header [31mFAILED[0m[31m [ 72%][0m
2025-11-28T17:40:11.4844821Z tests/api/v1/test_memory.py::test_query_memory_with_filters [31mFAILED[0m[31m       [ 72%][0m
2025-11-28T17:40:11.5034507Z tests/api/v1/test_memory.py::test_query_memory_with_graph_traversal [31mFAILED[0m[31m [ 72%][0m
2025-11-28T17:40:11.5214533Z tests/api/v1/test_memory.py::test_delete_memory_not_found [31mFAILED[0m[31m         [ 73%][0m
2025-11-28T17:40:11.5486487Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_success [31mFAILED[0m[31m    [ 73%][0m
2025-11-28T17:40:11.5686553Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_reranking [31mFAILED[0m[31m [ 73%][0m
2025-11-28T17:40:11.5892576Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_filters [31mFAILED[0m[31m [ 74%][0m
2025-11-28T17:40:11.6094678Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_manual_weights [31mFAILED[0m[31m [ 74%][0m
2025-11-28T17:40:11.6301236Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_graph_depth [31mFAILED[0m[31m [ 75%][0m
2025-11-28T17:40:11.6526989Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_conversation_history [31mFAILED[0m[31m [ 75%][0m
2025-11-28T17:40:11.6730817Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_empty_query [31mFAILED[0m[31m [ 75%][0m
2025-11-28T17:40:11.6836615Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_service_error [32mPASSED[0m[31m [ 76%][0m
2025-11-28T17:40:11.7049464Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_all_strategies_disabled [31mFAILED[0m[31m [ 76%][0m
2025-11-28T17:40:11.8813585Z tests/integration/test_graphrag.py::test_graph_extraction_basic [31mERROR[0m[31m    [ 76%][0m
2025-11-28T17:40:12.0580329Z tests/integration/test_graphrag.py::test_graph_storage [31mERROR[0m[31m             [ 77%][0m
2025-11-28T17:40:12.2343136Z tests/integration/test_graphrag.py::test_hybrid_search [31mERROR[0m[31m             [ 77%][0m
2025-11-28T17:40:12.4100868Z tests/integration/test_graphrag.py::test_graph_traversal_depth [31mERROR[0m[31m     [ 78%][0m
2025-11-28T17:40:12.5916239Z tests/integration/test_graphrag.py::test_hierarchical_reflection [31mERROR[0m[31m   [ 78%][0m
2025-11-28T17:40:12.5961342Z tests/integration/test_reflection_flow.py::test_generate_reflection_from_failure [31mERROR[0m[31m [ 78%][0m
2025-11-28T17:40:12.5998007Z tests/integration/test_reflection_flow.py::test_generate_reflection_from_success [31mERROR[0m[31m [ 79%][0m
2025-11-28T17:40:12.6035039Z tests/integration/test_reflection_flow.py::test_reflection_retrieval_in_context [31mERROR[0m[31m [ 79%][0m
2025-11-28T17:40:12.6072583Z tests/integration/test_reflection_flow.py::test_memory_scoring_v2 [32mPASSED[0m[31m [ 80%][0m
2025-11-28T17:40:12.6106237Z tests/integration/test_reflection_flow.py::test_inject_reflections_into_prompt [31mERROR[0m[31m [ 80%][0m
2025-11-28T17:40:12.6149205Z tests/integration/test_reflection_flow.py::test_end_to_end_reflection_flow [31mERROR[0m[31m [ 80%][0m
2025-11-28T17:40:21.4875725Z tests/llm/test_llm_provider_contract.py::test_basic_completion [31mFAILED[0m[31m    [ 81%][0m
2025-11-28T17:40:29.9413550Z tests/llm/test_llm_provider_contract.py::test_json_mode [31mFAILED[0m[31m           [ 81%][0m
2025-11-28T17:40:30.2123375Z tests/llm/test_llm_provider_contract.py::test_streaming [31mFAILED[0m[31m           [ 81%][0m
2025-11-28T17:40:38.7312275Z tests/llm/test_llm_provider_contract.py::test_token_usage [31mFAILED[0m[31m         [ 82%][0m
2025-11-28T17:40:47.1989076Z tests/llm/test_llm_provider_contract.py::test_temperature_control [31mFAILED[0m[31m [ 82%][0m
2025-11-28T17:40:55.7524316Z tests/llm/test_llm_provider_contract.py::test_max_tokens [31mFAILED[0m[31m          [ 83%][0m
2025-11-28T17:41:04.2710983Z tests/llm/test_llm_provider_contract.py::test_provider_contract_hello_world[openai-gpt-3.5-turbo] [31mFAILED[0m[31m [ 83%][0m
2025-11-28T17:41:04.2748358Z tests/llm/test_llm_provider_contract.py::test_provider_contract_hello_world[anthropic-claude-3-haiku-20240307] [33mSKIPPED[0m[31m [ 83%][0m
2025-11-28T17:41:04.2799857Z tests/llm/test_llm_provider_contract.py::test_provider_contract_hello_world[gemini-gemini-1.5-flash] [33mSKIPPED[0m[31m [ 84%][0m
2025-11-28T17:41:04.2844977Z tests/repositories/test_graph_repository.py::test_get_all_nodes [32mPASSED[0m[31m   [ 84%][0m
2025-11-28T17:41:04.2889509Z tests/repositories/test_graph_repository.py::test_get_all_edges [32mPASSED[0m[31m   [ 84%][0m
2025-11-28T17:41:04.2934068Z tests/repositories/test_graph_repository.py::test_update_node_label [32mPASSED[0m[31m [ 85%][0m
2025-11-28T17:41:04.3138714Z tests/repositories/test_graph_repository.py::test_merge_node_edges [31mFAILED[0m[31m [ 85%][0m
2025-11-28T17:41:04.3187113Z tests/repositories/test_graph_repository.py::test_delete_node_edges [32mPASSED[0m[31m [ 86%][0m
2025-11-28T17:41:04.3232909Z tests/repositories/test_graph_repository.py::test_delete_node [32mPASSED[0m[31m     [ 86%][0m
2025-11-28T17:41:04.3278718Z tests/repositories/test_graph_repository.py::test_delete_node_not_found [32mPASSED[0m[31m [ 86%][0m
2025-11-28T17:41:04.3338390Z tests/repositories/test_graph_repository.py::test_upsert_node_insert [32mPASSED[0m[31m [ 87%][0m
2025-11-28T17:41:04.3385043Z tests/repositories/test_graph_repository.py::test_upsert_node_update [32mPASSED[0m[31m [ 87%][0m
2025-11-28T17:41:04.3429025Z tests/repositories/test_graph_repository.py::test_create_node [32mPASSED[0m[31m     [ 87%][0m
2025-11-28T17:41:04.3473080Z tests/repositories/test_graph_repository.py::test_create_edge [32mPASSED[0m[31m     [ 88%][0m
2025-11-28T17:41:04.3516885Z tests/repositories/test_graph_repository.py::test_get_node_internal_id [32mPASSED[0m[31m [ 88%][0m
2025-11-28T17:41:04.3562425Z tests/repositories/test_graph_repository.py::test_get_node_internal_id_not_found [32mPASSED[0m[31m [ 89%][0m
2025-11-28T17:41:04.3777896Z tests/repositories/test_graph_repository.py::test_store_graph_triples [31mFAILED[0m[31m [ 89%][0m
2025-11-28T17:41:04.3864881Z tests/services/llm/test_providers.py::test_openai_generate [32mPASSED[0m[31m        [ 89%][0m
2025-11-28T17:41:04.3937885Z tests/services/test_budget_service.py::test_check_budget [31mFAILED[0m[31m          [ 90%][0m
2025-11-28T17:41:04.3997767Z tests/services/test_budget_service.py::test_check_budget_fail [31mFAILED[0m[31m     [ 90%][0m
2025-11-28T17:41:04.4049323Z tests/services/test_community_detection.py::test_load_graph_uses_repository [32mPASSED[0m[31m [ 90%][0m
2025-11-28T17:41:04.4093236Z tests/services/test_community_detection.py::test_load_graph_with_disconnected_edges [32mPASSED[0m[31m [ 91%][0m
2025-11-28T17:41:04.4133269Z tests/services/test_community_detection.py::test_store_super_node_uses_repository [32mPASSED[0m[31m [ 91%][0m
2025-11-28T17:41:04.4182163Z tests/services/test_community_detection.py::test_run_community_detection_insufficient_nodes [32mPASSED[0m[31m [ 92%][0m
2025-11-28T17:41:04.4221670Z tests/services/test_community_detection.py::test_generate_summary_llm_integration [32mPASSED[0m[31m [ 92%][0m
2025-11-28T17:41:04.4263157Z tests/services/test_community_detection.py::test_generate_summary_llm_failure [32mPASSED[0m[31m [ 92%][0m
2025-11-28T17:41:04.4309733Z tests/services/test_community_detection.py::test_process_community_workflow [32mPASSED[0m[31m [ 93%][0m
2025-11-28T17:41:04.4355659Z tests/services/test_community_detection.py::test_empty_graph_handling [32mPASSED[0m[31m [ 93%][0m
2025-11-28T17:41:04.4388400Z tests/services/test_context_cache.py::test_context_cache_flow [32mPASSED[0m[31m     [ 93%][0m
2025-11-28T17:41:04.4431214Z tests/services/test_entity_resolution.py::test_fetch_nodes_uses_repository [32mPASSED[0m[31m [ 94%][0m
2025-11-28T17:41:04.4482718Z tests/services/test_entity_resolution.py::test_merge_nodes_with_canonical_name [32mPASSED[0m[31m [ 94%][0m
2025-11-28T17:41:04.4541186Z tests/services/test_entity_resolution.py::test_merge_nodes_without_canonical_name [32mPASSED[0m[31m [ 95%][0m
2025-11-28T17:41:04.4583808Z tests/services/test_entity_resolution.py::test_merge_nodes_empty_list [32mPASSED[0m[31m [ 95%][0m
2025-11-28T17:41:04.4633261Z tests/services/test_entity_resolution.py::test_run_clustering_with_insufficient_nodes [32mPASSED[0m[31m [ 95%][0m
2025-11-28T17:41:04.4684388Z tests/services/test_entity_resolution.py::test_process_group_with_merge_approval [32mPASSED[0m[31m [ 96%][0m
2025-11-28T17:41:04.4735211Z tests/services/test_entity_resolution.py::test_process_group_with_merge_rejection [32mPASSED[0m[31m [ 96%][0m
2025-11-28T17:41:04.4877050Z tests/services/test_reflection_engine.py::test_reflection_flow [31mFAILED[0m[31m    [ 96%][0m
2025-11-28T17:41:04.5088398Z test_enterprise_features.py::test_decorator_import [32mPASSED[0m[31m                [ 97%][0m
2025-11-28T17:41:04.5576495Z test_enterprise_features.py::test_decorator_basic_usage [32mPASSED[0m[31m           [ 97%][0m
2025-11-28T17:41:04.5590561Z test_enterprise_features.py::test_reflection_engine_import [32mPASSED[0m[31m        [ 98%][0m
2025-11-28T17:41:04.5604560Z test_enterprise_features.py::test_hierarchical_reflection_methods [32mPASSED[0m[31m [ 98%][0m
2025-11-28T17:41:04.5618152Z test_enterprise_features.py::test_llm_structured_outputs [32mPASSED[0m[31m          [ 98%][0m
2025-11-28T17:41:04.5800943Z test_enterprise_features.py::test_pydantic_models [31mFAILED[0m[31m                 [ 99%][0m
2025-11-28T17:41:04.6264376Z test_enterprise_features.py::test_memory_client_async_methods [32mPASSED[0m[31m     [ 99%][0m
2025-11-28T17:41:13.4840518Z test_enterprise_features.py::test_api_endpoint_exists [32mPASSED[0m[31m             [100%][0m
2025-11-28T17:41:13.4841165Z 
2025-11-28T17:41:13.4841361Z ==================================== ERRORS ====================================
2025-11-28T17:41:13.4842170Z [31m[1m________________ ERROR at setup of test_graph_extraction_basic _________________[0m
2025-11-28T17:41:13.4843014Z [1m[31mtests/integration/test_graphrag.py[0m:35: in db_pool
2025-11-28T17:41:13.4843777Z     [0mpool = [94mawait[39;49;00m asyncpg.create_pool([90m[39;49;00m
2025-11-28T17:41:13.4844862Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:418: in _async__init__
2025-11-28T17:41:13.4845981Z     [0m[94mawait[39;49;00m [96mself[39;49;00m._initialize()[90m[39;49;00m
2025-11-28T17:41:13.4847547Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:445: in _initialize
2025-11-28T17:41:13.4848359Z     [0m[94mawait[39;49;00m first_ch.connect()[90m[39;49;00m
2025-11-28T17:41:13.4849028Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:132: in connect
2025-11-28T17:41:13.4849832Z     [0m[96mself[39;49;00m._con = [94mawait[39;49;00m [96mself[39;49;00m._pool._get_new_connection()[90m[39;49;00m
2025-11-28T17:41:13.4850631Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4851314Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:517: in _get_new_connection
2025-11-28T17:41:13.4852041Z     [0mcon = [94mawait[39;49;00m [96mself[39;49;00m._connect([90m[39;49;00m
2025-11-28T17:41:13.4852767Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connection.py[0m:2421: in connect
2025-11-28T17:41:13.4853512Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m connect_utils._connect([90m[39;49;00m
2025-11-28T17:41:13.4854477Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:1049: in _connect
2025-11-28T17:41:13.4855188Z     [0mconn = [94mawait[39;49;00m _connect_addr([90m[39;49;00m
2025-11-28T17:41:13.4855918Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:886: in _connect_addr
2025-11-28T17:41:13.4856668Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m __connect_addr(params, [94mTrue[39;49;00m, *args)[90m[39;49;00m
2025-11-28T17:41:13.4857137Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4857764Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:934: in __connect_addr
2025-11-28T17:41:13.4858371Z     [0m[94mawait[39;49;00m connected[90m[39;49;00m
2025-11-28T17:41:13.4858930Z [1m[31mE   asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"[0m
2025-11-28T17:41:13.4859539Z [31m[1m_____________________ ERROR at setup of test_graph_storage _____________________[0m
2025-11-28T17:41:13.4860191Z [1m[31mtests/integration/test_graphrag.py[0m:35: in db_pool
2025-11-28T17:41:13.4860787Z     [0mpool = [94mawait[39;49;00m asyncpg.create_pool([90m[39;49;00m
2025-11-28T17:41:13.4861436Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:418: in _async__init__
2025-11-28T17:41:13.4862046Z     [0m[94mawait[39;49;00m [96mself[39;49;00m._initialize()[90m[39;49;00m
2025-11-28T17:41:13.4862670Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:445: in _initialize
2025-11-28T17:41:13.4863231Z     [0m[94mawait[39;49;00m first_ch.connect()[90m[39;49;00m
2025-11-28T17:41:13.4863803Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:132: in connect
2025-11-28T17:41:13.4864487Z     [0m[96mself[39;49;00m._con = [94mawait[39;49;00m [96mself[39;49;00m._pool._get_new_connection()[90m[39;49;00m
2025-11-28T17:41:13.4864956Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4865592Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:517: in _get_new_connection
2025-11-28T17:41:13.4866226Z     [0mcon = [94mawait[39;49;00m [96mself[39;49;00m._connect([90m[39;49;00m
2025-11-28T17:41:13.4866855Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connection.py[0m:2421: in connect
2025-11-28T17:41:13.4867494Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m connect_utils._connect([90m[39;49;00m
2025-11-28T17:41:13.4868719Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:1049: in _connect
2025-11-28T17:41:13.4869946Z     [0mconn = [94mawait[39;49;00m _connect_addr([90m[39;49;00m
2025-11-28T17:41:13.4871257Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:886: in _connect_addr
2025-11-28T17:41:13.4872697Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m __connect_addr(params, [94mTrue[39;49;00m, *args)[90m[39;49;00m
2025-11-28T17:41:13.4873563Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4874682Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:934: in __connect_addr
2025-11-28T17:41:13.4875745Z     [0m[94mawait[39;49;00m connected[90m[39;49;00m
2025-11-28T17:41:13.4876741Z [1m[31mE   asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"[0m
2025-11-28T17:41:13.4877796Z [31m[1m_____________________ ERROR at setup of test_hybrid_search _____________________[0m
2025-11-28T17:41:13.4878595Z [1m[31mtests/integration/test_graphrag.py[0m:35: in db_pool
2025-11-28T17:41:13.4879342Z     [0mpool = [94mawait[39;49;00m asyncpg.create_pool([90m[39;49;00m
2025-11-28T17:41:13.4880894Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:418: in _async__init__
2025-11-28T17:41:13.4882025Z     [0m[94mawait[39;49;00m [96mself[39;49;00m._initialize()[90m[39;49;00m
2025-11-28T17:41:13.4883133Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:445: in _initialize
2025-11-28T17:41:13.4884102Z     [0m[94mawait[39;49;00m first_ch.connect()[90m[39;49;00m
2025-11-28T17:41:13.4885084Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:132: in connect
2025-11-28T17:41:13.4886263Z     [0m[96mself[39;49;00m._con = [94mawait[39;49;00m [96mself[39;49;00m._pool._get_new_connection()[90m[39;49;00m
2025-11-28T17:41:13.4887078Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4888157Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:517: in _get_new_connection
2025-11-28T17:41:13.4889298Z     [0mcon = [94mawait[39;49;00m [96mself[39;49;00m._connect([90m[39;49;00m
2025-11-28T17:41:13.4890596Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connection.py[0m:2421: in connect
2025-11-28T17:41:13.4891737Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m connect_utils._connect([90m[39;49;00m
2025-11-28T17:41:13.4892973Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:1049: in _connect
2025-11-28T17:41:13.4894138Z     [0mconn = [94mawait[39;49;00m _connect_addr([90m[39;49;00m
2025-11-28T17:41:13.4895412Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:886: in _connect_addr
2025-11-28T17:41:13.4896801Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m __connect_addr(params, [94mTrue[39;49;00m, *args)[90m[39;49;00m
2025-11-28T17:41:13.4897584Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4898619Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:934: in __connect_addr
2025-11-28T17:41:13.4899668Z     [0m[94mawait[39;49;00m connected[90m[39;49;00m
2025-11-28T17:41:13.4900527Z [1m[31mE   asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"[0m
2025-11-28T17:41:13.4901150Z [31m[1m_________________ ERROR at setup of test_graph_traversal_depth _________________[0m
2025-11-28T17:41:13.4901603Z [1m[31mtests/integration/test_graphrag.py[0m:35: in db_pool
2025-11-28T17:41:13.4902024Z     [0mpool = [94mawait[39;49;00m asyncpg.create_pool([90m[39;49;00m
2025-11-28T17:41:13.4902862Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:418: in _async__init__
2025-11-28T17:41:13.4903471Z     [0m[94mawait[39;49;00m [96mself[39;49;00m._initialize()[90m[39;49;00m
2025-11-28T17:41:13.4904092Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:445: in _initialize
2025-11-28T17:41:13.4904655Z     [0m[94mawait[39;49;00m first_ch.connect()[90m[39;49;00m
2025-11-28T17:41:13.4905227Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:132: in connect
2025-11-28T17:41:13.4905913Z     [0m[96mself[39;49;00m._con = [94mawait[39;49;00m [96mself[39;49;00m._pool._get_new_connection()[90m[39;49;00m
2025-11-28T17:41:13.4906363Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4906956Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:517: in _get_new_connection
2025-11-28T17:41:13.4907595Z     [0mcon = [94mawait[39;49;00m [96mself[39;49;00m._connect([90m[39;49;00m
2025-11-28T17:41:13.4908224Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connection.py[0m:2421: in connect
2025-11-28T17:41:13.4908987Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m connect_utils._connect([90m[39;49;00m
2025-11-28T17:41:13.4909669Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:1049: in _connect
2025-11-28T17:41:13.4910558Z     [0mconn = [94mawait[39;49;00m _connect_addr([90m[39;49;00m
2025-11-28T17:41:13.4911318Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:886: in _connect_addr
2025-11-28T17:41:13.4912092Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m __connect_addr(params, [94mTrue[39;49;00m, *args)[90m[39;49;00m
2025-11-28T17:41:13.4912559Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4913287Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:934: in __connect_addr
2025-11-28T17:41:13.4913899Z     [0m[94mawait[39;49;00m connected[90m[39;49;00m
2025-11-28T17:41:13.4914560Z [1m[31mE   asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"[0m
2025-11-28T17:41:13.4915310Z [31m[1m________________ ERROR at setup of test_hierarchical_reflection ________________[0m
2025-11-28T17:41:13.4915892Z [1m[31mtests/integration/test_graphrag.py[0m:35: in db_pool
2025-11-28T17:41:13.4916326Z     [0mpool = [94mawait[39;49;00m asyncpg.create_pool([90m[39;49;00m
2025-11-28T17:41:13.4917072Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:418: in _async__init__
2025-11-28T17:41:13.4917809Z     [0m[94mawait[39;49;00m [96mself[39;49;00m._initialize()[90m[39;49;00m
2025-11-28T17:41:13.4918559Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:445: in _initialize
2025-11-28T17:41:13.4919258Z     [0m[94mawait[39;49;00m first_ch.connect()[90m[39;49;00m
2025-11-28T17:41:13.4919953Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:132: in connect
2025-11-28T17:41:13.4921005Z     [0m[96mself[39;49;00m._con = [94mawait[39;49;00m [96mself[39;49;00m._pool._get_new_connection()[90m[39;49;00m
2025-11-28T17:41:13.4921631Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4922230Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/pool.py[0m:517: in _get_new_connection
2025-11-28T17:41:13.4922864Z     [0mcon = [94mawait[39;49;00m [96mself[39;49;00m._connect([90m[39;49;00m
2025-11-28T17:41:13.4923497Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connection.py[0m:2421: in connect
2025-11-28T17:41:13.4924307Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m connect_utils._connect([90m[39;49;00m
2025-11-28T17:41:13.4924974Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:1049: in _connect
2025-11-28T17:41:13.4925586Z     [0mconn = [94mawait[39;49;00m _connect_addr([90m[39;49;00m
2025-11-28T17:41:13.4926237Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:886: in _connect_addr
2025-11-28T17:41:13.4926976Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m __connect_addr(params, [94mTrue[39;49;00m, *args)[90m[39;49;00m
2025-11-28T17:41:13.4927428Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.4928026Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/asyncpg/connect_utils.py[0m:934: in __connect_addr
2025-11-28T17:41:13.4928602Z     [0m[94mawait[39;49;00m connected[90m[39;49;00m
2025-11-28T17:41:13.4929146Z [1m[31mE   asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"[0m
2025-11-28T17:41:13.4929761Z [31m[1m___________ ERROR at setup of test_generate_reflection_from_failure ____________[0m
2025-11-28T17:41:13.4930712Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 81
2025-11-28T17:41:13.4931205Z   @pytest.mark.asyncio
2025-11-28T17:41:13.4931444Z   async def test_generate_reflection_from_failure(
2025-11-28T17:41:13.4931759Z       reflection_engine, memory_repo, tenant_id, project_id
2025-11-28T17:41:13.4932034Z   ):
2025-11-28T17:41:13.4932187Z       """
2025-11-28T17:41:13.4932407Z       Test reflection generation from a failed task execution.
2025-11-28T17:41:13.4932630Z 
2025-11-28T17:41:13.4932699Z       Scenario:
2025-11-28T17:41:13.4932893Z       1. Task fails with SQL timeout error
2025-11-28T17:41:13.4933157Z       2. Reflection engine generates lesson learned
2025-11-28T17:41:13.4933474Z       3. Reflection is stored with proper importance/confidence
2025-11-28T17:41:13.4933759Z       """
2025-11-28T17:41:13.4933931Z       # 1. Create failure context
2025-11-28T17:41:13.4934139Z       events = [
2025-11-28T17:41:13.4934308Z           Event(
2025-11-28T17:41:13.4934486Z               event_id="evt_1",
2025-11-28T17:41:13.4934735Z               event_type=EventType.TOOL_CALL,
2025-11-28T17:41:13.4935014Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.4935335Z               content="Executing SQL query: SELECT * FROM large_table",
2025-11-28T17:41:13.4935656Z               metadata={"tool": "sql_executor"},
2025-11-28T17:41:13.4935906Z               tool_name="sql_executor",
2025-11-28T17:41:13.4936118Z           ),
2025-11-28T17:41:13.4936278Z           Event(
2025-11-28T17:41:13.4936451Z               event_id="evt_2",
2025-11-28T17:41:13.4936673Z               event_type=EventType.ERROR_EVENT,
2025-11-28T17:41:13.4936941Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.4937219Z               content="Query timeout after 30 seconds",
2025-11-28T17:41:13.4937484Z               metadata={"error_code": "TIMEOUT"},
2025-11-28T17:41:13.4938096Z               error={"type": "TimeoutError", "code": "QUERY_TIMEOUT"},
2025-11-28T17:41:13.4938520Z           ),
2025-11-28T17:41:13.4938785Z       ]
2025-11-28T17:41:13.4938936Z 
2025-11-28T17:41:13.4939058Z       error_info = ErrorInfo(
2025-11-28T17:41:13.4939412Z           error_code="QUERY_TIMEOUT",
2025-11-28T17:41:13.4939840Z           error_category=ErrorCategory.TIMEOUT_ERROR,
2025-11-28T17:41:13.4940554Z           error_message="SQL query timeout after 30 seconds",
2025-11-28T17:41:13.4941009Z           tool_name="sql_executor",
2025-11-28T17:41:13.4941508Z           context={"query": "SELECT * FROM large_table", "timeout_seconds": 30},
2025-11-28T17:41:13.4941843Z       )
2025-11-28T17:41:13.4941939Z 
2025-11-28T17:41:13.4942026Z       context = ReflectionContext(
2025-11-28T17:41:13.4942254Z           events=events,
2025-11-28T17:41:13.4942659Z           outcome=OutcomeType.FAILURE,
2025-11-28T17:41:13.4942902Z           error=error_info,
2025-11-28T17:41:13.4943144Z           task_description="Fetch data from large table",
2025-11-28T17:41:13.4943440Z           task_goal="Retrieve user analytics data",
2025-11-28T17:41:13.4943698Z           tenant_id=tenant_id,
2025-11-28T17:41:13.4943917Z           project_id=project_id,
2025-11-28T17:41:13.4944126Z       )
2025-11-28T17:41:13.4944212Z 
2025-11-28T17:41:13.4944292Z       # 2. Generate reflection
2025-11-28T17:41:13.4944575Z       result = await reflection_engine.generate_reflection(context)
2025-11-28T17:41:13.4944810Z 
2025-11-28T17:41:13.4944901Z       # 3. Assertions on reflection result
2025-11-28T17:41:13.4945146Z       assert result is not None
2025-11-28T17:41:13.4945471Z       assert len(result.reflection_text) > 0, "Reflection text should not be empty"
2025-11-28T17:41:13.4946011Z       assert result.importance > 0.3, "Failure reflection should have reasonable importance"
2025-11-28T17:41:13.4946464Z       assert result.confidence > 0.0, "Confidence should be non-zero"
2025-11-28T17:41:13.4946840Z       assert result.error_category == ErrorCategory.TIMEOUT_ERROR
2025-11-28T17:41:13.4947183Z       assert len(result.source_event_ids) == len(events)
2025-11-28T17:41:13.4947492Z 
2025-11-28T17:41:13.4947574Z       # Check for relevant tags
2025-11-28T17:41:13.4947781Z       assert any(
2025-11-28T17:41:13.4948011Z           tag.lower() in ["sql", "timeout", "performance", "query"]
2025-11-28T17:41:13.4948301Z           for tag in result.tags
2025-11-28T17:41:13.4948541Z       ), "Reflection should have relevant tags"
2025-11-28T17:41:13.4948716Z 
2025-11-28T17:41:13.4948790Z       # 4. Store reflection
2025-11-28T17:41:13.4949045Z       stored_ids = await reflection_engine.store_reflection(
2025-11-28T17:41:13.4949320Z           result=result,
2025-11-28T17:41:13.4949516Z           tenant_id=tenant_id,
2025-11-28T17:41:13.4949722Z           project_id=project_id,
2025-11-28T17:41:13.4949934Z       )
2025-11-28T17:41:13.4950266Z 
2025-11-28T17:41:13.4950429Z       assert "reflection_id" in stored_ids
2025-11-28T17:41:13.4950708Z       assert stored_ids["reflection_id"] is not None
2025-11-28T17:41:13.4950897Z 
2025-11-28T17:41:13.4950987Z       # 5. Verify stored in database
2025-11-28T17:41:13.4951281Z       reflections = await memory_repo.get_reflective_memories(
2025-11-28T17:41:13.4951594Z           tenant_id=tenant_id, project=project_id
2025-11-28T17:41:13.4951828Z       )
2025-11-28T17:41:13.4952082Z       assert len(reflections) >= 1, "Reflection should be stored in database"
2025-11-28T17:41:13.4952331Z 
2025-11-28T17:41:13.4952413Z       # Find our reflection
2025-11-28T17:41:13.4952616Z       our_reflection = next(
2025-11-28T17:41:13.4952911Z           (r for r in reflections if r["id"] == stored_ids["reflection_id"]), None
2025-11-28T17:41:13.4953219Z       )
2025-11-28T17:41:13.4953381Z       assert our_reflection is not None
2025-11-28T17:41:13.4953683Z       assert our_reflection["content"] == result.reflection_text
2025-11-28T17:41:13.4954031Z       assert our_reflection["importance"] == result.importance
2025-11-28T17:41:13.4954574Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 47
2025-11-28T17:41:13.4955045Z   @pytest.fixture
2025-11-28T17:41:13.4955270Z   async def reflection_engine(db_pool, memory_repo):
2025-11-28T17:41:13.4955549Z       """Reflection engine v2"""
2025-11-28T17:41:13.4955802Z       return ReflectionEngineV2(db_pool, memory_repo)
2025-11-28T17:41:13.4956311Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 35
2025-11-28T17:41:13.4956781Z   @pytest.fixture
2025-11-28T17:41:13.4956980Z   async def db_pool(postgresql_pool):
2025-11-28T17:41:13.4957220Z       """Database connection pool"""
2025-11-28T17:41:13.4957458Z       return postgresql_pool
2025-11-28T17:41:13.4957807Z [31mE       fixture 'postgresql_pool' not found[0m
2025-11-28T17:41:13.4961250Z [31m>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, context_builder, cov, db_pool, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, memory_repo, mock_app_state_pool, mock_env_and_settings, mocker, module_mocker, monkeypatch, no_cover, override_auth, package_mocker, project_id, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reflection_engine, session_mocker, subtests, tenant_id, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory[0m
2025-11-28T17:41:13.4963959Z [31m>       use 'pytest --fixtures [testpath]' for help on them.[0m
2025-11-28T17:41:13.4964190Z 
2025-11-28T17:41:13.4964484Z /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py:35
2025-11-28T17:41:13.4965111Z [31m[1m___________ ERROR at setup of test_generate_reflection_from_success ____________[0m
2025-11-28T17:41:13.4966301Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 178
2025-11-28T17:41:13.4966917Z   @pytest.mark.asyncio
2025-11-28T17:41:13.4967164Z   async def test_generate_reflection_from_success(
2025-11-28T17:41:13.4967483Z       reflection_engine, memory_repo, tenant_id, project_id
2025-11-28T17:41:13.4967755Z   ):
2025-11-28T17:41:13.4967905Z       """
2025-11-28T17:41:13.4968137Z       Test reflection generation from a successful task execution.
2025-11-28T17:41:13.4968370Z 
2025-11-28T17:41:13.4968441Z       Scenario:
2025-11-28T17:41:13.4968633Z       1. Task succeeds with optimization
2025-11-28T17:41:13.4968906Z       2. Reflection engine generates positive pattern
2025-11-28T17:41:13.4969198Z       3. Reflection stored as reusable strategy
2025-11-28T17:41:13.4969437Z       """
2025-11-28T17:41:13.4969595Z       events = [
2025-11-28T17:41:13.4969755Z           Event(
2025-11-28T17:41:13.4969926Z               event_id="evt_1",
2025-11-28T17:41:13.4970315Z               event_type=EventType.TOOL_CALL,
2025-11-28T17:41:13.4970583Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.4970963Z               content="Executing optimized SQL query: SELECT id, name FROM users LIMIT 100",
2025-11-28T17:41:13.4971400Z               metadata={"tool": "sql_executor", "optimization": "added_limit"},
2025-11-28T17:41:13.4971731Z               tool_name="sql_executor",
2025-11-28T17:41:13.4971951Z           ),
2025-11-28T17:41:13.4972108Z           Event(
2025-11-28T17:41:13.4972274Z               event_id="evt_2",
2025-11-28T17:41:13.4972505Z               event_type=EventType.TOOL_RESPONSE,
2025-11-28T17:41:13.4972774Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.4973087Z               content="Query completed successfully in 0.5 seconds",
2025-11-28T17:41:13.4973386Z               metadata={"execution_time_ms": 500},
2025-11-28T17:41:13.4973619Z           ),
2025-11-28T17:41:13.4973774Z       ]
2025-11-28T17:41:13.4973858Z 
2025-11-28T17:41:13.4973951Z       context = ReflectionContext(
2025-11-28T17:41:13.4974180Z           events=events,
2025-11-28T17:41:13.4974391Z           outcome=OutcomeType.SUCCESS,
2025-11-28T17:41:13.4974666Z           task_description="Fetch user data efficiently",
2025-11-28T17:41:13.4974951Z           task_goal="Retrieve first 100 users",
2025-11-28T17:41:13.4975203Z           tenant_id=tenant_id,
2025-11-28T17:41:13.4975421Z           project_id=project_id,
2025-11-28T17:41:13.4975621Z       )
2025-11-28T17:41:13.4975712Z 
2025-11-28T17:41:13.4975788Z       # Generate reflection
2025-11-28T17:41:13.4976065Z       result = await reflection_engine.generate_reflection(context)
2025-11-28T17:41:13.4976427Z 
2025-11-28T17:41:13.4976505Z       assert result is not None
2025-11-28T17:41:13.4976736Z       assert len(result.reflection_text) > 0
2025-11-28T17:41:13.4977104Z       assert result.importance >= 0.0, "Success reflection should have some importance"
2025-11-28T17:41:13.4977385Z 
2025-11-28T17:41:13.4977491Z       # Success reflections might have strategy
2025-11-28T17:41:13.4977742Z       if result.strategy_text:
2025-11-28T17:41:13.4977976Z           assert len(result.strategy_text) > 0
2025-11-28T17:41:13.4978264Z           # Store should create both reflection and strategy
2025-11-28T17:41:13.4978580Z           stored_ids = await reflection_engine.store_reflection(
2025-11-28T17:41:13.4978929Z               result=result, tenant_id=tenant_id, project_id=project_id
2025-11-28T17:41:13.4979211Z           )
2025-11-28T17:41:13.4979383Z           assert "strategy_id" in stored_ids
2025-11-28T17:41:13.4979875Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 47
2025-11-28T17:41:13.4980601Z   @pytest.fixture
2025-11-28T17:41:13.4980827Z   async def reflection_engine(db_pool, memory_repo):
2025-11-28T17:41:13.4981100Z       """Reflection engine v2"""
2025-11-28T17:41:13.4981422Z       return ReflectionEngineV2(db_pool, memory_repo)
2025-11-28T17:41:13.4982488Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 35
2025-11-28T17:41:13.4982994Z   @pytest.fixture
2025-11-28T17:41:13.4983203Z   async def db_pool(postgresql_pool):
2025-11-28T17:41:13.4983456Z       """Database connection pool"""
2025-11-28T17:41:13.4983690Z       return postgresql_pool
2025-11-28T17:41:13.4984001Z [31mE       fixture 'postgresql_pool' not found[0m
2025-11-28T17:41:13.4987070Z [31m>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, context_builder, cov, db_pool, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, memory_repo, mock_app_state_pool, mock_env_and_settings, mocker, module_mocker, monkeypatch, no_cover, override_auth, package_mocker, project_id, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reflection_engine, session_mocker, subtests, tenant_id, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory[0m
2025-11-28T17:41:13.4989727Z [31m>       use 'pytest --fixtures [testpath]' for help on them.[0m
2025-11-28T17:41:13.4990153Z 
2025-11-28T17:41:13.4990556Z /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py:35
2025-11-28T17:41:13.4991193Z [31m[1m____________ ERROR at setup of test_reflection_retrieval_in_context ____________[0m
2025-11-28T17:41:13.4991794Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 239
2025-11-28T17:41:13.4992275Z   @pytest.mark.asyncio
2025-11-28T17:41:13.4992505Z   async def test_reflection_retrieval_in_context(
2025-11-28T17:41:13.4992768Z       reflection_engine,
2025-11-28T17:41:13.4992965Z       context_builder,
2025-11-28T17:41:13.4993145Z       memory_repo,
2025-11-28T17:41:13.4993317Z       tenant_id,
2025-11-28T17:41:13.4993479Z       project_id,
2025-11-28T17:41:13.4993646Z   ):
2025-11-28T17:41:13.4993791Z       """
2025-11-28T17:41:13.4994026Z       Test that reflections are retrieved and injected into context.
2025-11-28T17:41:13.4994264Z 
2025-11-28T17:41:13.4994329Z       Scenario:
2025-11-28T17:41:13.4994527Z       1. Store a reflection about SQL timeouts
2025-11-28T17:41:13.4994784Z       2. Build context for a new SQL query task
2025-11-28T17:41:13.4995049Z       3. Verify reflection is included in context
2025-11-28T17:41:13.4995286Z       """
2025-11-28T17:41:13.4995636Z       # 1. Store a reflection manually
2025-11-28T17:41:13.4995893Z       reflection_content = (
2025-11-28T17:41:13.4996182Z           "SQL queries on large tables should always include LIMIT clause "
2025-11-28T17:41:13.4996560Z           "to prevent timeout errors. Default timeout is 30 seconds."
2025-11-28T17:41:13.4996832Z       )
2025-11-28T17:41:13.4996923Z 
2025-11-28T17:41:13.4997050Z       reflection_record = await memory_repo.insert_memory(
2025-11-28T17:41:13.4997331Z           tenant_id=tenant_id,
2025-11-28T17:41:13.4997719Z           content=reflection_content,
2025-11-28T17:41:13.4998099Z           source="test",
2025-11-28T17:41:13.4998422Z           importance=0.8,
2025-11-28T17:41:13.4998699Z           layer="rm",
2025-11-28T17:41:13.4998905Z           tags=["sql", "timeout", "best-practice"],
2025-11-28T17:41:13.4999181Z           timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.4999436Z           project=project_id,
2025-11-28T17:41:13.4999629Z       )
2025-11-28T17:41:13.4999727Z 
2025-11-28T17:41:13.4999816Z       # 2. Build context with query about SQL
2025-11-28T17:41:13.5000243Z       query = "I need to fetch all user data from the users table"
2025-11-28T17:41:13.5000453Z 
2025-11-28T17:41:13.5000763Z       working_memory = await context_builder.build_context(
2025-11-28T17:41:13.5001045Z           tenant_id=tenant_id,
2025-11-28T17:41:13.5001258Z           project_id=project_id,
2025-11-28T17:41:13.5001468Z           query=query,
2025-11-28T17:41:13.5001651Z           recent_messages=[],
2025-11-28T17:41:13.5001844Z       )
2025-11-28T17:41:13.5001927Z 
2025-11-28T17:41:13.5002020Z       # 3. Verify reflection is in context
2025-11-28T17:41:13.5002365Z       assert len(working_memory.reflections) >= 1, "Should retrieve reflections"
2025-11-28T17:41:13.5002641Z 
2025-11-28T17:41:13.5002758Z       # Check our reflection is included (by content or ID)
2025-11-28T17:41:13.5003031Z       reflection_found = any(
2025-11-28T17:41:13.5003284Z           refl.metadata.get("id") == reflection_record["id"]
2025-11-28T17:41:13.5003580Z           for refl in working_memory.reflections
2025-11-28T17:41:13.5003814Z       )
2025-11-28T17:41:13.5004065Z       assert reflection_found, "Our test reflection should be in context"
2025-11-28T17:41:13.5004313Z 
2025-11-28T17:41:13.5004438Z       # 4. Verify formatted context includes lessons learned
2025-11-28T17:41:13.5004949Z       assert "Lessons Learned" in working_memory.context_text or "lessons learned" in working_memory.context_text.lower(), \
2025-11-28T17:41:13.5005449Z           "Context should include lessons learned section"
2025-11-28T17:41:13.5005641Z 
2025-11-28T17:41:13.5005758Z       # 5. Verify reflection content is in formatted text
2025-11-28T17:41:13.5006044Z       # (It should be in the Lessons Learned section)
2025-11-28T17:41:13.5006294Z       assert any(
2025-11-28T17:41:13.5006488Z           reflection_content in refl.content
2025-11-28T17:41:13.5006741Z           for refl in working_memory.reflections
2025-11-28T17:41:13.5007016Z       ), "Reflection content should be accessible"
2025-11-28T17:41:13.5007526Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 47
2025-11-28T17:41:13.5007997Z   @pytest.fixture
2025-11-28T17:41:13.5008216Z   async def reflection_engine(db_pool, memory_repo):
2025-11-28T17:41:13.5008490Z       """Reflection engine v2"""
2025-11-28T17:41:13.5008744Z       return ReflectionEngineV2(db_pool, memory_repo)
2025-11-28T17:41:13.5009248Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 35
2025-11-28T17:41:13.5009714Z   @pytest.fixture
2025-11-28T17:41:13.5009905Z   async def db_pool(postgresql_pool):
2025-11-28T17:41:13.5010292Z       """Database connection pool"""
2025-11-28T17:41:13.5010519Z       return postgresql_pool
2025-11-28T17:41:13.5010824Z [31mE       fixture 'postgresql_pool' not found[0m
2025-11-28T17:41:13.5013884Z [31m>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, context_builder, cov, db_pool, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, memory_repo, mock_app_state_pool, mock_env_and_settings, mocker, module_mocker, monkeypatch, no_cover, override_auth, package_mocker, project_id, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reflection_engine, session_mocker, subtests, tenant_id, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory[0m
2025-11-28T17:41:13.5017519Z [31m>       use 'pytest --fixtures [testpath]' for help on them.[0m
2025-11-28T17:41:13.5017747Z 
2025-11-28T17:41:13.5018047Z /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py:35
2025-11-28T17:41:13.5018688Z [31m[1m____________ ERROR at setup of test_inject_reflections_into_prompt _____________[0m
2025-11-28T17:41:13.5019729Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 353
2025-11-28T17:41:13.5020749Z   @pytest.mark.asyncio
2025-11-28T17:41:13.5020989Z   async def test_inject_reflections_into_prompt(
2025-11-28T17:41:13.5021293Z       context_builder, memory_repo, tenant_id, project_id
2025-11-28T17:41:13.5021559Z   ):
2025-11-28T17:41:13.5021707Z       """
2025-11-28T17:41:13.5021966Z       Test the helper method for injecting reflections into existing prompts.
2025-11-28T17:41:13.5022291Z       """
2025-11-28T17:41:13.5022458Z       # 1. Store a reflection
2025-11-28T17:41:13.5022680Z       await memory_repo.insert_memory(
2025-11-28T17:41:13.5022922Z           tenant_id=tenant_id,
2025-11-28T17:41:13.5023195Z           content="Always validate user input before processing",
2025-11-28T17:41:13.5023497Z           source="test",
2025-11-28T17:41:13.5023695Z           importance=0.9,
2025-11-28T17:41:13.5023887Z           layer="rm",
2025-11-28T17:41:13.5024083Z           tags=["security", "validation"],
2025-11-28T17:41:13.5024349Z           timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.5024603Z           project=project_id,
2025-11-28T17:41:13.5024801Z       )
2025-11-28T17:41:13.5024889Z 
2025-11-28T17:41:13.5024963Z       # 2. Inject into prompt
2025-11-28T17:41:13.5025200Z       base_prompt = "You are a helpful assistant."
2025-11-28T17:41:13.5025565Z       enhanced_prompt = await context_builder.inject_reflections_into_prompt(
2025-11-28T17:41:13.5025907Z           base_prompt=base_prompt,
2025-11-28T17:41:13.5026131Z           tenant_id=tenant_id,
2025-11-28T17:41:13.5026346Z           project_id=project_id,
2025-11-28T17:41:13.5026591Z           query="How should I handle user input?",
2025-11-28T17:41:13.5026824Z       )
2025-11-28T17:41:13.5026918Z 
2025-11-28T17:41:13.5026991Z       # 3. Verify injection
2025-11-28T17:41:13.5027302Z       assert len(enhanced_prompt) > len(base_prompt), "Prompt should be enhanced"
2025-11-28T17:41:13.5027801Z       assert "Lessons Learned" in enhanced_prompt or "lessons learned" in enhanced_prompt.lower(), \
2025-11-28T17:41:13.5028224Z           "Should include lessons learned section"
2025-11-28T17:41:13.5028635Z       assert "validate user input" in enhanced_prompt.lower(), "Should include reflection content"
2025-11-28T17:41:13.5029271Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 53
2025-11-28T17:41:13.5029739Z   @pytest.fixture
2025-11-28T17:41:13.5030281Z   async def context_builder(db_pool, memory_repo, reflection_engine):
2025-11-28T17:41:13.5030673Z       """Context builder"""
2025-11-28T17:41:13.5030879Z       config = ContextConfig(
2025-11-28T17:41:13.5031097Z           max_reflection_items=5,
2025-11-28T17:41:13.5031329Z           min_reflection_importance=0.5,
2025-11-28T17:41:13.5031730Z           enable_enhanced_scoring=True,
2025-11-28T17:41:13.5031982Z       )
2025-11-28T17:41:13.5032243Z       return ContextBuilder(db_pool, memory_repo, reflection_engine, config)
2025-11-28T17:41:13.5032835Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 35
2025-11-28T17:41:13.5033304Z   @pytest.fixture
2025-11-28T17:41:13.5033504Z   async def db_pool(postgresql_pool):
2025-11-28T17:41:13.5033752Z       """Database connection pool"""
2025-11-28T17:41:13.5033982Z       return postgresql_pool
2025-11-28T17:41:13.5034317Z [31mE       fixture 'postgresql_pool' not found[0m
2025-11-28T17:41:13.5037849Z [31m>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, context_builder, cov, db_pool, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, memory_repo, mock_app_state_pool, mock_env_and_settings, mocker, module_mocker, monkeypatch, no_cover, override_auth, package_mocker, project_id, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reflection_engine, session_mocker, subtests, tenant_id, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory[0m
2025-11-28T17:41:13.5040716Z [31m>       use 'pytest --fixtures [testpath]' for help on them.[0m
2025-11-28T17:41:13.5040945Z 
2025-11-28T17:41:13.5041229Z /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py:35
2025-11-28T17:41:13.5041844Z [31m[1m______________ ERROR at setup of test_end_to_end_reflection_flow _______________[0m
2025-11-28T17:41:13.5042427Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 393
2025-11-28T17:41:13.5042915Z   @pytest.mark.asyncio
2025-11-28T17:41:13.5043136Z   async def test_end_to_end_reflection_flow(
2025-11-28T17:41:13.5043381Z       reflection_engine,
2025-11-28T17:41:13.5043576Z       context_builder,
2025-11-28T17:41:13.5043762Z       memory_repo,
2025-11-28T17:41:13.5043934Z       tenant_id,
2025-11-28T17:41:13.5044096Z       project_id,
2025-11-28T17:41:13.5044259Z   ):
2025-11-28T17:41:13.5044407Z       """
2025-11-28T17:41:13.5044573Z       Test complete end-to-end flow:
2025-11-28T17:41:13.5044804Z       1. Task fails with error
2025-11-28T17:41:13.5045025Z       2. Reflection generated and stored
2025-11-28T17:41:13.5045264Z       3. Next task retrieves reflection
2025-11-28T17:41:13.5045507Z       4. Reflection influences behavior
2025-11-28T17:41:13.5045783Z       """
2025-11-28T17:41:13.5045965Z       # === Phase 1: First execution fails ===
2025-11-28T17:41:13.5046149Z 
2025-11-28T17:41:13.5046227Z       # Simulate tool error
2025-11-28T17:41:13.5046444Z       events_fail = [
2025-11-28T17:41:13.5046633Z           Event(
2025-11-28T17:41:13.5046805Z               event_id="evt_1",
2025-11-28T17:41:13.5047041Z               event_type=EventType.TOOL_CALL,
2025-11-28T17:41:13.5047321Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.5047629Z               content="Calling API without authentication header",
2025-11-28T17:41:13.5047936Z               metadata={"tool": "http_client"},
2025-11-28T17:41:13.5048190Z               tool_name="http_client",
2025-11-28T17:41:13.5048405Z           ),
2025-11-28T17:41:13.5048567Z           Event(
2025-11-28T17:41:13.5048739Z               event_id="evt_2",
2025-11-28T17:41:13.5048960Z               event_type=EventType.ERROR_EVENT,
2025-11-28T17:41:13.5049228Z               timestamp=datetime.now(timezone.utc),
2025-11-28T17:41:13.5049490Z               content="401 Unauthorized",
2025-11-28T17:41:13.5049751Z               metadata={"error_code": "UNAUTHORIZED"},
2025-11-28T17:41:13.5050274Z               error={"type": "AuthError", "code": "401"},
2025-11-28T17:41:13.5050632Z           ),
2025-11-28T17:41:13.5050852Z       ]
2025-11-28T17:41:13.5051339Z 
2025-11-28T17:41:13.5051528Z       error = ErrorInfo(
2025-11-28T17:41:13.5052057Z           error_code="401",
2025-11-28T17:41:13.5065987Z           error_category=ErrorCategory.PERMISSION_ERROR,
2025-11-28T17:41:13.5066594Z           error_message="API call failed: 401 Unauthorized",
2025-11-28T17:41:13.5067049Z           tool_name="http_client",
2025-11-28T17:41:13.5067388Z       )
2025-11-28T17:41:13.5067537Z 
2025-11-28T17:41:13.5067684Z       context_fail = ReflectionContext(
2025-11-28T17:41:13.5068080Z           events=events_fail,
2025-11-28T17:41:13.5068325Z           outcome=OutcomeType.FAILURE,
2025-11-28T17:41:13.5068562Z           error=error,
2025-11-28T17:41:13.5068778Z           task_description="Call external API",
2025-11-28T17:41:13.5069044Z           task_goal="Fetch data from API",
2025-11-28T17:41:13.5069301Z           tenant_id=tenant_id,
2025-11-28T17:41:13.5069519Z           project_id=project_id,
2025-11-28T17:41:13.5069729Z       )
2025-11-28T17:41:13.5069817Z 
2025-11-28T17:41:13.5069911Z       # Generate and store reflection
2025-11-28T17:41:13.5070718Z       result = await reflection_engine.generate_reflection(context_fail)
2025-11-28T17:41:13.5071120Z       stored_ids = await reflection_engine.store_reflection(
2025-11-28T17:41:13.5071474Z           result=result, tenant_id=tenant_id, project_id=project_id
2025-11-28T17:41:13.5071755Z       )
2025-11-28T17:41:13.5071848Z 
2025-11-28T17:41:13.5071953Z       reflection_id = stored_ids["reflection_id"]
2025-11-28T17:41:13.5072220Z       assert reflection_id is not None
2025-11-28T17:41:13.5072389Z 
2025-11-28T17:41:13.5072510Z       # === Phase 2: Second execution retrieves lesson ===
2025-11-28T17:41:13.5072703Z 
2025-11-28T17:41:13.5072788Z       # Build context for similar task
2025-11-28T17:41:13.5073054Z       query = "I need to call the external API again"
2025-11-28T17:41:13.5073373Z       working_memory = await context_builder.build_context(
2025-11-28T17:41:13.5073702Z           tenant_id=tenant_id, project_id=project_id, query=query
2025-11-28T17:41:13.5073973Z       )
2025-11-28T17:41:13.5074063Z 
2025-11-28T17:41:13.5074154Z       # Verify reflection is available
2025-11-28T17:41:13.5074527Z       assert len(working_memory.reflections) >= 1, "Should retrieve previous reflection"
2025-11-28T17:41:13.5074819Z 
2025-11-28T17:41:13.5074906Z       # Check if our reflection is there
2025-11-28T17:41:13.5075143Z       our_refl = next(
2025-11-28T17:41:13.5075460Z           (r for r in working_memory.reflections if r.metadata.get("id") == reflection_id),
2025-11-28T17:41:13.5075807Z           None,
2025-11-28T17:41:13.5075973Z       )
2025-11-28T17:41:13.5076212Z       assert our_refl is not None, "Our reflection should be retrieved"
2025-11-28T17:41:13.5076445Z 
2025-11-28T17:41:13.5076561Z       # === Phase 3: Verify reflection is actionable ===
2025-11-28T17:41:13.5076757Z 
2025-11-28T17:41:13.5076901Z       # The reflection should mention authentication or auth header
2025-11-28T17:41:13.5077189Z       assert any(
2025-11-28T17:41:13.5077397Z           keyword in our_refl.content.lower()
2025-11-28T17:41:13.5077718Z           for keyword in ["auth", "unauthorized", "401", "header", "token"]
2025-11-28T17:41:13.5078065Z       ), "Reflection should mention authentication issue"
2025-11-28T17:41:13.5078263Z 
2025-11-28T17:41:13.5078380Z       # If strategy was generated, it should be actionable
2025-11-28T17:41:13.5078659Z       if result.strategy_text:
2025-11-28T17:41:13.5078970Z           assert len(result.strategy_text) > 10, "Strategy should be meaningful"
2025-11-28T17:41:13.5079551Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 47
2025-11-28T17:41:13.5080170Z   @pytest.fixture
2025-11-28T17:41:13.5080404Z   async def reflection_engine(db_pool, memory_repo):
2025-11-28T17:41:13.5080825Z       """Reflection engine v2"""
2025-11-28T17:41:13.5081091Z       return ReflectionEngineV2(db_pool, memory_repo)
2025-11-28T17:41:13.5081606Z file /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py, line 35
2025-11-28T17:41:13.5082075Z   @pytest.fixture
2025-11-28T17:41:13.5082277Z   async def db_pool(postgresql_pool):
2025-11-28T17:41:13.5082531Z       """Database connection pool"""
2025-11-28T17:41:13.5082760Z       return postgresql_pool
2025-11-28T17:41:13.5083138Z [31mE       fixture 'postgresql_pool' not found[0m
2025-11-28T17:41:13.5086350Z [31m>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, context_builder, cov, db_pool, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, memory_repo, mock_app_state_pool, mock_env_and_settings, mocker, module_mocker, monkeypatch, no_cover, override_auth, package_mocker, project_id, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reflection_engine, session_mocker, subtests, tenant_id, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory[0m
2025-11-28T17:41:13.5089014Z [31m>       use 'pytest --fixtures [testpath]' for help on them.[0m
2025-11-28T17:41:13.5089245Z 
2025-11-28T17:41:13.5089532Z /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/integration/test_reflection_flow.py:35
2025-11-28T17:41:13.5090148Z =================================== FAILURES ===================================
2025-11-28T17:41:13.5090647Z [31m[1m___ TestReflectiveMemoryFlags.test_reflective_memory_disabled_no_reflections ___[0m
2025-11-28T17:41:13.5091333Z [1m[31mapps/memory_api/tests/test_reflective_flags.py[0m:40: in test_reflective_memory_disabled_no_reflections
2025-11-28T17:41:13.5092010Z     [0mcontext_builder.reflection_engine.query_reflections.assert_not_called()[90m[39;49;00m
2025-11-28T17:41:13.5092496Z     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5092934Z [1m[31mE   AttributeError: 'function' object has no attribute 'assert_not_called'[0m
2025-11-28T17:41:13.5093373Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5094252Z {"tenant_id": "test_tenant", "reason": "reflective_memory_disabled", "event": "reflections_retrieval_skipped", "level": "info", "logger": "apps.memory_api.services.context_builder", "timestamp": "2025-11-28T17:40:09.947532Z"}
2025-11-28T17:41:13.5095034Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5096218Z [32mINFO    [0m apps.memory_api.services.context_builder:context_builder.py:351 {'tenant_id': 'test_tenant', 'reason': 'reflective_memory_disabled', 'event': 'reflections_retrieval_skipped', 'level': 'info', 'logger': 'apps.memory_api.services.context_builder', 'timestamp': '2025-11-28T17:40:09.947532Z'}
2025-11-28T17:41:13.5097365Z [31m[1m___________ TestDreamingEnabled.test_dreaming_enabled_runs_dreaming ____________[0m
2025-11-28T17:41:13.5097993Z [1m[31mapps/memory_api/tests/test_reflective_flags.py[0m:192: in test_dreaming_enabled_runs_dreaming
2025-11-28T17:41:13.5098591Z     [0mresults = [94mawait[39;49;00m dreaming_worker.run_dreaming_cycle([90m[39;49;00m
2025-11-28T17:41:13.5099124Z [1m[31mapps/memory_api/workers/memory_maintenance.py[0m:369: in run_dreaming_cycle
2025-11-28T17:41:13.5099747Z     [0m[94masync[39;49;00m [94mwith[39;49;00m [96mself[39;49;00m.pool.acquire() [94mas[39;49;00m conn:[90m[39;49;00m
2025-11-28T17:41:13.5100322Z                ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5100811Z [1m[31mE   TypeError: 'coroutine' object does not support the asynchronous context manager protocol[0m
2025-11-28T17:41:13.5101437Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5102454Z {"tenant_id": "test_tenant", "project_id": "test_project", "lookback_hours": 24, "mode": "<MagicMock name='settings.REFLECTIVE_MEMORY_MODE' id='140555305223808'>", "event": "dreaming_cycle_started", "level": "info", "logger": "apps.memory_api.workers.memory_maintenance", "timestamp": "2025-11-28T17:40:10.297244Z"}
2025-11-28T17:41:13.5103448Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5104923Z [32mINFO    [0m apps.memory_api.workers.memory_maintenance:memory_maintenance.py:358 {'tenant_id': 'test_tenant', 'project_id': 'test_project', 'lookback_hours': 24, 'mode': <MagicMock name='settings.REFLECTIVE_MEMORY_MODE' id='140555305223808'>, 'event': 'dreaming_cycle_started', 'level': 'info', 'logger': 'apps.memory_api.workers.memory_maintenance', 'timestamp': '2025-11-28T17:40:10.297244Z'}
2025-11-28T17:41:13.5106239Z [31m[1m__________________________ test_agent_execute_direct ___________________________[0m
2025-11-28T17:41:13.5106709Z [1m[31mtests/api/v1/test_agent.py[0m:10: in test_agent_execute_direct
2025-11-28T17:41:13.5109345Z     [0m[94mwith[39;49;00m patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_context_cache[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_get_cache,          patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_embedding_service[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_embed,          patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_vector_store[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_vec,          patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_llm_provider[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_llm,          patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent._update_memory_access_stats[39;49;00m[33m"[39;49;00m, new=AsyncMock()),          patch([33m"[39;49;00m[33mhttpx.AsyncClient[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_httpx:[90m[39;49;00m
2025-11-28T17:41:13.5111708Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5112253Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1467: in __enter__
2025-11-28T17:41:13.5112841Z     [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
2025-11-28T17:41:13.5113221Z                       ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5113733Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1437: in get_original
2025-11-28T17:41:13.5114290Z     [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
2025-11-28T17:41:13.5115252Z [1m[31mE   AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'[0m
2025-11-28T17:41:13.5116175Z [31m[1m_______________________ test_agent_execute_with_context ________________________[0m
2025-11-28T17:41:13.5116662Z [1m[31mtests/api/v1/test_agent.py[0m:58: in test_agent_execute_with_context
2025-11-28T17:41:13.5117390Z     [0m[94mwith[39;49;00m patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_context_cache[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_get_cache, \
2025-11-28T17:41:13.5117974Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5118489Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1467: in __enter__
2025-11-28T17:41:13.5119044Z     [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
2025-11-28T17:41:13.5119419Z                       ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5119925Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1437: in get_original
2025-11-28T17:41:13.5120921Z     [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
2025-11-28T17:41:13.5121873Z [1m[31mE   AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'[0m
2025-11-28T17:41:13.5122794Z [31m[1m_____________________ test_agent_execute_with_empty_prompt _____________________[0m
2025-11-28T17:41:13.5123317Z [1m[31mtests/api/v1/test_agent.py[0m:111: in test_agent_execute_with_empty_prompt
2025-11-28T17:41:13.5124056Z     [0m[94mwith[39;49;00m patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_context_cache[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_get_cache, \
2025-11-28T17:41:13.5124632Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5125142Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1467: in __enter__
2025-11-28T17:41:13.5125716Z     [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
2025-11-28T17:41:13.5126089Z                       ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5126727Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1437: in get_original
2025-11-28T17:41:13.5127289Z     [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
2025-11-28T17:41:13.5128235Z [1m[31mE   AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'[0m
2025-11-28T17:41:13.5129138Z [31m[1m______________________ test_agent_execute_with_llm_error _______________________[0m
2025-11-28T17:41:13.5129633Z [1m[31mtests/api/v1/test_agent.py[0m:163: in test_agent_execute_with_llm_error
2025-11-28T17:41:13.5130515Z     [0m[94mwith[39;49;00m patch([33m"[39;49;00m[33mapps.memory_api.api.v1.agent.get_context_cache[39;49;00m[33m"[39;49;00m) [94mas[39;49;00m mock_get_cache, \
2025-11-28T17:41:13.5131104Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5131642Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1467: in __enter__
2025-11-28T17:41:13.5132206Z     [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
2025-11-28T17:41:13.5132577Z                       ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5133085Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/unittest/mock.py[0m:1437: in get_original
2025-11-28T17:41:13.5133634Z     [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
2025-11-28T17:41:13.5134596Z [1m[31mE   AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'[0m
2025-11-28T17:41:13.5135520Z [31m[1m_______________________ test_governance_overview_success _______________________[0m
2025-11-28T17:41:13.5136043Z [1m[31mtests/api/v1/test_governance.py[0m:40: in test_governance_overview_success
2025-11-28T17:41:13.5136570Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5136955Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5137304Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5137682Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5138531Z {"status_code": 401, "detail": "Authentication required for admin access", "path": "/v1/governance/overview", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:10.910231Z"}
2025-11-28T17:41:13.5139363Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5140791Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required for admin access', 'path': '/v1/governance/overview', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:10.910231Z'}
2025-11-28T17:41:13.5141864Z [31m[1m__________________ test_governance_overview_with_custom_days ___________________[0m
2025-11-28T17:41:13.5142420Z [1m[31mtests/api/v1/test_governance.py[0m:72: in test_governance_overview_with_custom_days
2025-11-28T17:41:13.5142957Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5143330Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5143679Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5144040Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5144884Z {"status_code": 401, "detail": "Authentication required for admin access", "path": "/v1/governance/overview", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:10.930226Z"}
2025-11-28T17:41:13.5145924Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5147088Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required for admin access', 'path': '/v1/governance/overview', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:10.930226Z'}
2025-11-28T17:41:13.5148138Z [31m[1m________________________ test_governance_overview_error ________________________[0m
2025-11-28T17:41:13.5148643Z [1m[31mtests/api/v1/test_governance.py[0m:88: in test_governance_overview_error
2025-11-28T17:41:13.5149165Z     [0m[94massert[39;49;00m response.status_code == [94m500[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5149555Z [1m[31mE   assert 401 == 500[0m
2025-11-28T17:41:13.5149895Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5150660Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5151896Z {"status_code": 401, "detail": "Authentication required for admin access", "path": "/v1/governance/overview", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:10.950634Z"}
2025-11-28T17:41:13.5152968Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5154139Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required for admin access', 'path': '/v1/governance/overview', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:10.950634Z'}
2025-11-28T17:41:13.5155202Z [31m[1m_____________________ test_tenant_governance_stats_success _____________________[0m
2025-11-28T17:41:13.5155733Z [1m[31mtests/api/v1/test_governance.py[0m:131: in test_tenant_governance_stats_success
2025-11-28T17:41:13.5156275Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5156646Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5156986Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5157353Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5158007Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:10.972340Z"}
2025-11-28T17:41:13.5159149Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:10.972689Z"}
2025-11-28T17:41:13.5160395Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5161357Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:10.972340Z'}
2025-11-28T17:41:13.5162972Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:10.972689Z'}
2025-11-28T17:41:13.5164062Z [31m[1m_____________________ test_tenant_governance_stats_no_data _____________________[0m
2025-11-28T17:41:13.5164594Z [1m[31mtests/api/v1/test_governance.py[0m:161: in test_tenant_governance_stats_no_data
2025-11-28T17:41:13.5165137Z     [0m[94massert[39;49;00m response.status_code == [94m404[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5165502Z [1m[31mE   assert 401 == 404[0m
2025-11-28T17:41:13.5165966Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5166344Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5167017Z {"tenant_id": "nonexistent-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:10.992634Z"}
2025-11-28T17:41:13.5168218Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/nonexistent-tenant", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:10.993021Z"}
2025-11-28T17:41:13.5169110Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5170211Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'nonexistent-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:10.992634Z'}
2025-11-28T17:41:13.5171883Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/nonexistent-tenant', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:10.993021Z'}
2025-11-28T17:41:13.5173009Z [31m[1m_______________ test_tenant_governance_stats_with_custom_period ________________[0m
2025-11-28T17:41:13.5173588Z [1m[31mtests/api/v1/test_governance.py[0m:194: in test_tenant_governance_stats_with_custom_period
2025-11-28T17:41:13.5174151Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5174532Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5174868Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5175241Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5175892Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.014756Z"}
2025-11-28T17:41:13.5177028Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.015151Z"}
2025-11-28T17:41:13.5177886Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5178826Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.014756Z'}
2025-11-28T17:41:13.5180697Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.015151Z'}
2025-11-28T17:41:13.5181786Z [31m[1m______________________ test_tenant_budget_status_success _______________________[0m
2025-11-28T17:41:13.5182307Z [1m[31mtests/api/v1/test_governance.py[0m:214: in test_tenant_budget_status_success
2025-11-28T17:41:13.5182833Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5183207Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5183545Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5183922Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5184685Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.035711Z"}
2025-11-28T17:41:13.5185860Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant/budget", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.036093Z"}
2025-11-28T17:41:13.5186741Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5187689Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.035711Z'}
2025-11-28T17:41:13.5189331Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant/budget', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.036093Z'}
2025-11-28T17:41:13.5190782Z [31m[1m____________________ test_tenant_budget_status_with_alerts _____________________[0m
2025-11-28T17:41:13.5191321Z [1m[31mtests/api/v1/test_governance.py[0m:240: in test_tenant_budget_status_with_alerts
2025-11-28T17:41:13.5191853Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5192229Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5192565Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5192930Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5193574Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.055259Z"}
2025-11-28T17:41:13.5194753Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant/budget", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.055560Z"}
2025-11-28T17:41:13.5195633Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5196577Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.055259Z'}
2025-11-28T17:41:13.5198204Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant/budget', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.055560Z'}
2025-11-28T17:41:13.5199524Z [31m[1m_____________________ test_tenant_budget_status_zero_usage _____________________[0m
2025-11-28T17:41:13.5200185Z [1m[31mtests/api/v1/test_governance.py[0m:261: in test_tenant_budget_status_zero_usage
2025-11-28T17:41:13.5200716Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5201088Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5201425Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5201795Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5202427Z {"tenant_id": "new-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.075525Z"}
2025-11-28T17:41:13.5203584Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/new-tenant/budget", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.075850Z"}
2025-11-28T17:41:13.5204579Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5205529Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'new-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.075525Z'}
2025-11-28T17:41:13.5207144Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/new-tenant/budget', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.075850Z'}
2025-11-28T17:41:13.5208242Z [31m[1m_______________________ test_tenant_budget_status_error ________________________[0m
2025-11-28T17:41:13.5208761Z [1m[31mtests/api/v1/test_governance.py[0m:279: in test_tenant_budget_status_error
2025-11-28T17:41:13.5209287Z     [0m[94massert[39;49;00m response.status_code == [94m500[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5209654Z [1m[31mE   assert 401 == 500[0m
2025-11-28T17:41:13.5210097Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5210478Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5211119Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.094333Z"}
2025-11-28T17:41:13.5212287Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant/budget", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.094579Z"}
2025-11-28T17:41:13.5213173Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5214130Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.094333Z'}
2025-11-28T17:41:13.5215765Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant/budget', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.094579Z'}
2025-11-28T17:41:13.5216872Z [31m[1m____________________ test_governance_overview_invalid_days _____________________[0m
2025-11-28T17:41:13.5217411Z [1m[31mtests/api/v1/test_governance.py[0m:296: in test_governance_overview_invalid_days
2025-11-28T17:41:13.5218108Z     [0m[94massert[39;49;00m response.status_code == [94m422[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5218477Z [1m[31mE   assert 401 == 422[0m
2025-11-28T17:41:13.5218821Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5219184Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5220134Z {"status_code": 401, "detail": "Authentication required for admin access", "path": "/v1/governance/overview", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.112281Z"}
2025-11-28T17:41:13.5220964Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5222106Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required for admin access', 'path': '/v1/governance/overview', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.112281Z'}
2025-11-28T17:41:13.5223173Z [31m[1m__________________ test_tenant_governance_stats_invalid_days ___________________[0m
2025-11-28T17:41:13.5223840Z [1m[31mtests/api/v1/test_governance.py[0m:308: in test_tenant_governance_stats_invalid_days
2025-11-28T17:41:13.5224396Z     [0m[94massert[39;49;00m response.status_code == [94m422[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5224767Z [1m[31mE   assert 401 == 422[0m
2025-11-28T17:41:13.5225110Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5225479Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5226121Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.131023Z"}
2025-11-28T17:41:13.5227255Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/governance/tenant/test-tenant", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.131284Z"}
2025-11-28T17:41:13.5228119Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5229059Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.131023Z'}
2025-11-28T17:41:13.5230931Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/governance/tenant/test-tenant', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.131284Z'}
2025-11-28T17:41:13.5232030Z [31m[1m____________________ test_governance_overview_empty_results ____________________[0m
2025-11-28T17:41:13.5232584Z [1m[31mtests/api/v1/test_governance.py[0m:330: in test_governance_overview_empty_results
2025-11-28T17:41:13.5233133Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5233498Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5233840Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5234205Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5235041Z {"status_code": 401, "detail": "Authentication required for admin access", "path": "/v1/governance/overview", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.149162Z"}
2025-11-28T17:41:13.5235868Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5237002Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required for admin access', 'path': '/v1/governance/overview', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.149162Z'}
2025-11-28T17:41:13.5238183Z [31m[1m__________________________ test_store_memory_success ___________________________[0m
2025-11-28T17:41:13.5238654Z [1m[31mtests/api/v1/test_memory.py[0m:59: in test_store_memory_success
2025-11-28T17:41:13.5239142Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5239511Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5239851Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5240343Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5240986Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.170026Z"}
2025-11-28T17:41:13.5242198Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/store", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.170346Z"}
2025-11-28T17:41:13.5243078Z STORE ERROR: {'error': {'code': '401', 'message': 'Authentication required to access tenant'}}
2025-11-28T17:41:13.5243513Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5244467Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.170026Z'}
2025-11-28T17:41:13.5246200Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/store', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.170346Z'}
2025-11-28T17:41:13.5247488Z [31m[1m__________________________ test_query_memory_success ___________________________[0m
2025-11-28T17:41:13.5247971Z [1m[31mtests/api/v1/test_memory.py[0m:88: in test_query_memory_success
2025-11-28T17:41:13.5248467Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5248841Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5249210Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5249579Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5250350Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.189691Z"}
2025-11-28T17:41:13.5251434Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/query", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.189989Z"}
2025-11-28T17:41:13.5252242Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5253194Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.189691Z'}
2025-11-28T17:41:13.5254731Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/query', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.189989Z'}
2025-11-28T17:41:13.5255750Z [31m[1m__________________________ test_delete_memory_success __________________________[0m
2025-11-28T17:41:13.5256413Z [1m[31mtests/api/v1/test_memory.py[0m:101: in test_delete_memory_success
2025-11-28T17:41:13.5256916Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5257296Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5257633Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5257997Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5258644Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.207228Z"}
2025-11-28T17:41:13.5259732Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/delete", "method": "DELETE", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.207527Z"}
2025-11-28T17:41:13.5260673Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5261757Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.207228Z'}
2025-11-28T17:41:13.5263316Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/delete', 'method': 'DELETE', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.207527Z'}
2025-11-28T17:41:13.5264348Z [31m[1m________________________ test_reflection_stats_success _________________________[0m
2025-11-28T17:41:13.5264845Z [1m[31mtests/api/v1/test_memory.py[0m:139: in test_reflection_stats_success
2025-11-28T17:41:13.5265345Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5265720Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5266075Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5266446Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5267095Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.437347Z"}
2025-11-28T17:41:13.5268213Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/reflection-stats", "method": "GET", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.437699Z"}
2025-11-28T17:41:13.5269052Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5270198Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.437347Z'}
2025-11-28T17:41:13.5271874Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/reflection-stats', 'method': 'GET', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.437699Z'}
2025-11-28T17:41:13.5272945Z [31m[1m___________________ test_store_memory_missing_tenant_header ____________________[0m
2025-11-28T17:41:13.5273474Z [1m[31mtests/api/v1/test_memory.py[0m:157: in test_store_memory_missing_tenant_header
2025-11-28T17:41:13.5274270Z     [0m[94massert[39;49;00m [33m"[39;49;00m[33mX-Tenant-Id[39;49;00m[33m"[39;49;00m [95min[39;49;00m response.json()[[33m"[39;49;00m[33mdetail[39;49;00m[33m"[39;49;00m][90m[39;49;00m
2025-11-28T17:41:13.5275053Z                             ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5275348Z [1m[31mE   KeyError: 'detail'[0m
2025-11-28T17:41:13.5275642Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5276421Z {"status_code": 400, "detail": "X-Tenant-Id header is required", "path": "/v1/memory/store", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.456294Z"}
2025-11-28T17:41:13.5277183Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5278243Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 400, 'detail': 'X-Tenant-Id header is required', 'path': '/v1/memory/store', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.456294Z'}
2025-11-28T17:41:13.5279220Z [31m[1m________________________ test_query_memory_with_filters ________________________[0m
2025-11-28T17:41:13.5279717Z [1m[31mtests/api/v1/test_memory.py[0m:190: in test_query_memory_with_filters
2025-11-28T17:41:13.5280372Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5280889Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5281244Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5281609Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5282251Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.475064Z"}
2025-11-28T17:41:13.5283632Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/query", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.475323Z"}
2025-11-28T17:41:13.5284579Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5285570Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.475064Z'}
2025-11-28T17:41:13.5287113Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/query', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.475323Z'}
2025-11-28T17:41:13.5288144Z [31m[1m____________________ test_query_memory_with_graph_traversal ____________________[0m
2025-11-28T17:41:13.5288668Z [1m[31mtests/api/v1/test_memory.py[0m:221: in test_query_memory_with_graph_traversal
2025-11-28T17:41:13.5289191Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5289569Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5289916Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5290480Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5291123Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.494267Z"}
2025-11-28T17:41:13.5292201Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/query", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.494556Z"}
2025-11-28T17:41:13.5293000Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5293948Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.494267Z'}
2025-11-28T17:41:13.5295750Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/query', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.494556Z'}
2025-11-28T17:41:13.5296770Z [31m[1m_________________________ test_delete_memory_not_found _________________________[0m
2025-11-28T17:41:13.5297256Z [1m[31mtests/api/v1/test_memory.py[0m:238: in test_delete_memory_not_found
2025-11-28T17:41:13.5297756Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5298130Z [1m[31mE   assert 401 == 200[0m
2025-11-28T17:41:13.5298466Z [1m[31mE    +  where 401 = <Response [401 Unauthorized]>.status_code[0m
2025-11-28T17:41:13.5298839Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5299483Z {"tenant_id": "test-tenant", "event": "check_tenant_access_no_user_id", "level": "warning", "logger": "apps.memory_api.security.auth", "timestamp": "2025-11-28T17:40:11.511357Z"}
2025-11-28T17:41:13.5300831Z {"status_code": 401, "detail": "Authentication required to access tenant", "path": "/v1/memory/delete", "method": "DELETE", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.511630Z"}
2025-11-28T17:41:13.5301651Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5302602Z [33mWARNING [0m apps.memory_api.security.auth:auth.py:218 {'tenant_id': 'test-tenant', 'event': 'check_tenant_access_no_user_id', 'level': 'warning', 'logger': 'apps.memory_api.security.auth', 'timestamp': '2025-11-28T17:40:11.511357Z'}
2025-11-28T17:41:13.5304149Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 401, 'detail': 'Authentication required to access tenant', 'path': '/v1/memory/delete', 'method': 'DELETE', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.511630Z'}
2025-11-28T17:41:13.5305192Z [31m[1m__________________________ test_hybrid_search_success __________________________[0m
2025-11-28T17:41:13.5305687Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:74: in test_hybrid_search_success
2025-11-28T17:41:13.5306208Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5306577Z [1m[31mE   assert 500 == 200[0m
2025-11-28T17:41:13.5306942Z [1m[31mE    +  where 500 = <Response [500 Internal Server Error]>.status_code[0m
2025-11-28T17:41:13.5307327Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5308139Z {"error": "'dict' object has no attribute 'total_results'", "query": "authentication system", "event": "hybrid_search_failed", "level": "error", "logger": "apps.memory_api.routes.hybrid_search", "timestamp": "2025-11-28T17:40:11.535538Z"}
2025-11-28T17:41:13.5309385Z {"status_code": 500, "detail": "'dict' object has no attribute 'total_results'", "path": "/v1/search/hybrid", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.535806Z"}
2025-11-28T17:41:13.5310310Z 
2025-11-28T17:41:13.5310567Z DEBUG: Response 500: {'error': {'code': '500', 'message': "'dict' object has no attribute 'total_results'"}}
2025-11-28T17:41:13.5311018Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5312229Z [31m[1mERROR   [0m apps.memory_api.routes.hybrid_search:hybrid_search.py:95 {'error': "'dict' object has no attribute 'total_results'", 'query': 'authentication system', 'event': 'hybrid_search_failed', 'level': 'error', 'logger': 'apps.memory_api.routes.hybrid_search', 'timestamp': '2025-11-28T17:40:11.535538Z'}
2025-11-28T17:41:13.5314130Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 500, 'detail': "'dict' object has no attribute 'total_results'", 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.535806Z'}
2025-11-28T17:41:13.5315163Z [31m[1m______________________ test_hybrid_search_with_reranking _______________________[0m
2025-11-28T17:41:13.5315690Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:137: in test_hybrid_search_with_reranking
2025-11-28T17:41:13.5316217Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5316586Z [1m[31mE   assert 500 == 200[0m
2025-11-28T17:41:13.5316956Z [1m[31mE    +  where 500 = <Response [500 Internal Server Error]>.status_code[0m
2025-11-28T17:41:13.5317342Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5318186Z {"error": "'dict' object has no attribute 'total_results'", "query": "explain the authentication flow", "event": "hybrid_search_failed", "level": "error", "logger": "apps.memory_api.routes.hybrid_search", "timestamp": "2025-11-28T17:40:11.556129Z"}
2025-11-28T17:41:13.5319559Z {"status_code": 500, "detail": "'dict' object has no attribute 'total_results'", "path": "/v1/search/hybrid", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.556381Z"}
2025-11-28T17:41:13.5320372Z 
2025-11-28T17:41:13.5320603Z DEBUG: Response 500: {'error': {'code': '500', 'message': "'dict' object has no attribute 'total_results'"}}
2025-11-28T17:41:13.5321054Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5322291Z [31m[1mERROR   [0m apps.memory_api.routes.hybrid_search:hybrid_search.py:95 {'error': "'dict' object has no attribute 'total_results'", 'query': 'explain the authentication flow', 'event': 'hybrid_search_failed', 'level': 'error', 'logger': 'apps.memory_api.routes.hybrid_search', 'timestamp': '2025-11-28T17:40:11.556129Z'}
2025-11-28T17:41:13.5324081Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 500, 'detail': "'dict' object has no attribute 'total_results'", 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.556381Z'}
2025-11-28T17:41:13.5325102Z [31m[1m_______________________ test_hybrid_search_with_filters ________________________[0m
2025-11-28T17:41:13.5325626Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:202: in test_hybrid_search_with_filters
2025-11-28T17:41:13.5326152Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5326525Z [1m[31mE   assert 422 == 200[0m
2025-11-28T17:41:13.5326887Z [1m[31mE    +  where 422 = <Response [422 Unprocessable Entity]>.status_code[0m
2025-11-28T17:41:13.5327278Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5328365Z {"errors": [{"type": "datetime_type", "loc": ["body", "temporal_filter"], "msg": "Input should be a valid datetime", "input": {"start_date": "2025-01-01T00:00:00Z", "end_date": "2025-12-31T23:59:59Z"}}], "path": "/v1/search/hybrid", "method": "POST", "event": "validation_error", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.576948Z"}
2025-11-28T17:41:13.5329290Z 
2025-11-28T17:41:13.5329925Z DEBUG: Response 422: {'error': {'code': '422', 'message': 'Validation Error', 'details': [{'type': 'datetime_type', 'loc': ['body', 'temporal_filter'], 'msg': 'Input should be a valid datetime', 'input': {'start_date': '2025-01-01T00:00:00Z', 'end_date': '2025-12-31T23:59:59Z'}}]}}
2025-11-28T17:41:13.5330889Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5332335Z [33mWARNING [0m apps.memory_api.main:main.py:209 {'errors': [{'type': 'datetime_type', 'loc': ('body', 'temporal_filter'), 'msg': 'Input should be a valid datetime', 'input': {'start_date': '2025-01-01T00:00:00Z', 'end_date': '2025-12-31T23:59:59Z'}}], 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'validation_error', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.576948Z'}
2025-11-28T17:41:13.5333756Z [31m[1m____________________ test_hybrid_search_with_manual_weights ____________________[0m
2025-11-28T17:41:13.5334304Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:267: in test_hybrid_search_with_manual_weights
2025-11-28T17:41:13.5334851Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5335219Z [1m[31mE   assert 500 == 200[0m
2025-11-28T17:41:13.5335587Z [1m[31mE    +  where 500 = <Response [500 Internal Server Error]>.status_code[0m
2025-11-28T17:41:13.5335976Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5336795Z {"error": "'dict' object has no attribute 'total_results'", "query": "database optimization", "event": "hybrid_search_failed", "level": "error", "logger": "apps.memory_api.routes.hybrid_search", "timestamp": "2025-11-28T17:40:11.596713Z"}
2025-11-28T17:41:13.5338215Z {"status_code": 500, "detail": "'dict' object has no attribute 'total_results'", "path": "/v1/search/hybrid", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.596961Z"}
2025-11-28T17:41:13.5338880Z 
2025-11-28T17:41:13.5339108Z DEBUG: Response 500: {'error': {'code': '500', 'message': "'dict' object has no attribute 'total_results'"}}
2025-11-28T17:41:13.5339562Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5340887Z [31m[1mERROR   [0m apps.memory_api.routes.hybrid_search:hybrid_search.py:95 {'error': "'dict' object has no attribute 'total_results'", 'query': 'database optimization', 'event': 'hybrid_search_failed', 'level': 'error', 'logger': 'apps.memory_api.routes.hybrid_search', 'timestamp': '2025-11-28T17:40:11.596713Z'}
2025-11-28T17:41:13.5342664Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 500, 'detail': "'dict' object has no attribute 'total_results'", 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.596961Z'}
2025-11-28T17:41:13.5343694Z [31m[1m_____________________ test_hybrid_search_with_graph_depth ______________________[0m
2025-11-28T17:41:13.5344224Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:327: in test_hybrid_search_with_graph_depth
2025-11-28T17:41:13.5344771Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5345152Z [1m[31mE   assert 500 == 200[0m
2025-11-28T17:41:13.5345523Z [1m[31mE    +  where 500 = <Response [500 Internal Server Error]>.status_code[0m
2025-11-28T17:41:13.5345957Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5346811Z {"error": "'dict' object has no attribute 'total_results'", "query": "knowledge graph relationships", "event": "hybrid_search_failed", "level": "error", "logger": "apps.memory_api.routes.hybrid_search", "timestamp": "2025-11-28T17:40:11.617203Z"}
2025-11-28T17:41:13.5348080Z {"status_code": 500, "detail": "'dict' object has no attribute 'total_results'", "path": "/v1/search/hybrid", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.617591Z"}
2025-11-28T17:41:13.5348739Z 
2025-11-28T17:41:13.5348972Z DEBUG: Response 500: {'error': {'code': '500', 'message': "'dict' object has no attribute 'total_results'"}}
2025-11-28T17:41:13.5349417Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5350953Z [31m[1mERROR   [0m apps.memory_api.routes.hybrid_search:hybrid_search.py:95 {'error': "'dict' object has no attribute 'total_results'", 'query': 'knowledge graph relationships', 'event': 'hybrid_search_failed', 'level': 'error', 'logger': 'apps.memory_api.routes.hybrid_search', 'timestamp': '2025-11-28T17:40:11.617203Z'}
2025-11-28T17:41:13.5352931Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 500, 'detail': "'dict' object has no attribute 'total_results'", 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.617591Z'}
2025-11-28T17:41:13.5353965Z [31m[1m_________________ test_hybrid_search_with_conversation_history _________________[0m
2025-11-28T17:41:13.5354541Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:390: in test_hybrid_search_with_conversation_history
2025-11-28T17:41:13.5355095Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5355710Z [1m[31mE   assert 422 == 200[0m
2025-11-28T17:41:13.5356264Z [1m[31mE    +  where 422 = <Response [422 Unprocessable Entity]>.status_code[0m
2025-11-28T17:41:13.5356659Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5358314Z {"errors": [{"type": "string_type", "loc": ["body", "conversation_history", 0], "msg": "Input should be a valid string", "input": {"role": "user", "content": "Tell me about authentication"}}, {"type": "string_type", "loc": ["body", "conversation_history", 1], "msg": "Input should be a valid string", "input": {"role": "assistant", "content": "Authentication uses JWT tokens"}}], "path": "/v1/search/hybrid", "method": "POST", "event": "validation_error", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.639352Z"}
2025-11-28T17:41:13.5359674Z 
2025-11-28T17:41:13.5360849Z DEBUG: Response 422: {'error': {'code': '422', 'message': 'Validation Error', 'details': [{'type': 'string_type', 'loc': ['body', 'conversation_history', 0], 'msg': 'Input should be a valid string', 'input': {'role': 'user', 'content': 'Tell me about authentication'}}, {'type': 'string_type', 'loc': ['body', 'conversation_history', 1], 'msg': 'Input should be a valid string', 'input': {'role': 'assistant', 'content': 'Authentication uses JWT tokens'}}]}}
2025-11-28T17:41:13.5362103Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5364090Z [33mWARNING [0m apps.memory_api.main:main.py:209 {'errors': [{'type': 'string_type', 'loc': ('body', 'conversation_history', 0), 'msg': 'Input should be a valid string', 'input': {'role': 'user', 'content': 'Tell me about authentication'}}, {'type': 'string_type', 'loc': ('body', 'conversation_history', 1), 'msg': 'Input should be a valid string', 'input': {'role': 'assistant', 'content': 'Authentication uses JWT tokens'}}], 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'validation_error', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.639352Z'}
2025-11-28T17:41:13.5365794Z [31m[1m________________________ test_hybrid_search_empty_query ________________________[0m
2025-11-28T17:41:13.5366317Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:447: in test_hybrid_search_empty_query
2025-11-28T17:41:13.5366954Z     [0m[94massert[39;49;00m response.status_code [95min[39;49;00m [[94m200[39;49;00m, [94m400[39;49;00m][90m[39;49;00m
2025-11-28T17:41:13.5367417Z [1m[31mE   assert 422 in [200, 400][0m
2025-11-28T17:41:13.5367804Z [1m[31mE    +  where 422 = <Response [422 Unprocessable Entity]>.status_code[0m
2025-11-28T17:41:13.5368196Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5369157Z {"errors": [{"type": "string_too_short", "loc": ["body", "query"], "msg": "String should have at least 1 character", "input": "", "ctx": {"min_length": 1}}], "path": "/v1/search/hybrid", "method": "POST", "event": "validation_error", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.660421Z"}
2025-11-28T17:41:13.5370355Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5371663Z [33mWARNING [0m apps.memory_api.main:main.py:209 {'errors': [{'type': 'string_too_short', 'loc': ('body', 'query'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}], 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'validation_error', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.660421Z'}
2025-11-28T17:41:13.5372838Z [31m[1m__________________ test_hybrid_search_all_strategies_disabled __________________[0m
2025-11-28T17:41:13.5373400Z [1m[31mtests/api/v1/test_search_hybrid.py[0m:533: in test_hybrid_search_all_strategies_disabled
2025-11-28T17:41:13.5373955Z     [0m[94massert[39;49;00m response.status_code == [94m200[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5374329Z [1m[31mE   assert 500 == 200[0m
2025-11-28T17:41:13.5374700Z [1m[31mE    +  where 500 = <Response [500 Internal Server Error]>.status_code[0m
2025-11-28T17:41:13.5375089Z ----------------------------- Captured stdout call -----------------------------
2025-11-28T17:41:13.5375977Z {"error": "'dict' object has no attribute 'total_results'", "query": "test query", "event": "hybrid_search_failed", "level": "error", "logger": "apps.memory_api.routes.hybrid_search", "timestamp": "2025-11-28T17:40:11.692083Z"}
2025-11-28T17:41:13.5377188Z {"status_code": 500, "detail": "'dict' object has no attribute 'total_results'", "path": "/v1/search/hybrid", "method": "POST", "event": "http_exception", "level": "warning", "logger": "apps.memory_api.main", "timestamp": "2025-11-28T17:40:11.692321Z"}
2025-11-28T17:41:13.5377858Z 
2025-11-28T17:41:13.5378168Z DEBUG: Response 500: {'error': {'code': '500', 'message': "'dict' object has no attribute 'total_results'"}}
2025-11-28T17:41:13.5378628Z ------------------------------ Captured log call -------------------------------
2025-11-28T17:41:13.5379796Z [31m[1mERROR   [0m apps.memory_api.routes.hybrid_search:hybrid_search.py:95 {'error': "'dict' object has no attribute 'total_results'", 'query': 'test query', 'event': 'hybrid_search_failed', 'level': 'error', 'logger': 'apps.memory_api.routes.hybrid_search', 'timestamp': '2025-11-28T17:40:11.692083Z'}
2025-11-28T17:41:13.5381695Z [33mWARNING [0m apps.memory_api.main:main.py:194 {'status_code': 500, 'detail': "'dict' object has no attribute 'total_results'", 'path': '/v1/search/hybrid', 'method': 'POST', 'event': 'http_exception', 'level': 'warning', 'logger': 'apps.memory_api.main', 'timestamp': '2025-11-28T17:40:11.692321Z'}
2025-11-28T17:41:13.5382713Z [31m[1m____________________________ test_basic_completion _____________________________[0m
2025-11-28T17:41:13.5383173Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5383763Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5384268Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5384992Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5385767Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5386435Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5387241Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5387807Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5388403Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5389426Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5391093Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5391919Z 
2025-11-28T17:41:13.5392181Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5392701Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:106: in test_basic_completion
2025-11-28T17:41:13.5393237Z     [0mresponse = [94mawait[39;49;00m openai_provider.complete(request)[90m[39;49;00m
2025-11-28T17:41:13.5393664Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5394301Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5394995Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5395541Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5396143Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5396837Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5397259Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5397843Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5398455Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5398825Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5399366Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5399941Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5400476Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5401037Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5401613Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5401933Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5402479Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5403108Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5403497Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5404018Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5404653Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5405014Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5405559Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5406143Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5406800Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5407428Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5407788Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5408160Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5408746Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5410129Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5411298Z [31m[1m________________________________ test_json_mode ________________________________[0m
2025-11-28T17:41:13.5411743Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5412323Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5412824Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5413539Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5414299Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5415075Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5415882Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5416445Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5417028Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5417907Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5419258Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5420310Z 
2025-11-28T17:41:13.5420715Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5421511Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:134: in test_json_mode
2025-11-28T17:41:13.5422343Z     [0mresponse = [94mawait[39;49;00m openai_provider.complete(request)[90m[39;49;00m
2025-11-28T17:41:13.5423090Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5424205Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5425455Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5426166Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5427257Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5428511Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5429234Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5430566Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5431773Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5432468Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5433481Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5434912Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5435521Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5436600Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5437752Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5438352Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5439405Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5440916Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5441663Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5442689Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5443848Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5444576Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5445665Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5447228Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5448589Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5449840Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5450768Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5451479Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5452233Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5454628Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5456892Z [31m[1m________________________________ test_streaming ________________________________[0m
2025-11-28T17:41:13.5457775Z [1m[31mapps/llm/providers/openai_provider.py[0m:216: in stream
2025-11-28T17:41:13.5458838Z     [0mstream = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5459775Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5461350Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5462851Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5464140Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5465687Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5466807Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5467999Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5469744Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5472584Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5474438Z 
2025-11-28T17:41:13.5474931Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5475901Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:158: in test_streaming
2025-11-28T17:41:13.5477004Z     [0m[94masync[39;49;00m [94mfor[39;49;00m chunk [95min[39;49;00m openai_provider.stream(request):[90m[39;49;00m
2025-11-28T17:41:13.5477986Z [1m[31mapps/llm/providers/openai_provider.py[0m:234: in stream
2025-11-28T17:41:13.5478734Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5481323Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5483623Z [31m[1m_______________________________ test_token_usage _______________________________[0m
2025-11-28T17:41:13.5484501Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5485846Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5486836Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5488121Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5489607Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5491169Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5492750Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5493862Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5495000Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5496698Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5499323Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5501210Z 
2025-11-28T17:41:13.5501756Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5502791Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:176: in test_token_usage
2025-11-28T17:41:13.5503825Z     [0mresponse = [94mawait[39;49;00m openai_provider.complete(request)[90m[39;49;00m
2025-11-28T17:41:13.5504680Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5505901Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5507253Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5508005Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5509165Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5510840Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5511653Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5513134Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5514237Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5514621Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5515173Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5515746Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5516086Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5516649Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5517217Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5517543Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5518098Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5518717Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5519259Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5519799Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5520678Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5521042Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5521600Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5522189Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5522850Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5523472Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5523832Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5524214Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5524605Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5525856Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5527022Z [31m[1m___________________________ test_temperature_control ___________________________[0m
2025-11-28T17:41:13.5527492Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5528077Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5528572Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5529286Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5530264Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5530925Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5531716Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5532270Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5533010Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5533491Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5534398Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5534407Z 
2025-11-28T17:41:13.5534645Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5534914Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:197: in test_temperature_control
2025-11-28T17:41:13.5535192Z     [0mresponse1 = [94mawait[39;49;00m openai_provider.complete(request_zero)[90m[39;49;00m
2025-11-28T17:41:13.5535343Z                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5535810Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5536235Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5536377Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5536810Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5537077Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5537228Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5537645Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5537855Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5537987Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5538367Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5538554Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5538678Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5539071Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5539249Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5539368Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5539756Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5540167Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5540311Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5540679Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5540895Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5541016Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5541407Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5541608Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5542036Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5542235Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5542364Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5542715Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5542878Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5543934Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5544162Z [31m[1m_______________________________ test_max_tokens ________________________________[0m
2025-11-28T17:41:13.5544366Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5544721Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5544877Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5545416Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5545774Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5546207Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5546626Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5546795Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5547203Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5547675Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5548583Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5548590Z 
2025-11-28T17:41:13.5548826Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5549052Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:216: in test_max_tokens
2025-11-28T17:41:13.5549312Z     [0mresponse = [94mawait[39;49;00m openai_provider.complete(request)[90m[39;49;00m
2025-11-28T17:41:13.5549456Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5549911Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5550335Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5550472Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5550908Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5551172Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5551316Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5551731Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5551935Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5552066Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5552436Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5552748Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5552875Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5553271Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5553446Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5553566Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5553949Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5554182Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5554310Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5554671Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5555022Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5555142Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5555640Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5555842Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5556275Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5556472Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5556597Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5556809Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5556966Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5558011Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5558285Z [31m[1m___________ test_provider_contract_hello_world[openai-gpt-3.5-turbo] ___________[0m
2025-11-28T17:41:13.5558488Z [1m[31mapps/llm/providers/openai_provider.py[0m:125: in complete
2025-11-28T17:41:13.5558834Z     [0mresponse = [94mawait[39;49;00m [96mself[39;49;00m.client.chat.completions.create(**params)[90m[39;49;00m
2025-11-28T17:41:13.5558988Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5559514Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py[0m:2672: in create
2025-11-28T17:41:13.5559770Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m._post([90m[39;49;00m
2025-11-28T17:41:13.5560374Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1794: in post
2025-11-28T17:41:13.5560801Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m [96mself[39;49;00m.request(cast_to, opts, stream=stream, stream_cls=stream_cls)[90m[39;49;00m
2025-11-28T17:41:13.5560971Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5561376Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/openai/_base_client.py[0m:1594: in request
2025-11-28T17:41:13.5561847Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._make_status_error_from_response(err.response) [94mfrom[39;49;00m[90m [39;49;00m[94mNone[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5562733Z [1m[31mE   openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5562866Z 
2025-11-28T17:41:13.5563119Z [33mDuring handling of the above exception, another exception occurred:[0m
2025-11-28T17:41:13.5563416Z [1m[31mtests/llm/test_llm_provider_contract.py[0m:247: in test_provider_contract_hello_world
2025-11-28T17:41:13.5563667Z     [0mresponse = [94mawait[39;49;00m provider.complete(llm_request)[90m[39;49;00m
2025-11-28T17:41:13.5563805Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5564254Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:189: in async_wrapped
2025-11-28T17:41:13.5564504Z     [0m[94mreturn[39;49;00m [94mawait[39;49;00m copy(fn, *args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5564638Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5565077Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:111: in __call__
2025-11-28T17:41:13.5565451Z     [0mdo = [94mawait[39;49;00m [96mself[39;49;00m.iter(retry_state=retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5565600Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5566014Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:153: in iter
2025-11-28T17:41:13.5566214Z     [0mresult = [94mawait[39;49;00m action(retry_state)[90m[39;49;00m
2025-11-28T17:41:13.5566346Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5566716Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/_utils.py[0m:99: in inner
2025-11-28T17:41:13.5566899Z     [0m[94mreturn[39;49;00m call(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5567027Z            ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5567425Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:420: in exc_check
2025-11-28T17:41:13.5567596Z     [0m[94mraise[39;49;00m retry_exc.reraise()[90m[39;49;00m
2025-11-28T17:41:13.5567726Z           ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5568114Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/__init__.py[0m:187: in reraise
2025-11-28T17:41:13.5568348Z     [0m[94mraise[39;49;00m [96mself[39;49;00m.last_attempt.result()[90m[39;49;00m
2025-11-28T17:41:13.5568474Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5568832Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:449: in result
2025-11-28T17:41:13.5569047Z     [0m[94mreturn[39;49;00m [96mself[39;49;00m.__get_result()[90m[39;49;00m
2025-11-28T17:41:13.5569167Z            ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5569556Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/concurrent/futures/_base.py[0m:401: in __get_result
2025-11-28T17:41:13.5569752Z     [0m[94mraise[39;49;00m [96mself[39;49;00m._exception[90m[39;49;00m
2025-11-28T17:41:13.5570407Z [1m[31m/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/tenacity/asyncio/__init__.py[0m:114: in __call__
2025-11-28T17:41:13.5570622Z     [0mresult = [94mawait[39;49;00m fn(*args, **kwargs)[90m[39;49;00m
2025-11-28T17:41:13.5570749Z              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5570955Z [1m[31mapps/llm/providers/openai_provider.py[0m:162: in complete
2025-11-28T17:41:13.5571119Z     [0m[94mraise[39;49;00m LLMAuthError([90m[39;49;00m
2025-11-28T17:41:13.5572151Z [1m[31mE   apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}[0m
2025-11-28T17:41:13.5572516Z [31m[1m____________________________ test_merge_node_edges _____________________________[0m
2025-11-28T17:41:13.5572792Z [1m[31mtests/repositories/test_graph_repository.py[0m:94: in test_merge_node_edges
2025-11-28T17:41:13.5573204Z     [0mresult = [94mawait[39;49;00m repo.merge_node_edges(source_node_id=[94m1[39;49;00m, target_node_id=[94m2[39;49;00m)[90m[39;49;00m
2025-11-28T17:41:13.5573367Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5573640Z [1m[31mapps/memory_api/repositories/graph_repository.py[0m:683: in merge_node_edges
2025-11-28T17:41:13.5573864Z     [0m[94masync[39;49;00m [94mwith[39;49;00m conn.transaction():[90m[39;49;00m
2025-11-28T17:41:13.5573989Z                ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5574314Z [1m[31mE   TypeError: 'coroutine' object does not support the asynchronous context manager protocol[0m
2025-11-28T17:41:13.5574550Z [31m[1m___________________________ test_store_graph_triples ___________________________[0m
2025-11-28T17:41:13.5574940Z [1m[31mtests/repositories/test_graph_repository.py[0m:291: in test_store_graph_triples
2025-11-28T17:41:13.5575170Z     [0mstats = [94mawait[39;49;00m repo.store_graph_triples([90m[39;49;00m
2025-11-28T17:41:13.5575448Z [1m[31mapps/memory_api/repositories/graph_repository.py[0m:521: in store_graph_triples
2025-11-28T17:41:13.5575664Z     [0m[94masync[39;49;00m [94mwith[39;49;00m conn.transaction():[90m[39;49;00m
2025-11-28T17:41:13.5575790Z                ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5576102Z [1m[31mE   TypeError: 'coroutine' object does not support the asynchronous context manager protocol[0m
2025-11-28T17:41:13.5576325Z [31m[1m______________________________ test_check_budget _______________________________[0m
2025-11-28T17:41:13.5576558Z [1m[31mtests/services/test_budget_service.py[0m:20: in test_check_budget
2025-11-28T17:41:13.5577101Z     [0m[94mawait[39;49;00m budget_service.check_budget(mock_pool, [33m"[39;49;00m[33mt1[39;49;00m[33m"[39;49;00m, [33m"[39;49;00m[33mp1[39;49;00m[33m"[39;49;00m, [94m0.1[39;49;00m)[90m[39;49;00m
2025-11-28T17:41:13.5577260Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5577528Z [1m[31mE   TypeError: check_budget() missing 1 required positional argument: 'tokens'[0m
2025-11-28T17:41:13.5577754Z [31m[1m____________________________ test_check_budget_fail ____________________________[0m
2025-11-28T17:41:13.5577997Z [1m[31mtests/services/test_budget_service.py[0m:35: in test_check_budget_fail
2025-11-28T17:41:13.5578516Z     [0m[94mawait[39;49;00m budget_service.check_budget(mock_pool, [33m"[39;49;00m[33mt1[39;49;00m[33m"[39;49;00m, [33m"[39;49;00m[33mp1[39;49;00m[33m"[39;49;00m, [94m0.2[39;49;00m)[90m[39;49;00m
2025-11-28T17:41:13.5578672Z           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5578932Z [1m[31mE   TypeError: check_budget() missing 1 required positional argument: 'tokens'[0m
2025-11-28T17:41:13.5579161Z [31m[1m_____________________________ test_reflection_flow _____________________________[0m
2025-11-28T17:41:13.5579405Z [1m[31mtests/services/test_reflection_engine.py[0m:17: in test_reflection_flow
2025-11-28T17:41:13.5579579Z     [0mengine = ReflectionEngine(mock_pool)[90m[39;49;00m
2025-11-28T17:41:13.5579719Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5579947Z [1m[31mapps/memory_api/services/reflection_engine.py[0m:82: in __init__
2025-11-28T17:41:13.5580449Z     [0m[96mself[39;49;00m.graph_extractor = GraphExtractionService(pool)[90m[39;49;00m
2025-11-28T17:41:13.5580602Z                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
2025-11-28T17:41:13.5580963Z [1m[31mE   TypeError: GraphExtractionService.__init__() missing 1 required positional argument: 'graph_repo'[0m
2025-11-28T17:41:13.5581322Z [31m[1m_____________________________ test_pydantic_models _____________________________[0m
2025-11-28T17:41:13.5581535Z [1m[31mtest_enterprise_features.py[0m:124: in test_pydantic_models
2025-11-28T17:41:13.5581875Z     [0m[94massert[39;49;00m graph_triple.source == [33m"[39;49;00m[33mEntity1[39;49;00m[33m"[39;49;00m[90m[39;49;00m
2025-11-28T17:41:13.5582058Z [1m[31mE   AssertionError: assert 'entity1' == 'Entity1'[0m
2025-11-28T17:41:13.5582155Z [1m[31mE     [0m
2025-11-28T17:41:13.5582325Z [1m[31mE     [0m[91m- Entity1[39;49;00m[90m[39;49;00m[0m
2025-11-28T17:41:13.5582439Z [1m[31mE     ? ^[90m[39;49;00m[0m
2025-11-28T17:41:13.5582590Z [1m[31mE     [92m+ entity1[39;49;00m[90m[39;49;00m[0m
2025-11-28T17:41:13.5582705Z [1m[31mE     ? ^[90m[39;49;00m[0m
2025-11-28T17:41:13.5582895Z [33m=============================== warnings summary ===============================[0m
2025-11-28T17:41:13.5583194Z ../../../../../opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/starlette/formparsers.py:12
2025-11-28T17:41:13.5583846Z   /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.
2025-11-28T17:41:13.5583930Z     import multipart
2025-11-28T17:41:13.5583936Z 
2025-11-28T17:41:13.5584100Z apps/memory_api/tests/test_dashboard_websocket.py: 15 warnings
2025-11-28T17:41:13.5584237Z apps/memory_api/tests/test_evaluation_suite.py: 1 warning
2025-11-28T17:41:13.5584465Z apps/memory_api/tests/test_event_triggers.py: 8 warnings
2025-11-28T17:41:13.5584673Z apps/memory_api/tests/test_phase2_models.py: 18 warnings
2025-11-28T17:41:13.5585787Z   /opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pydantic/main.py:250: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5586023Z     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
2025-11-28T17:41:13.5586028Z 
2025-11-28T17:41:13.5586344Z apps/memory_api/tests/test_reflective_flags.py::TestDreamingEnabled::test_dreaming_enabled_runs_dreaming
2025-11-28T17:41:13.5586669Z apps/memory_api/tests/test_reflective_flags.py::TestMaintenanceScheduler::test_maintenance_with_all_flags_enabled
2025-11-28T17:41:13.5587239Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/workers/memory_maintenance.py:369: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
2025-11-28T17:41:13.5587341Z     async with self.pool.acquire() as conn:
2025-11-28T17:41:13.5587514Z   Enable tracemalloc to get traceback where the object was allocated.
2025-11-28T17:41:13.5587791Z   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
2025-11-28T17:41:13.5587800Z 
2025-11-28T17:41:13.5587959Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_success
2025-11-28T17:41:13.5588855Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:39: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5588962Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5588967Z 
2025-11-28T17:41:13.5589138Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_reranking
2025-11-28T17:41:13.5590189Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:99: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5590446Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5590452Z 
2025-11-28T17:41:13.5590618Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_filters
2025-11-28T17:41:13.5591516Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:161: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5591614Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5591619Z 
2025-11-28T17:41:13.5591803Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_manual_weights
2025-11-28T17:41:13.5592691Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:226: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5592796Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5592800Z 
2025-11-28T17:41:13.5592982Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_graph_depth
2025-11-28T17:41:13.5593969Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:291: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5594075Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5594081Z 
2025-11-28T17:41:13.5594279Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_with_conversation_history
2025-11-28T17:41:13.5595159Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:351: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5595262Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5595267Z 
2025-11-28T17:41:13.5595432Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_empty_query
2025-11-28T17:41:13.5596320Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:414: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5596417Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5596422Z 
2025-11-28T17:41:13.5596615Z tests/api/v1/test_search_hybrid.py::test_hybrid_search_all_strategies_disabled
2025-11-28T17:41:13.5597497Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/tests/api/v1/test_search_hybrid.py:497: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5597599Z     "analyzed_at": datetime.utcnow().isoformat()
2025-11-28T17:41:13.5597604Z 
2025-11-28T17:41:13.5597810Z tests/repositories/test_graph_repository.py::test_merge_node_edges
2025-11-28T17:41:13.5598424Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/repositories/graph_repository.py:683: RuntimeWarning: coroutine 'test_merge_node_edges.<locals>.mock_transaction' was never awaited
2025-11-28T17:41:13.5598521Z     async with conn.transaction():
2025-11-28T17:41:13.5598689Z   Enable tracemalloc to get traceback where the object was allocated.
2025-11-28T17:41:13.5598962Z   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
2025-11-28T17:41:13.5598968Z 
2025-11-28T17:41:13.5599154Z tests/repositories/test_graph_repository.py::test_store_graph_triples
2025-11-28T17:41:13.5599874Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/repositories/graph_repository.py:521: RuntimeWarning: coroutine 'test_store_graph_triples.<locals>.mock_transaction' was never awaited
2025-11-28T17:41:13.5600169Z     async with conn.transaction():
2025-11-28T17:41:13.5600407Z   Enable tracemalloc to get traceback where the object was allocated.
2025-11-28T17:41:13.5600682Z   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
2025-11-28T17:41:13.5600695Z 
2025-11-28T17:41:13.5600821Z test_enterprise_features.py::test_decorator_import
2025-11-28T17:41:13.5601805Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/client.py:18: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
2025-11-28T17:41:13.5601921Z     class RAEClientConfig(BaseSettings):
2025-11-28T17:41:13.5601926Z 
2025-11-28T17:41:13.5602065Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5603164Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/decorators.py:77: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5603275Z     start_time = datetime.utcnow()
2025-11-28T17:41:13.5603281Z 
2025-11-28T17:41:13.5603411Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5604326Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/decorators.py:89: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5604417Z     end_time = datetime.utcnow()
2025-11-28T17:41:13.5604422Z 
2025-11-28T17:41:13.5604555Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5605475Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/client.py:109: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
2025-11-28T17:41:13.5605628Z     "POST", "/memory/store", json=memory.dict(exclude_none=True)
2025-11-28T17:41:13.5605634Z 
2025-11-28T17:41:13.5605760Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5606682Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/decorators.py:126: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5606778Z     start_time = datetime.utcnow()
2025-11-28T17:41:13.5606783Z 
2025-11-28T17:41:13.5606904Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5607822Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/decorators.py:138: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-11-28T17:41:13.5607906Z     end_time = datetime.utcnow()
2025-11-28T17:41:13.5607912Z 
2025-11-28T17:41:13.5608043Z test_enterprise_features.py::test_decorator_basic_usage
2025-11-28T17:41:13.5608943Z   /home/runner/work/RAE-agentic-memory/RAE-agentic-memory/sdk/python/rae_memory_sdk/client.py:420: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
2025-11-28T17:41:13.5609252Z     "POST", "/memory/store", json=memory.dict(exclude_none=True)
2025-11-28T17:41:13.5609257Z 
2025-11-28T17:41:13.5609444Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-11-28T17:41:13.5609564Z ================================ tests coverage ================================
2025-11-28T17:41:13.5609742Z _______________ coverage: platform linux, python 3.12.12-final-0 _______________
2025-11-28T17:41:13.5609747Z 
2025-11-28T17:41:13.5609867Z Name                                                         Stmts   Miss  Cover   Missing
2025-11-28T17:41:13.5610172Z ------------------------------------------------------------------------------------------
2025-11-28T17:41:13.5610316Z apps/__init__.py                                                 0      0   100%
2025-11-28T17:41:13.5610453Z apps/llm/__init__.py                                             4      0   100%
2025-11-28T17:41:13.5610611Z apps/llm/broker/__init__.py                                      2      0   100%
2025-11-28T17:41:13.5610843Z apps/llm/broker/llm_router.py                                  104     90    13%   55-57, 61-74, 78-122, 131-153, 169-216, 228-252
2025-11-28T17:41:13.5611154Z apps/llm/models/__init__.py                                      4      0   100%
2025-11-28T17:41:13.5611329Z apps/llm/models/llm_error.py                                    18      0   100%
2025-11-28T17:41:13.5611500Z apps/llm/models/llm_request.py                                  25      0   100%
2025-11-28T17:41:13.5611670Z apps/llm/models/llm_response.py                                 20      0   100%
2025-11-28T17:41:13.5611829Z apps/llm/providers/__init__.py                                   9      0   100%
2025-11-28T17:41:13.5612078Z apps/llm/providers/anthropic_provider.py                        79     68    14%   42-47, 56-66, 70-73, 103-196, 212-247
2025-11-28T17:41:13.5612251Z apps/llm/providers/base.py                                       9      0   100%
2025-11-28T17:41:13.5612501Z apps/llm/providers/deepseek_provider.py                         78     67    14%   41-46, 50, 61-64, 97-195, 211-255
2025-11-28T17:41:13.5612873Z apps/llm/providers/gemini_provider.py                          103     92    11%   37-42, 51-63, 67-71, 101-208, 224-280
2025-11-28T17:41:13.5613137Z apps/llm/providers/grok_provider.py                             85     73    14%   42-47, 51, 62-65, 84-90, 113-215, 231-281
2025-11-28T17:41:13.5613393Z apps/llm/providers/ollama_provider.py                           69     58    16%   35-41, 50-61, 82-139, 155-201
2025-11-28T17:41:13.5613943Z apps/llm/providers/openai_provider.py                           76     25    67%   61, 111, 114, 117, 120, 123, 127-144, 154, 167-180, 208, 211, 214, 218-220, 228, 240
2025-11-28T17:41:13.5614218Z apps/llm/providers/qwen_provider.py                            100     89    11%   43-50, 65-71, 79-82, 117-236, 252-319
2025-11-28T17:41:13.5614402Z apps/memory_api/__init__.py                                      0      0   100%
2025-11-28T17:41:13.5614630Z apps/memory_api/api/__init__.py                                  0      0   100%
2025-11-28T17:41:13.5614823Z apps/memory_api/api/v1/__init__.py                               0      0   100%
2025-11-28T17:41:13.5615047Z apps/memory_api/api/v1/agent.py                                 86     65    24%   58-239, 266-288
2025-11-28T17:41:13.5615320Z apps/memory_api/api/v1/cache.py                                  7      0   100%
2025-11-28T17:41:13.5615624Z apps/memory_api/api/v1/governance.py                           124     75    40%   111-183, 207-310, 334-434
2025-11-28T17:41:13.5615943Z apps/memory_api/api/v1/graph.py                                193    123    36%   154-194, 223-276, 300-363, 404-516, 545-595, 632-688, 720-822
2025-11-28T17:41:13.5616223Z apps/memory_api/api/v1/health.py                               127     86    32%   59-95, 102-135, 142-174, 189-204, 228-265, 282-287, 303, 322-351
2025-11-28T17:41:13.5616505Z apps/memory_api/api/v1/memory.py                               128     96    25%   54-110, 140-247, 263-286, 310-320, 363-422
2025-11-28T17:41:13.5616805Z apps/memory_api/celery_app.py                                    4      0   100%
2025-11-28T17:41:13.5617224Z apps/memory_api/clients/rae_client.py                          270     32    88%   116-119, 242-244, 298, 374-383, 465, 472, 507-508, 512, 516, 561-562, 589, 604, 715, 741, 747, 796-802
2025-11-28T17:41:13.5617482Z apps/memory_api/config.py                                       89      5    94%   40, 141-144
2025-11-28T17:41:13.5617685Z apps/memory_api/cost_model.py                                    8      6    25%   53-61
2025-11-28T17:41:13.5632587Z apps/memory_api/dependencies.py                                 25     13    48%   64-66, 79-81, 102-109, 125-131
2025-11-28T17:41:13.5632991Z apps/memory_api/logging_config.py                               24      0   100%
2025-11-28T17:41:13.5633317Z apps/memory_api/main.py                                         81     14    83%   51-72, 115, 229-230, 249-250, 290
2025-11-28T17:41:13.5633617Z apps/memory_api/metrics.py                                      33      0   100%
2025-11-28T17:41:13.5633956Z apps/memory_api/middleware/cost_guard.py                       144    124    14%   63-95, 111-128, 166-476
2025-11-28T17:41:13.5634392Z apps/memory_api/middleware/rate_limiter.py                      51     31    39%   55-74, 106-114, 165-177, 200-211
2025-11-28T17:41:13.5634596Z apps/memory_api/middleware/tenant.py                             9      0   100%
2025-11-28T17:41:13.5634752Z apps/memory_api/models.py                                       68      0   100%
2025-11-28T17:41:13.5634939Z apps/memory_api/models/__init__.py                              22      0   100%
2025-11-28T17:41:13.5635137Z apps/memory_api/models/dashboard_models.py                     286      0   100%
2025-11-28T17:41:13.5635327Z apps/memory_api/models/evaluation_models.py                    256      0   100%
2025-11-28T17:41:13.5635509Z apps/memory_api/models/event_models.py                         244      0   100%
2025-11-28T17:41:13.5635677Z apps/memory_api/models/graph.py                                 17      0   100%
2025-11-28T17:41:13.5635860Z apps/memory_api/models/graph_enhanced_models.py                254      0   100%
2025-11-28T17:41:13.5636053Z apps/memory_api/models/hybrid_search_models.py                 164      0   100%
2025-11-28T17:41:13.5636245Z apps/memory_api/models/rbac.py                                  95     17    82%   135, 207-224, 234-239
2025-11-28T17:41:13.5636454Z apps/memory_api/models/reflection_models.py                    169      1    99%   69
2025-11-28T17:41:13.5636692Z apps/memory_api/models/reflection_v2_models.py                 149     14    91%   132-133, 171-180, 243-244
2025-11-28T17:41:13.5636880Z apps/memory_api/models/tenant.py                                94     11    88%   193-200, 212-215
2025-11-28T17:41:13.5637069Z apps/memory_api/observability/__init__.py                        2      0   100%
2025-11-28T17:41:13.5637451Z apps/memory_api/observability/opentelemetry_config.py          104     71    32%   136-191, 215-219, 235-254, 275-278, 292-298, 312-318, 352-363, 368-371, 380-383, 388-391
2025-11-28T17:41:13.5637630Z apps/memory_api/plugins/__init__.py                              2      0   100%
2025-11-28T17:41:13.5637948Z apps/memory_api/plugins/base.py                                190     44    77%   137, 185, 198, 214, 232, 242, 252, 268, 281, 296, 309, 329, 378-379, 421-426, 435-436, 456, 470-471, 501-535, 550-551
2025-11-28T17:41:13.5638126Z apps/memory_api/repositories/__init__.py                         0      0   100%
2025-11-28T17:41:13.5638471Z apps/memory_api/repositories/cost_logs_repository.py           141     60    57%   176-242, 279-357, 374-382, 401-408, 425-433, 452-459, 493-543, 577-634, 657-685
2025-11-28T17:41:13.5638785Z apps/memory_api/repositories/graph_repository.py               131     58    56%   53-139, 162, 180-216, 232-253, 275-293, 319-338, 358-380, 522-584, 685-722
2025-11-28T17:41:13.5639469Z apps/memory_api/repositories/graph_repository_enhanced.py      130     99    24%   60, 90-108, 114-127, 133-146, 162-184, 208-216, 260-297, 303-329, 335-350, 354-366, 372-386, 413-436, 471-534, 563-591, 618-631, 635-642, 648-660, 675-689, 708-740, 778-800, 808, 820, 841
2025-11-28T17:41:13.5639793Z apps/memory_api/repositories/memory_repository.py               77     61    21%   59-104, 122-140, 155-170, 185-196, 211-222, 238-263, 279-299, 315-335, 363-405
2025-11-28T17:41:13.5640387Z apps/memory_api/repositories/reflection_repository.py          158    140    11%   83-157, 174-185, 222-295, 312-333, 374-420, 443-471, 494-569, 591-600, 635-659, 669-689, 720
2025-11-28T17:41:13.5640566Z apps/memory_api/routes/__init__.py                               1      0   100%
2025-11-28T17:41:13.5640971Z apps/memory_api/routes/dashboard.py                            239    202    15%   68, 74-78, 114-163, 182-217, 240-274, 296-351, 368-397, 409-421, 444-466, 479, 490-556, 563-643, 650-720, 731-779, 791-806, 811-832, 837-860, 875
2025-11-28T17:41:13.5641266Z apps/memory_api/routes/evaluation.py                            91     59    35%   40, 64-89, 99, 160-193, 203, 250-280, 293-311, 331-358, 368, 406-418, 428, 454, 477
2025-11-28T17:41:13.5641794Z apps/memory_api/routes/event_triggers.py                       159    114    28%   48, 69-89, 95-109, 126-139, 145-154, 160-171, 177-188, 204-219, 237-267, 277, 312-334, 356-373, 379-391, 399-406, 421, 440-457, 479-512, 523, 555
2025-11-28T17:41:13.5642253Z apps/memory_api/routes/graph_enhanced.py                       225    179    20%   63, 79-94, 106-122, 134-151, 167-203, 211-226, 234-245, 253-264, 272-287, 306-361, 376-417, 432-457, 473-504, 510-526, 534-545, 557-581, 598-617, 632-654, 664-706, 717
2025-11-28T17:41:13.5642541Z apps/memory_api/routes/hybrid_search.py                        104     67    36%   89, 115-137, 148-167, 182-194, 209-228, 238-264, 282-369, 394-426, 437, 461
2025-11-28T17:41:13.5642822Z apps/memory_api/routes/reflections.py                           98     71    28%   45, 83-104, 142-200, 225-247, 270-282, 316-352, 387-420, 447-453, 481-510
2025-11-28T17:41:13.5643004Z apps/memory_api/security/__init__.py                             4      0   100%
2025-11-28T17:41:13.5643252Z apps/memory_api/security/auth.py                               106     80    25%   38-56, 81-128, 145-148, 163-165, 170-184, 189, 225-310, 334-423
2025-11-28T17:41:13.5643492Z apps/memory_api/security/dependencies.py                        48     29    40%   56, 78-84, 128-133, 155-210
2025-11-28T17:41:13.5643725Z apps/memory_api/security/rate_limit.py                          78     63    19%   31-32, 36-48, 63-77, 99-179, 189-191, 208-225
2025-11-28T17:41:13.5643994Z apps/memory_api/security/validation.py                          87     68    22%   40-56, 72-95, 111-150, 166-177, 193-203, 219-236, 252-269, 286-301
2025-11-28T17:41:13.5644169Z apps/memory_api/services/__init__.py                             0      0   100%
2025-11-28T17:41:13.5644380Z apps/memory_api/services/analytics.py                          193      4    98%   339-342, 346
2025-11-28T17:41:13.5644634Z apps/memory_api/services/budget_service.py                      88     52    41%   74, 95-136, 160-297, 323-351, 376-458, 487-521
2025-11-28T17:41:13.5644864Z apps/memory_api/services/community_detection.py                 81     12    85%   55, 83-100
2025-11-28T17:41:13.5645133Z apps/memory_api/services/context_builder.py                    139     74    47%   96, 177-239, 254-269, 283-339, 416, 431-476, 497-521
2025-11-28T17:41:13.5645354Z apps/memory_api/services/context_cache.py                       62     36    42%   21, 39-49, 63-102, 106
2025-11-28T17:41:13.5645635Z apps/memory_api/services/cost_controller.py                     55     43    22%   79-146, 171-174, 194-200, 224-241, 260-261, 277-284, 309, 344-359
2025-11-28T17:41:13.5646067Z apps/memory_api/services/dashboard_websocket.py                182     79    57%   131, 175-177, 201, 205-210, 247-253, 257-271, 296, 307, 346-357, 365-372, 410-425, 439-451, 461-498, 620-622, 638, 662-703
2025-11-28T17:41:13.5646507Z apps/memory_api/services/drift_detector.py                     108     33    69%   102-104, 118-124, 248, 292, 329, 333, 357-373, 423-434, 445
2025-11-28T17:41:13.5646730Z apps/memory_api/services/embedding.py                           28     15    46%   28-29, 36-55, 62-64, 72
2025-11-28T17:41:13.5646958Z apps/memory_api/services/entity_resolution.py                   74     16    78%   80-107, 158-161
2025-11-28T17:41:13.5647238Z apps/memory_api/services/evaluation_service.py                 139     82    41%   74-205, 233-234, 275, 330, 357-385, 408-442, 464-474
2025-11-28T17:41:13.5647643Z apps/memory_api/services/graph_algorithms.py                   298     41    86%   34, 55, 93, 126-127, 135-140, 160-165, 191-193, 231, 308, 329, 350-361, 394, 405, 418-419, 445, 451, 454, 490, 554, 573, 589, 665-671, 685-691
2025-11-28T17:41:13.5647947Z apps/memory_api/services/graph_extraction.py                   132     83    37%   39-47, 115, 192-203, 258-260, 264-265, 299-406, 415-467, 483, 497-515, 534-545
2025-11-28T17:41:13.5648351Z apps/memory_api/services/hybrid_cache.py                        90     71    21%   48-58, 82-105, 126-153, 176-185, 202-216, 225-236, 240-248, 257-260, 269, 283-285, 300-302
2025-11-28T17:41:13.5648628Z apps/memory_api/services/hybrid_search.py                      114     88    23%   81-83, 122-230, 254-308, 318, 341-358, 383-388, 411-470, 482-493
2025-11-28T17:41:13.5648941Z apps/memory_api/services/hybrid_search_service.py              226    207     8%   93-98, 145-336, 353-407, 418-473, 485-624, 636-680, 705-776, 796-850
2025-11-28T17:41:13.5649380Z apps/memory_api/services/importance_scoring.py                 159    111    30%   74, 99-114, 151-196, 204-214, 223-242, 252-263, 271-277, 281-290, 305-319, 343, 356, 417-491, 504, 532-539, 556-573, 589-609, 625, 646-649, 687-709
2025-11-28T17:41:13.5649588Z apps/memory_api/services/llm/__init__.py                        20      5    75%   21, 23, 26-33
2025-11-28T17:41:13.5649812Z apps/memory_api/services/llm/anthropic.py                       30     17    43%   18-21, 30-54, 65-78
2025-11-28T17:41:13.5650168Z apps/memory_api/services/llm/base.py                            14      0   100%
2025-11-28T17:41:13.5650399Z apps/memory_api/services/llm/gemini.py                          33     20    39%   18-22, 31-52, 63-74
2025-11-28T17:41:13.5650629Z apps/memory_api/services/llm/litellm_provider.py                19     10    47%   17-20, 28-43, 62-72
2025-11-28T17:41:13.5650836Z apps/memory_api/services/llm/ollama.py                          43     27    37%   20, 30-62, 73-95
2025-11-28T17:41:13.5651034Z apps/memory_api/services/llm/openai.py                          30     10    67%   20, 51-53, 64-76
2025-11-28T17:41:13.5651276Z apps/memory_api/services/memory_scoring_v2.py                   83     21    75%   46, 235-240, 253, 272, 317-340, 356-368
2025-11-28T17:41:13.5651627Z apps/memory_api/services/ml_service_client.py                  122     99    19%   50-54, 58-59, 63-68, 76-90, 94, 125-130, 138, 159-204, 222-250, 268-294, 312-337, 356-385, 396-409, 418-420
2025-11-28T17:41:13.5651856Z apps/memory_api/services/pii_scrubber.py                        24     17    29%   29-30, 40-45, 51-56, 72-89
2025-11-28T17:41:13.5652129Z apps/memory_api/services/query_analyzer.py                      91     62    32%   128-129, 148-197, 216-241, 257-269, 283-312, 344, 363-383
2025-11-28T17:41:13.5652369Z apps/memory_api/services/rbac_service.py                        35     21    40%   29, 42-56, 90-126, 145-154, 168-179, 224-258
2025-11-28T17:41:13.5652567Z apps/memory_api/services/redis_client.py                         5      2    60%   7-8
2025-11-28T17:41:13.5652881Z apps/memory_api/services/reflection_engine.py                   98     65    34%   89-126, 138-154, 167-178, 207-239, 268-319, 335-361, 373-388, 400-412, 425-441
2025-11-28T17:41:13.5653153Z apps/memory_api/services/reflection_engine_v2.py                75     45    40%   160-219, 234-263, 278-295, 307-318, 342-389, 416-424
2025-11-28T17:41:13.5653635Z apps/memory_api/services/reflection_pipeline.py                194    168    13%   126-128, 132-133, 151-247, 258-290, 306-380, 391-473, 479-559, 571-600, 609-615, 624-633
2025-11-28T17:41:13.5654154Z apps/memory_api/services/rules_engine.py                       202    102    50%   95-108, 137-159, 181-183, 196-197, 226, 232, 238, 245-249, 252-260, 266, 269-272, 277-278, 282, 304, 323, 332-341, 357, 360, 384-412, 486-525, 549-569, 592-600, 606-609, 615-618, 624-629, 639-642, 648-651
2025-11-28T17:41:13.5654368Z apps/memory_api/services/scoring.py                             28     20    29%   15-29, 36, 44-64, 72-79
2025-11-28T17:41:13.5654610Z apps/memory_api/services/temporal_graph.py                     186      9    95%   48, 74, 85, 182, 279, 338-340, 426, 478
2025-11-28T17:41:13.5654811Z apps/memory_api/services/token_estimator.py                      4      3    25%   8-10
2025-11-28T17:41:13.5655024Z apps/memory_api/services/vector_store/__init__.py               16      8    50%   17-28
2025-11-28T17:41:13.5655220Z apps/memory_api/services/vector_store/base.py                    6      0   100%
2025-11-28T17:41:13.5655580Z apps/memory_api/services/vector_store/pgvector_store.py         23     11    52%   17, 25-32, 46-55, 62
2025-11-28T17:41:13.5655863Z apps/memory_api/services/vector_store/qdrant_store.py           64     43    33%   49-66, 70-74, 80-106, 129-160, 170-180, 198-208
2025-11-28T17:41:13.5656028Z apps/memory_api/tasks/__init__.py                                0      0   100%
2025-11-28T17:41:13.5656305Z apps/memory_api/tasks/background_tasks.py                      206    103    50%   18, 47-66, 123-125, 268-278, 289-301, 325-449, 470-498, 509-549
2025-11-28T17:41:13.5656464Z apps/memory_api/tests/__init__.py                                0      0   100%
2025-11-28T17:41:13.5656680Z apps/memory_api/tests/conftest.py                               68     30    56%   16-18, 24, 52-55, 146-163, 183-266, 281
2025-11-28T17:41:13.5656863Z apps/memory_api/tests/test_analytics.py                        121      0   100%
2025-11-28T17:41:13.5657052Z apps/memory_api/tests/test_api_client.py                       155      1    99%   116
2025-11-28T17:41:13.5657253Z apps/memory_api/tests/test_api_e2e.py                           26      4    85%   57, 71, 86, 119
2025-11-28T17:41:13.5657453Z apps/memory_api/tests/test_background_tasks.py                 131      1    99%   334
2025-11-28T17:41:13.5657636Z apps/memory_api/tests/test_dashboard_websocket.py               96      0   100%
2025-11-28T17:41:13.5657823Z apps/memory_api/tests/test_evaluation_suite.py                  79      0   100%
2025-11-28T17:41:13.5658000Z apps/memory_api/tests/test_event_triggers.py                    92      0   100%
2025-11-28T17:41:13.5658187Z apps/memory_api/tests/test_graph_algorithms.py                 178      0   100%
2025-11-28T17:41:13.5658394Z apps/memory_api/tests/test_graph_extraction.py                 136    132     3%   18-418
2025-11-28T17:41:13.5658610Z apps/memory_api/tests/test_graph_extraction_integration.py     132    130     2%   23-441
2025-11-28T17:41:13.5658811Z apps/memory_api/tests/test_hybrid_search.py                    223    220     1%   17-931
2025-11-28T17:41:13.5658989Z apps/memory_api/tests/test_openapi.py                           10      0   100%
2025-11-28T17:41:13.5659184Z apps/memory_api/tests/test_phase2_models.py                    158      1    99%   325
2025-11-28T17:41:13.5659375Z apps/memory_api/tests/test_phase2_plugins.py                   209      1    99%   425
2025-11-28T17:41:13.5659568Z apps/memory_api/tests/test_pii_scrubber.py                      74     72     3%   25-197
2025-11-28T17:41:13.5659775Z apps/memory_api/tests/test_reflection_simple.py                 51     45    12%   20-143
2025-11-28T17:41:13.5660198Z apps/memory_api/tests/test_reflective_flags.py                 152      2    99%   197-198
2025-11-28T17:41:13.5660450Z apps/memory_api/tests/test_semantic_memory.py                   70     65     7%   24-216
2025-11-28T17:41:13.5660770Z apps/memory_api/tests/test_temporal_graph.py                   176      0   100%
2025-11-28T17:41:13.5660965Z apps/memory_api/tests/test_vector_store.py                      75     72     4%   26-212
2025-11-28T17:41:13.5661145Z apps/memory_api/workers/__init__.py                              2      0   100%
2025-11-28T17:41:13.5661477Z apps/memory_api/workers/memory_maintenance.py                  156     69    56%   76-133, 137-141, 207-214, 282-299, 370-453, 526, 539, 562-564, 571-581, 596-619, 623
2025-11-28T17:41:13.5661650Z sdk/python/rae_memory_sdk/__init__.py                            5      0   100%
2025-11-28T17:41:13.5662196Z sdk/python/rae_memory_sdk/client.py                            126     60    52%   48, 70-71, 73-79, 90-91, 93-99, 101-102, 111, 119-123, 129-130, 153-159, 182-189, 201, 222-228, 244-247, 263-268, 294-295, 309, 322, 334, 349-350, 364, 380-383, 391, 395, 422, 438-442, 454-457, 469-475, 486-493, 497, 505-506, 510, 516-517
2025-11-28T17:41:13.5662475Z sdk/python/rae_memory_sdk/decorators.py                         89     18    80%   84-86, 115-116, 133-135, 166-167, 218, 244-246, 250, 286, 337-348, 355
2025-11-28T17:41:13.5662654Z sdk/python/rae_memory_sdk/models.py                             41      0   100%
2025-11-28T17:41:13.5662952Z test_enterprise_features.py                                    107     31    71%   55-56, 125-127, 159, 167-206, 210
2025-11-28T17:41:13.5663089Z tests/__init__.py                                                0      0   100%
2025-11-28T17:41:13.5663220Z tests/api/__init__.py                                            0      0   100%
2025-11-28T17:41:13.5663357Z tests/api/v1/__init__.py                                         0      0   100%
2025-11-28T17:41:13.5663545Z tests/api/v1/test_agent.py                                     108     90    17%   12-53, 65-106, 118-158, 170-206
2025-11-28T17:41:13.5663690Z tests/api/v1/test_cache.py                                      10      0   100%
2025-11-28T17:41:13.5663987Z tests/api/v1/test_governance.py                                130     45    65%   41-47, 73-74, 99-101, 132-139, 164-166, 195-196, 215-221, 241-242, 262-265, 282-284, 331-334
2025-11-28T17:41:13.5664171Z tests/api/v1/test_memory.py                                     98     11    89%   60, 89, 140-142, 191-193, 222-224
2025-11-28T17:41:13.5664407Z tests/api/v1/test_search_hybrid.py                             107     15    86%   75-77, 138-139, 203-204, 268-269, 328-329, 391-392, 534-535
2025-11-28T17:41:13.5664544Z tests/conftest.py                                               53      0   100%
2025-11-28T17:41:13.5664801Z tests/integration/test_graphrag.py                              98     69    30%   41-42, 48, 54, 65-124, 142-168, 182-217, 231-269, 282-324, 338-351, 355
2025-11-28T17:41:13.5665118Z tests/integration/test_lite_profile.py                          86     67    22%   37-72, 80-85, 90-93, 98-116, 122-157, 163-175, 181-187, 192-196, 201-207, 212-224, 230-239, 248-253
2025-11-28T17:41:13.5665393Z tests/integration/test_reflection_flow.py                      107     67    37%   38, 44, 50, 56-61, 67, 73, 94-170, 190-231, 256-298, 361-385, 411-484
2025-11-28T17:41:13.5665706Z tests/llm/test_llm_provider_contract.py                        100     42    58%   30, 39, 47, 52-55, 60-63, 68-71, 84, 108-112, 136-142, 159-163, 178-180, 198-202, 219-220, 249-251, 256
2025-11-28T17:41:13.5665951Z tests/repositories/test_graph_repository.py                    150     17    89%   81-86, 96-98, 258-263, 297-298
2025-11-28T17:41:13.5666098Z tests/services/__init__.py                                       0      0   100%
2025-11-28T17:41:13.5666261Z tests/services/llm/__init__.py                                   0      0   100%
2025-11-28T17:41:13.5666439Z tests/services/llm/test_providers.py                            17      0   100%
2025-11-28T17:41:13.5666631Z tests/services/test_budget_service.py                           19      1    95%   36
2025-11-28T17:41:13.5666923Z tests/services/test_community_detection.py                     106      0   100%
2025-11-28T17:41:13.5667096Z tests/services/test_context_cache.py                            10      0   100%
2025-11-28T17:41:13.5667284Z tests/services/test_entity_resolution.py                        77      0   100%
2025-11-28T17:41:13.5667483Z tests/services/test_reflection_engine.py                        23      9    61%   18-36
2025-11-28T17:41:13.5667629Z ------------------------------------------------------------------------------------------
2025-11-28T17:41:13.5667735Z TOTAL                                                        14237   6062    57%
2025-11-28T17:41:13.5667837Z Coverage HTML written to dir htmlcov
2025-11-28T17:41:13.5667937Z Coverage XML written to file coverage.xml
2025-11-28T17:41:13.5668319Z [32mRequired test coverage of 55% reached. Total coverage: 57.42%
2025-11-28T17:41:13.5668505Z [0m============================= slowest 10 durations =============================
2025-11-28T17:41:13.5668718Z 8.64s call     tests/llm/test_llm_provider_contract.py::test_basic_completion
2025-11-28T17:41:13.5668883Z 8.35s call     tests/llm/test_llm_provider_contract.py::test_max_tokens
2025-11-28T17:41:13.5669246Z 8.34s call     tests/llm/test_llm_provider_contract.py::test_provider_contract_hello_world[openai-gpt-3.5-turbo]
2025-11-28T17:41:13.5669428Z 8.32s call     tests/llm/test_llm_provider_contract.py::test_token_usage
2025-11-28T17:41:13.5669607Z 8.26s call     tests/llm/test_llm_provider_contract.py::test_temperature_control
2025-11-28T17:41:13.5669768Z 8.26s call     tests/llm/test_llm_provider_contract.py::test_json_mode
2025-11-28T17:41:13.5670362Z 1.35s call     apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_pool_cleanup
2025-11-28T17:41:13.5670649Z 1.20s call     apps/memory_api/tests/test_api_client.py::test_cache_expiration
2025-11-28T17:41:13.5671134Z 1.07s call     apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_with_mini_model
2025-11-28T17:41:13.5671671Z 0.88s call     apps/memory_api/tests/test_background_tasks.py::TestExtractGraphLazy::test_extract_graph_success
2025-11-28T17:41:13.5672056Z [36m[1m=========================== short test summary info ============================[0m
2025-11-28T17:41:13.5673955Z [31mFAILED[0m apps/memory_api/tests/test_reflective_flags.py::[1mTestReflectiveMemoryFlags::test_reflective_memory_disabled_no_reflections[0m - AttributeError: 'function' object has no attribute 'assert_not_called'
2025-11-28T17:41:13.5675299Z [31mFAILED[0m apps/memory_api/tests/test_reflective_flags.py::[1mTestDreamingEnabled::test_dreaming_enabled_runs_dreaming[0m - TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-11-28T17:41:13.5676993Z [31mFAILED[0m tests/api/v1/test_agent.py::[1mtest_agent_execute_direct[0m - AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'
2025-11-28T17:41:13.5678941Z [31mFAILED[0m tests/api/v1/test_agent.py::[1mtest_agent_execute_with_context[0m - AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'
2025-11-28T17:41:13.5681200Z [31mFAILED[0m tests/api/v1/test_agent.py::[1mtest_agent_execute_with_empty_prompt[0m - AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'
2025-11-28T17:41:13.5683208Z [31mFAILED[0m tests/api/v1/test_agent.py::[1mtest_agent_execute_with_llm_error[0m - AttributeError: <module 'apps.memory_api.api.v1.agent' from '/home/runner/work/RAE-agentic-memory/RAE-agentic-memory/apps/memory_api/api/v1/agent.py'> does not have the attribute 'get_context_cache'
2025-11-28T17:41:13.5684313Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_governance_overview_success[0m - assert 401 == 200
2025-11-28T17:41:13.5684549Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5685404Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_governance_overview_with_custom_days[0m - assert 401 == 200
2025-11-28T17:41:13.5685634Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5686371Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_governance_overview_error[0m - assert 401 == 500
2025-11-28T17:41:13.5686594Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5687348Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_governance_stats_success[0m - assert 401 == 200
2025-11-28T17:41:13.5687564Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5688326Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_governance_stats_no_data[0m - assert 401 == 404
2025-11-28T17:41:13.5688555Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5689434Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_governance_stats_with_custom_period[0m - assert 401 == 200
2025-11-28T17:41:13.5689890Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5690957Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_budget_status_success[0m - assert 401 == 200
2025-11-28T17:41:13.5691193Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5691973Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_budget_status_with_alerts[0m - assert 401 == 200
2025-11-28T17:41:13.5692206Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5692961Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_budget_status_zero_usage[0m - assert 401 == 200
2025-11-28T17:41:13.5693174Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5693909Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_budget_status_error[0m - assert 401 == 500
2025-11-28T17:41:13.5694124Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5694906Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_governance_overview_invalid_days[0m - assert 401 == 422
2025-11-28T17:41:13.5695125Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5695912Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_tenant_governance_stats_invalid_days[0m - assert 401 == 422
2025-11-28T17:41:13.5696140Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5696973Z [31mFAILED[0m tests/api/v1/test_governance.py::[1mtest_governance_overview_empty_results[0m - assert 401 == 200
2025-11-28T17:41:13.5697205Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5697896Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_store_memory_success[0m - assert 401 == 200
2025-11-28T17:41:13.5698130Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5698787Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_query_memory_success[0m - assert 401 == 200
2025-11-28T17:41:13.5699006Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5699617Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_delete_memory_success[0m - assert 401 == 200
2025-11-28T17:41:13.5699757Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5700349Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_reflection_stats_success[0m - assert 401 == 200
2025-11-28T17:41:13.5700476Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5700878Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_store_memory_missing_tenant_header[0m - KeyError: 'detail'
2025-11-28T17:41:13.5701243Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_query_memory_with_filters[0m - assert 401 == 200
2025-11-28T17:41:13.5701550Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5701930Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_query_memory_with_graph_traversal[0m - assert 401 == 200
2025-11-28T17:41:13.5702049Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5702385Z [31mFAILED[0m tests/api/v1/test_memory.py::[1mtest_delete_memory_not_found[0m - assert 401 == 200
2025-11-28T17:41:13.5702493Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-11-28T17:41:13.5702847Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_success[0m - assert 500 == 200
2025-11-28T17:41:13.5702989Z  +  where 500 = <Response [500 Internal Server Error]>.status_code
2025-11-28T17:41:13.5703363Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_with_reranking[0m - assert 500 == 200
2025-11-28T17:41:13.5703501Z  +  where 500 = <Response [500 Internal Server Error]>.status_code
2025-11-28T17:41:13.5703867Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_with_filters[0m - assert 422 == 200
2025-11-28T17:41:13.5704011Z  +  where 422 = <Response [422 Unprocessable Entity]>.status_code
2025-11-28T17:41:13.5704550Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_with_manual_weights[0m - assert 500 == 200
2025-11-28T17:41:13.5704693Z  +  where 500 = <Response [500 Internal Server Error]>.status_code
2025-11-28T17:41:13.5705109Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_with_graph_depth[0m - assert 500 == 200
2025-11-28T17:41:13.5705249Z  +  where 500 = <Response [500 Internal Server Error]>.status_code
2025-11-28T17:41:13.5705685Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_with_conversation_history[0m - assert 422 == 200
2025-11-28T17:41:13.5705822Z  +  where 422 = <Response [422 Unprocessable Entity]>.status_code
2025-11-28T17:41:13.5706214Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_empty_query[0m - assert 422 in [200, 400]
2025-11-28T17:41:13.5706359Z  +  where 422 = <Response [422 Unprocessable Entity]>.status_code
2025-11-28T17:41:13.5706770Z [31mFAILED[0m tests/api/v1/test_search_hybrid.py::[1mtest_hybrid_search_all_strategies_disabled[0m - assert 500 == 200
2025-11-28T17:41:13.5706906Z  +  where 500 = <Response [500 Internal Server Error]>.status_code
2025-11-28T17:41:13.5708269Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_basic_completion[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6802607Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_json_mode[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6806335Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_streaming[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6809343Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_token_usage[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6812925Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_temperature_control[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6815784Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_max_tokens[0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6818826Z [31mFAILED[0m tests/llm/test_llm_provider_contract.py::[1mtest_provider_contract_hello_world[openai-gpt-3.5-turbo][0m - apps.llm.models.llm_error.LLMAuthError: OpenAI authentication failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-key. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'code': 'invalid_api_key', 'param': None}}
2025-11-28T17:41:14.6820885Z [31mFAILED[0m tests/repositories/test_graph_repository.py::[1mtest_merge_node_edges[0m - TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-11-28T17:41:14.6822094Z [31mFAILED[0m tests/repositories/test_graph_repository.py::[1mtest_store_graph_triples[0m - TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-11-28T17:41:14.6823244Z [31mFAILED[0m tests/services/test_budget_service.py::[1mtest_check_budget[0m - TypeError: check_budget() missing 1 required positional argument: 'tokens'
2025-11-28T17:41:14.6824273Z [31mFAILED[0m tests/services/test_budget_service.py::[1mtest_check_budget_fail[0m - TypeError: check_budget() missing 1 required positional argument: 'tokens'
2025-11-28T17:41:14.6825421Z [31mFAILED[0m tests/services/test_reflection_engine.py::[1mtest_reflection_flow[0m - TypeError: GraphExtractionService.__init__() missing 1 required positional argument: 'graph_repo'
2025-11-28T17:41:14.6826418Z [31mFAILED[0m test_enterprise_features.py::[1mtest_pydantic_models[0m - AssertionError: assert 'entity1' == 'Entity1'
2025-11-28T17:41:14.6826870Z   
2025-11-28T17:41:14.6827116Z   [0m[91m- Entity1[39;49;00m[90m[39;49;00m
2025-11-28T17:41:14.6827393Z   ? ^[90m[39;49;00m
2025-11-28T17:41:14.6827635Z   [92m+ entity1[39;49;00m[90m[39;49;00m
2025-11-28T17:41:14.6827892Z   ? ^[90m[39;49;00m
2025-11-28T17:41:14.6828671Z [31mERROR[0m tests/integration/test_graphrag.py::[1mtest_graph_extraction_basic[0m - asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"
2025-11-28T17:41:14.6829858Z [31mERROR[0m tests/integration/test_graphrag.py::[1mtest_graph_storage[0m - asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"
2025-11-28T17:41:14.6831133Z [31mERROR[0m tests/integration/test_graphrag.py::[1mtest_hybrid_search[0m - asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"
2025-11-28T17:41:14.6832316Z [31mERROR[0m tests/integration/test_graphrag.py::[1mtest_graph_traversal_depth[0m - asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"
2025-11-28T17:41:14.6833547Z [31mERROR[0m tests/integration/test_graphrag.py::[1mtest_hierarchical_reflection[0m - asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "memory"
2025-11-28T17:41:14.6834496Z [31mERROR[0m tests/integration/test_reflection_flow.py::[1mtest_generate_reflection_from_failure[0m
2025-11-28T17:41:14.6835222Z [31mERROR[0m tests/integration/test_reflection_flow.py::[1mtest_generate_reflection_from_success[0m
2025-11-28T17:41:14.6836048Z [31mERROR[0m tests/integration/test_reflection_flow.py::[1mtest_reflection_retrieval_in_context[0m
2025-11-28T17:41:14.6836735Z [31mERROR[0m tests/integration/test_reflection_flow.py::[1mtest_inject_reflections_into_prompt[0m
2025-11-28T17:41:14.6837420Z [31mERROR[0m tests/integration/test_reflection_flow.py::[1mtest_end_to_end_reflection_flow[0m
2025-11-28T17:41:14.6838236Z [31m= [31m[1m48 failed[0m, [32m202 passed[0m, [33m12 skipped[0m, [33m11 deselected[0m, [33m62 warnings[0m, [31m[1m10 errors[0m[31m in 72.24s (0:01:12)[0m[31m =[0m
2025-11-28T17:41:15.7627946Z ##[error]The operation was canceled.
2025-11-28T17:41:15.7704337Z Post job cleanup.
2025-11-28T17:41:15.8647389Z [command]/usr/bin/git version
2025-11-28T17:41:15.8691486Z git version 2.51.2
2025-11-28T17:41:15.8733999Z Temporarily overriding HOME='/home/runner/work/_temp/e28d605b-8724-446a-a059-070b6237916c' before making global git config changes
2025-11-28T17:41:15.8735158Z Adding repository directory to the temporary git global config as a safe directory
2025-11-28T17:41:15.8739332Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/RAE-agentic-memory/RAE-agentic-memory
2025-11-28T17:41:15.8774773Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-28T17:41:15.8806544Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-28T17:41:15.9046142Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-28T17:41:15.9068707Z http.https://github.com/.extraheader
2025-11-28T17:41:15.9082095Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-11-28T17:41:15.9113535Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-28T17:41:15.9341967Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-11-28T17:41:15.9374227Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-11-28T17:41:15.9719619Z Print service container logs: aa1fc07f613a4f0eaca5b56801366abe_ankanepgvectorlatest_1b6e4c
2025-11-28T17:41:15.9724353Z ##[command]/usr/bin/docker logs --details 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:41:15.9849202Z  The files belonging to this database system will be owned by user "postgres".
2025-11-28T17:41:15.9850138Z  This user must also own the server process.
2025-11-28T17:41:15.9850758Z  
2025-11-28T17:41:15.9851198Z  The database cluster will be initialized with locale "en_US.utf8".
2025-11-28T17:41:15.9851931Z  The default database encoding has accordingly been set to "UTF8".
2025-11-28T17:41:15.9852676Z  The default text search configuration will be set to "english".
2025-11-28T17:41:15.9853207Z  
2025-11-28T17:41:15.9853498Z  Data page checksums are disabled.
2025-11-28T17:41:15.9853911Z  
2025-11-28T17:41:15.9854436Z  fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-11-28T17:41:15.9855152Z  creating subdirectories ... ok
2025-11-28T17:41:15.9855677Z  selecting dynamic shared memory implementation ... posix
2025-11-28T17:41:15.9856265Z  selecting default max_connections ... 100
2025-11-28T17:41:15.9856756Z  selecting default shared_buffers ... 128MB
2025-11-28T17:41:15.9857228Z  selecting default time zone ... Etc/UTC
2025-11-28T17:41:15.9858745Z  initdb: warning: enabling "trust" authentication for local connections
2025-11-28T17:41:15.9859437Z  initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-11-28T17:41:15.9860661Z  2025-11-28 17:38:38.460 UTC [1] LOG:  starting PostgreSQL 15.4 (Debian 15.4-2.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
2025-11-28T17:41:15.9861597Z  2025-11-28 17:38:38.460 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-11-28T17:41:15.9862011Z  2025-11-28 17:38:38.460 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-11-28T17:41:15.9862483Z  2025-11-28 17:38:38.461 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-11-28T17:41:15.9862957Z  2025-11-28 17:38:38.465 UTC [64] LOG:  database system was shut down at 2025-11-28 17:38:38 UTC
2025-11-28T17:41:15.9863398Z  2025-11-28 17:38:38.470 UTC [1] LOG:  database system is ready to accept connections
2025-11-28T17:41:15.9863791Z  2025-11-28 17:38:47.422 UTC [75] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9864127Z  2025-11-28 17:38:57.489 UTC [83] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9864454Z  2025-11-28 17:39:07.556 UTC [91] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9864796Z  2025-11-28 17:39:17.632 UTC [100] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9865128Z  2025-11-28 17:39:27.700 UTC [108] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9865454Z  2025-11-28 17:39:37.774 UTC [116] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9865781Z  2025-11-28 17:39:47.853 UTC [125] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9866099Z  2025-11-28 17:39:57.941 UTC [133] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9866420Z  2025-11-28 17:40:08.008 UTC [141] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9866824Z  2025-11-28 17:40:11.740 UTC [143] FATAL:  password authentication failed for user "memory"
2025-11-28T17:41:15.9867243Z  2025-11-28 17:40:11.740 UTC [143] DETAIL:  Role "memory" does not exist.
2025-11-28T17:41:15.9867644Z  	Connection matched pg_hba.conf line 100: "host all all all scram-sha-256"
2025-11-28T17:41:15.9868087Z  2025-11-28 17:40:11.915 UTC [144] FATAL:  password authentication failed for user "memory"
2025-11-28T17:41:15.9868649Z  2025-11-28 17:40:11.915 UTC [144] DETAIL:  Role "memory" does not exist.
2025-11-28T17:41:15.9869543Z  	Connection matched pg_hba.conf line 100: "host all all all scram-sha-256"
2025-11-28T17:41:15.9870485Z  2025-11-28 17:40:12.090 UTC [145] FATAL:  password authentication failed for user "memory"
2025-11-28T17:41:15.9871315Z  2025-11-28 17:40:12.090 UTC [145] DETAIL:  Role "memory" does not exist.
2025-11-28T17:41:15.9871733Z  	Connection matched pg_hba.conf line 100: "host all all all scram-sha-256"
2025-11-28T17:41:15.9872174Z  2025-11-28 17:40:12.266 UTC [146] FATAL:  password authentication failed for user "memory"
2025-11-28T17:41:15.9872574Z  2025-11-28 17:40:12.266 UTC [146] DETAIL:  Role "memory" does not exist.
2025-11-28T17:41:15.9872963Z  	Connection matched pg_hba.conf line 100: "host all all all scram-sha-256"
2025-11-28T17:41:15.9873400Z  2025-11-28 17:40:12.443 UTC [147] FATAL:  password authentication failed for user "memory"
2025-11-28T17:41:15.9873794Z  2025-11-28 17:40:12.443 UTC [147] DETAIL:  Role "memory" does not exist.
2025-11-28T17:41:15.9874179Z  	Connection matched pg_hba.conf line 100: "host all all all scram-sha-256"
2025-11-28T17:41:15.9874560Z  2025-11-28 17:40:18.075 UTC [155] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9874907Z  2025-11-28 17:40:28.138 UTC [163] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9875239Z  2025-11-28 17:40:38.205 UTC [171] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9875560Z  2025-11-28 17:40:48.268 UTC [180] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9875888Z  2025-11-28 17:40:58.331 UTC [188] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9876212Z  2025-11-28 17:41:08.409 UTC [196] FATAL:  role "root" does not exist
2025-11-28T17:41:15.9876507Z  creating configuration files ... ok
2025-11-28T17:41:15.9876751Z  running bootstrap script ... ok
2025-11-28T17:41:15.9877018Z  performing post-bootstrap initialization ... ok
2025-11-28T17:41:15.9877291Z  syncing data to disk ... ok
2025-11-28T17:41:15.9877618Z  
2025-11-28T17:41:15.9877759Z  
2025-11-28T17:41:15.9877964Z  Success. You can now start the database server using:
2025-11-28T17:41:15.9878227Z  
2025-11-28T17:41:15.9878429Z      pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-11-28T17:41:15.9878682Z  
2025-11-28T17:41:15.9879216Z  waiting for server to start....2025-11-28 17:38:38.108 UTC [48] LOG:  starting PostgreSQL 15.4 (Debian 15.4-2.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
2025-11-28T17:41:15.9879950Z  2025-11-28 17:38:38.111 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-11-28T17:41:15.9880659Z  2025-11-28 17:38:38.114 UTC [51] LOG:  database system was shut down at 2025-11-28 17:38:38 UTC
2025-11-28T17:41:15.9881095Z  2025-11-28 17:38:38.119 UTC [48] LOG:  database system is ready to accept connections
2025-11-28T17:41:15.9881406Z   done
2025-11-28T17:41:15.9881561Z  server started
2025-11-28T17:41:15.9881737Z  CREATE DATABASE
2025-11-28T17:41:15.9881903Z  
2025-11-28T17:41:15.9882038Z  
2025-11-28T17:41:15.9882322Z  /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-11-28T17:41:15.9882666Z  
2025-11-28T17:41:15.9882969Z  waiting for server to shut down...2025-11-28 17:38:38.337 UTC [48] LOG:  received fast shutdown request
2025-11-28T17:41:15.9883417Z  .2025-11-28 17:38:38.338 UTC [48] LOG:  aborting any active transactions
2025-11-28T17:41:15.9883902Z  2025-11-28 17:38:38.340 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-11-28T17:41:15.9884349Z  2025-11-28 17:38:38.341 UTC [49] LOG:  shutting down
2025-11-28T17:41:15.9884682Z  2025-11-28 17:38:38.341 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-11-28T17:41:15.9885473Z  2025-11-28 17:38:38.369 UTC [49] LOG:  checkpoint complete: wrote 918 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.024 s, sync=0.002 s, total=0.029 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4223 kB, estimate=4223 kB
2025-11-28T17:41:15.9886248Z  2025-11-28 17:38:38.376 UTC [48] LOG:  database system is shut down
2025-11-28T17:41:15.9886523Z   done
2025-11-28T17:41:15.9886678Z  server stopped
2025-11-28T17:41:15.9886843Z  
2025-11-28T17:41:15.9887042Z  PostgreSQL init process complete; ready for start up.
2025-11-28T17:41:15.9887446Z  
2025-11-28T17:41:15.9893436Z Stop and remove container: aa1fc07f613a4f0eaca5b56801366abe_ankanepgvectorlatest_1b6e4c
2025-11-28T17:41:15.9898251Z ##[command]/usr/bin/docker rm --force 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:41:16.1289706Z 1c4ea4487e51efa38e1df29ffac7c3e1ceb176230dfd84315eb377f828aeef1e
2025-11-28T17:41:16.1311319Z Print service container logs: c23bca7ab22e4591a773e1be28414bf1_redis7alpine_ca17f7
2025-11-28T17:41:16.1312409Z ##[command]/usr/bin/docker logs --details 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:41:16.1437171Z  1:C 28 Nov 2025 17:38:38.592 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
2025-11-28T17:41:16.1439689Z  1:C 28 Nov 2025 17:38:38.592 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
2025-11-28T17:41:16.1440505Z  1:C 28 Nov 2025 17:38:38.592 * Redis version=7.4.7, bits=64, commit=00000000, modified=0, pid=1, just started
2025-11-28T17:41:16.1441250Z  1:C 28 Nov 2025 17:38:38.592 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
2025-11-28T17:41:16.1441856Z  1:M 28 Nov 2025 17:38:38.593 * monotonic clock: POSIX clock_gettime
2025-11-28T17:41:16.1442214Z  1:M 28 Nov 2025 17:38:38.593 * Running mode=standalone, port=6379.
2025-11-28T17:41:16.1442876Z  1:M 28 Nov 2025 17:38:38.593 * Server initialized
2025-11-28T17:41:16.1443181Z  1:M 28 Nov 2025 17:38:38.593 * Ready to accept connections tcp
2025-11-28T17:41:16.1449599Z Stop and remove container: c23bca7ab22e4591a773e1be28414bf1_redis7alpine_ca17f7
2025-11-28T17:41:16.1450640Z ##[command]/usr/bin/docker rm --force 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:41:16.2867359Z 5e6fe9956a9008d295d0031d15a97c20dec8058615d17ef03a2550cfea220395
2025-11-28T17:41:16.2882029Z Print service container logs: 028ff59618a54bcabda7a45830ba34c4_qdrantqdrantlatest_ce30f2
2025-11-28T17:41:16.2882744Z ##[command]/usr/bin/docker logs --details 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:41:16.3005062Z             _                 _    
2025-11-28T17:41:16.3005587Z    __ _  __| |_ __ __ _ _ __ | |_  
2025-11-28T17:41:16.3005982Z   / _` |/ _` | '__/ _` | '_ \| __| 
2025-11-28T17:41:16.3006382Z  | (_| | (_| | | | (_| | | | | |_  
2025-11-28T17:41:16.3006759Z   \__, |\__,_|_|  \__,_|_| |_|\__| 
2025-11-28T17:41:16.3007149Z      |_|                           
2025-11-28T17:41:16.3007500Z  
2025-11-28T17:41:16.3007766Z  Version: 1.16.1, build: e293ab1f
2025-11-28T17:41:16.3008264Z  Access web UI at http://localhost:6333/dashboard
2025-11-28T17:41:16.3008744Z  
2025-11-28T17:41:16.3009744Z  2025-11-28T17:38:41.270574Z  WARN qdrant: There is a potential issue with the filesystem for storage path ./storage. Details: Container filesystem detected - storage might be lost with container re-creation
2025-11-28T17:41:16.3011044Z  2025-11-28T17:38:41.270663Z  INFO storage::content_manager::consensus::persistent: Initializing new raft state at ./storage/raft_state.json
2025-11-28T17:41:16.3011655Z  2025-11-28T17:38:41.275126Z  INFO qdrant: Distributed mode disabled
2025-11-28T17:41:16.3012174Z  2025-11-28T17:38:41.275161Z  INFO qdrant: Telemetry reporting enabled, id: 9df4b5f9-def1-4f2f-8caa-2721ce2c5677
2025-11-28T17:41:16.3012712Z  2025-11-28T17:38:41.288810Z  INFO qdrant::actix: TLS disabled for REST API
2025-11-28T17:41:16.3013142Z  2025-11-28T17:38:41.288935Z  INFO qdrant::actix: Qdrant HTTP listening on 6333
2025-11-28T17:41:16.3013562Z  2025-11-28T17:38:41.288985Z  INFO actix_server::builder: starting 3 workers
2025-11-28T17:41:16.3014314Z  2025-11-28T17:38:41.289033Z  INFO actix_server::server: Actix runtime found; starting in Actix runtime
2025-11-28T17:41:16.3015047Z  2025-11-28T17:38:41.289053Z  INFO actix_server::server: starting service: "actix-web-service-0.0.0.0:6333", workers: 3, listening on: 0.0.0.0:6333
2025-11-28T17:41:16.3015675Z  2025-11-28T17:38:41.292926Z  INFO qdrant::tonic: Qdrant gRPC listening on 6334
2025-11-28T17:41:16.3016101Z  2025-11-28T17:38:41.292951Z  INFO qdrant::tonic: TLS disabled for gRPC API
2025-11-28T17:41:16.3020506Z Stop and remove container: 028ff59618a54bcabda7a45830ba34c4_qdrantqdrantlatest_ce30f2
2025-11-28T17:41:16.3021165Z ##[command]/usr/bin/docker rm --force 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:41:16.4272835Z 017eb394c15e643c237e608a7de409927c0fcb174684bd9b09bc1523bdbc31e3
2025-11-28T17:41:16.4298339Z Remove container network: github_network_66eebfb5c2b64827b3a02d2702f3d7a7
2025-11-28T17:41:16.4303318Z ##[command]/usr/bin/docker network rm github_network_66eebfb5c2b64827b3a02d2702f3d7a7
2025-11-28T17:41:16.5477643Z github_network_66eebfb5c2b64827b3a02d2702f3d7a7
2025-11-28T17:41:16.5537448Z Cleaning up orphan processes
